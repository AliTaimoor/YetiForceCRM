{"version":3,"file":"Calendar.min.js","sources":["Calendar.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/** Class representing a calendar. */\nwindow.Calendar_Js = class {\n\tstatic monthFormat = {\n\t\t'yyyy-mm-dd': 'YYYY-MMMM',\n\t\t'mm-dd-yyyy': 'MMMM-YYYY',\n\t\t'dd-mm-yyyy': 'MMMM-YYYY',\n\t\t'yyyy.mm.dd': 'YYYY.MMMM',\n\t\t'mm.dd.yyyy': 'MMMM.YYYY',\n\t\t'dd.mm.yyyy': 'MMMM.YYYY',\n\t\t'yyyy/mm/dd': 'YYYY/MMMM',\n\t\t'mm/dd/yyyy': 'MMMM/YYYY',\n\t\t'dd/mm/yyyy': 'MMMM/YYYY'\n\t};\n\tstatic viewsNamesMap = {\n\t\tmonth: 'dayGridMonth',\n\t\tbasicWeek: 'dayGridWeek',\n\t\tbasicDay: 'dayGridDay',\n\t\ttimeGridWeek: 'timeGridWeek',\n\t\ttimeGridDay: 'timeGridDay'\n\t};\n\tstatic viewsNamesLabels = {\n\t\tdayGridMonth: 'month',\n\t\tdayGridWeek: 'week',\n\t\tdayGridDay: 'day',\n\t\tlistWeek: 'week',\n\t\ttimeGridWeek: 'week',\n\t\ttimeGridDay: 'day'\n\t};\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t * @param {boolean} browserHistory\n\t */\n\tconstructor(container = $('.js-base-container'), readonly = false, browserHistory = true) {\n\t\tthis.calendarCreateView = false;\n\t\tthis.container = container;\n\t\tthis.calendarView = container.find('.js-calendar__container');\n\t\tthis.readonly = readonly;\n\t\tthis.eventCreate = app.getMainParams('eventCreate');\n\t\tthis.eventEdit = app.getMainParams('eventEdit');\n\t\tthis.browserHistory = !readonly && browserHistory;\n\t\tthis.sidebarView = {\n\t\t\tlength: 0\n\t\t};\n\t\tthis.startHour = app.getMainParams('startHour');\n\t\tthis.endHour = app.getMainParams('endHour');\n\t\tif (this.startHour == '') {\n\t\t\tthis.startHour = '00';\n\t\t}\n\t\tif (this.endHour == '') {\n\t\t\tthis.endHour = '00';\n\t\t}\n\t\tthis.browserHistoryOptions = {};\n\t\tthis.browserHistoryConfig = this.browserHistory ? this.setBrowserHistoryOptions() : {};\n\t\tthis.calendarOptions = this.setCalendarOptions();\n\t\tthis.eventTypeKeyName = false;\n\t\tthis.module = app.getModuleName();\n\n\t\tapp.event.on('QuickEdit.AfterSaveFinal', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Set calendar's options.\n\t * @returns {object}\n\t */\n\tsetCalendarOptions() {\n\t\treturn Object.assign(\n\t\t\tthis.setCalendarBasicOptions(),\n\t\t\tthis.setCalendarAdvancedOptions(),\n\t\t\tthis.setCalendarModuleOptions(),\n\t\t\tthis.browserHistoryOptions\n\t\t);\n\t}\n\t/**\n\t * Set calendar's basic options.\n\t * @returns {object}\n\t */\n\tsetCalendarBasicOptions() {\n\t\tlet eventLimit = app.getMainParams('eventLimit'),\n\t\t\tuserView = app.getMainParams('activity_view'),\n\t\t\tdefaultView = app.moduleCacheGet('defaultView'),\n\t\t\tuserTimeFormat = CONFIG.hourFormat;\n\t\tif (eventLimit == 'true') {\n\t\t\teventLimit = true;\n\t\t} else if (eventLimit == 'false') {\n\t\t\teventLimit = false;\n\t\t} else {\n\t\t\teventLimit = parseInt(eventLimit) + 1;\n\t\t}\n\t\tif (userView === 'Today') {\n\t\t\tuserView = app.getMainParams('dayView');\n\t\t} else if (userView === 'This Week') {\n\t\t\tuserView = app.getMainParams('weekView');\n\t\t} else if (userView === 'This Year') {\n\t\t\tuserView = 'year';\n\t\t} else {\n\t\t\tuserView = 'dayGridMonth';\n\t\t}\n\t\tif (defaultView != null) {\n\t\t\tuserView = defaultView;\n\t\t}\n\t\tif (userTimeFormat == 24) {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n\t\t\t\thour12: false,\n\t\t\t\tmeridiem: false\n\t\t\t};\n\t\t} else {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: 'numeric',\n\t\t\t\tminute: '2-digit',\n\t\t\t\tmeridiem: 'short'\n\t\t\t};\n\t\t}\n\n\t\tlet options = {\n\t\t\teventTimeFormat: userTimeFormat,\n\t\t\tslotLabelFormat: userTimeFormat,\n\t\t\tinitialView: Calendar_Js.viewsNamesMap[userView] ? Calendar_Js.viewsNamesMap[userView] : userView,\n\t\t\tforceEventDuration: true,\n\t\t\tdefaultTimedEventDuration: '01:00:00',\n\t\t\tdayMaxEvents: eventLimit,\n\t\t\tselectMirror: true,\n\t\t\tslotDuration: '00:15:00',\n\t\t\tnowIndicator: true,\n\t\t\tscrollTime: this.startHour + ':00'\n\t\t};\n\t\tif (app.moduleCacheGet('start') !== null && app.moduleCacheGet('start') !== undefined) {\n\t\t\ttry {\n\t\t\t\tlet s = App.Fields.Date.getDateInstance(app.moduleCacheGet('start'));\n\t\t\t\tlet e = App.Fields.Date.getDateInstance(app.moduleCacheGet('end'));\n\t\t\t\toptions.initialDate = App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2));\n\t\t\t} catch (_error) {\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'start');\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'end');\n\t\t\t}\n\t\t}\n\n\t\treturn Object.assign(this.setCalendarMinimalOptions(), options);\n\t}\n\t/**\n\t * Set calendar's minimal options.\n\t * @returns {object}\n\t */\n\tsetCalendarMinimalOptions() {\n\t\tlet hiddenDays = [];\n\t\tif (app.getMainParams('switchingDays') === 'workDays') {\n\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t}\n\t\treturn {\n\t\t\tnavLinks: true,\n\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\tselectable: true,\n\t\t\thiddenDays: hiddenDays,\n\t\t\tmoreLinkContent: app.vtranslate('JS_MORE'),\n\t\t\tallDayText: app.vtranslate('JS_ALL_DAY'),\n\t\t\tnoEventsText: app.vtranslate('JS_NO_RECORDS'),\n\t\t\tbuttonText: {\n\t\t\t\ttoday: '',\n\t\t\t\tyear: app.vtranslate('JS_YEAR'),\n\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tday: app.vtranslate('JS_DAY'),\n\t\t\t\tdayGridMonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tdayGridWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tlistWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tdayGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\ttimeGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\tlist: app.vtranslate('JS_CALENDAR_LIST')\n\t\t\t},\n\t\t\tbuttonHints: {\n\t\t\t\tprev(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_PREV')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\tnext(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_NEXT')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\ttoday(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_CURRENT')} ${buttonText}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\tviewHint: '$0',\n\t\t\tnavLinkHint: (_dateStr, zonedDate) => {\n\t\t\t\treturn App.Fields.Date.dateToUserFormat(zonedDate);\n\t\t\t},\n\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\tif (this.container.width() < 600) {\n\t\t\t\t\treturn App.Fields.Date.daysTranslated[arg.date.getUTCDay()];\n\t\t\t\t}\n\t\t\t\treturn App.Fields.Date.fullDaysTranslated[arg.date.getUTCDay()];\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar's advanced options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\teditable: !this.readonly && this.eventEdit == 1,\n\t\t\tselectable: !this.readonly && this.eventCreate == 1,\n\t\t\theaderToolbar: {\n\t\t\t\tleft: 'dayGridMonth,' + app.getMainParams('weekView') + ',' + app.getMainParams('dayView'),\n\t\t\t\tcenter: 'title,today',\n\t\t\t\tright: 'prev,next'\n\t\t\t},\n\t\t\tallDaySlot: app.getMainParams('allDaySlot'),\n\t\t\tviews: {\n\t\t\t\tbasic: {\n\t\t\t\t\tdayMaxEvents: false\n\t\t\t\t},\n\t\t\t\tdayGridMonth: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'month');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'week');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridDay: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'day');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlistWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'week');\n\t\t\t\t\t},\n\t\t\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\thtml: `<span class=\"fc-list-day-text\">${App.Fields.Date.fullDaysTranslated[arg.date.getDay()]}</span>\n\t\t\t\t\t\t\t<span class=\"fc-list-day-side-text\">${App.Fields.Date.dateToUserFormat(arg.date)}</span>`\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbasicDay: {\n\t\t\t\t\ttype: 'timeGridDay'\n\t\t\t\t}\n\t\t\t},\n\t\t\teventDrop: self.updateEvent,\n\t\t\teventResize: self.updateEvent,\n\t\t\tdatesSet: (dateInfo) => {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tself.loadCalendarData();\n\t\t\t},\n\t\t\teventContent: self.eventRenderer,\n\t\t\theight: this.setCalendarHeight()\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {};\n\t}\n\t/**\n\t * Invokes FullCalendar with options.\n\t */\n\trenderCalendar() {\n\t\tthis.fullCalendar = new FullCalendar.Calendar(this.calendarView.get(0), this.calendarOptions);\n\t\tthis.fullCalendar.render();\n\t\tthis.registerViewRenderEvents();\n\t}\n\t/**\n\t * Get calendar container.\n\t * @returns {(boolean|jQuery)}\n\t */\n\tgetCalendarView() {\n\t\tif (!this.calendarView) {\n\t\t\tthis.calendarView = this.container.find('.js-calendar__container');\n\t\t}\n\t\treturn this.calendarView;\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst defaultParams = this.getDefaultParams();\n\t\tthis.fullCalendar.removeAllEvents();\n\t\tif (!defaultParams.emptyFilters) {\n\t\t\tconst progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\t\tthis.fullCalendar.addEventSource(events.result);\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tthis.loadCalendarData();\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: string, action: string, mode: string, start: string, end: string, user: *, cvid: int, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet users = app.moduleCacheGet('calendar-users') || CONFIG.userId,\n\t\t\tsideBar = this.getSidebarView(),\n\t\t\tfilters = [],\n\t\t\tparams = {\n\t\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\t\taction: 'Calendar',\n\t\t\t\tmode: 'getEvents',\n\t\t\t\tstart: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeStart),\n\t\t\t\tend: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeEnd),\n\t\t\t\tuser: users,\n\t\t\t\tcvid: this.getCurrentCvId(),\n\t\t\t\temptyFilters: users.length === 0\n\t\t\t};\n\t\tsideBar.find('.calendarFilters .filterField').each(function () {\n\t\t\tlet element = $(this),\n\t\t\t\tname,\n\t\t\t\tvalue;\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tname = element.val();\n\t\t\t\tvalue = element.prop('checked') ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tname = element.attr('name');\n\t\t\t\tvalue = element.val();\n\t\t\t}\n\t\t\tfilters.push({ name: name, value: value });\n\t\t});\n\t\tif (filters.length) {\n\t\t\tparams.filters = filters;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name && cacheName && app.moduleCacheGet(cacheName)) {\n\t\t\t\tparams[name] = app.moduleCacheGet(cacheName);\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-filter__container_checkbox_list').each((_, e) => {\n\t\t\tlet filters = [];\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\telement.find('.js-filter__item__val:checked').each(function () {\n\t\t\t\tfilters.push($(this).val());\n\t\t\t});\n\t\t\tif (name) {\n\t\t\t\tparams[name] = filters;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-calendar__filter__select').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.attr('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name) {\n\t\t\t\tparams[name] = cacheName && app.moduleCacheGet(cacheName) ? app.moduleCacheGet(cacheName) : element.val();\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\treturn params;\n\t}\n\t/**\n\t * Converts the date format.\n\t * @param {object} date\n\t * @param {string} type\n\t * @returns {string}\n\t */\n\tformatDate(date, type) {\n\t\tswitch (type) {\n\t\t\tcase 'month':\n\t\t\t\treturn Calendar_Js.monthFormat[CONFIG.dateFormat]\n\t\t\t\t\t.replace('YYYY', date['year'])\n\t\t\t\t\t.replace('MMMM', App.Fields.Date.fullMonthsTranslated[date['month']]);\n\t\t\tcase 'week':\n\t\t\t\treturn CONFIG.dateFormat\n\t\t\t\t\t.replace('yyyy', date['year'])\n\t\t\t\t\t.replace('mm', App.Fields.Date.monthsTranslated[date['month']])\n\t\t\t\t\t.replace('dd', date['day'] + ' - ' + (date['day'] + 7));\n\t\t\tcase 'day':\n\t\t\t\treturn CONFIG.dateFormat\n\t\t\t\t\t.replace('yyyy', date['year'])\n\t\t\t\t\t.replace('mm', App.Fields.Date.monthsTranslated[date['month']])\n\t\t\t\t\t.replace('dd', date['day']);\n\t\t}\n\t}\n\t/**\n\t * Update calendar's event.\n\t * @param {Object} info\n\t */\n\tupdateEvent(info) {\n\t\tconst progressInstance = jQuery.progressIndicator({ blockInfo: { enabled: true } });\n\t\tAppConnector.request({\n\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'updateEvent',\n\t\t\tid: info.event.id,\n\t\t\tstart: App.Fields.DateTime.dateToUserFormat(info.event.start),\n\t\t\tend: App.Fields.DateTime.dateToUserFormat(info.event.end),\n\t\t\tallDay: info.event.allDay\n\t\t})\n\t\t\t.done(function (response) {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (!response['result']) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tinfo.revert();\n\t\t\t\t} else {\n\t\t\t\t\twindow.popoverCache = {};\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\tinfo.revert();\n\t\t\t});\n\t}\n\t/**\n\t * Render event.\n\t * @param {Object} arg\n\t * @returns {Object}\n\t */\n\teventRenderer(arg) {\n\t\tif (arg.event.display === 'background') {\n\t\t\treturn {\n\t\t\t\thtml: `<span class=\"${arg.event.extendedProps.icon} js-popover-icon mr-1\"></span>${arg.event._def.title}`\n\t\t\t};\n\t\t}\n\t}\n\t/**\n\t * Returns counted calendar height.\n\t * @returns {(number|string)}\n\t */\n\tsetCalendarHeight() {\n\t\tlet defaultHeightValue = 'auto';\n\t\tif ($(window).width() > 993) {\n\t\t\tlet calendarPadding;\n\t\t\tif (this.container.hasClass('js-modal-container')) {\n\t\t\t\tcalendarPadding = this.container.find('.js-modal-header').outerHeight(); // modal needs bigger padding to prevent modal's scrollbar\n\t\t\t} else {\n\t\t\t\tcalendarPadding = this.container.find('.js-contents-div').css('margin-left').replace('px', ''); //equals calendar padding bottom to left margin\n\t\t\t}\n\t\t\tlet setCalendarH = () => {\n\t\t\t\treturn (\n\t\t\t\t\t$(window).height() -\n\t\t\t\t\tthis.container.find('.js-calendar__container').offset().top -\n\t\t\t\t\t$('.js-footer').height() -\n\t\t\t\t\tcalendarPadding\n\t\t\t\t);\n\t\t\t};\n\t\t\tdefaultHeightValue = setCalendarH();\n\t\t\tnew ResizeSensor(this.container.find('.contentsDiv'), () => {\n\t\t\t\tlet currentHeight = setCalendarH();\n\t\t\t\tif (currentHeight !== defaultHeightValue) {\n\t\t\t\t\tthis.fullCalendar.setOption('height', currentHeight);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn defaultHeightValue;\n\t}\n\t/**\n\t * Set calendar options from browser history.\n\t * @returns {object}\n\t */\n\tsetBrowserHistoryOptions() {\n\t\tconst historyParams = app.getMainParams('historyParams', true);\n\t\tlet options = {};\n\t\tif (historyParams && (historyParams.length || Object.keys(historyParams).length)) {\n\t\t\tlet s = App.Fields.Date.getDateInstance(historyParams.start);\n\t\t\tlet e = App.Fields.Date.getDateInstance(historyParams.end);\n\t\t\tthis.browserHistoryOptions = {\n\t\t\t\tinitialView: historyParams.viewType,\n\t\t\t\tinitialDate: App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2)),\n\t\t\t\thiddenDays: historyParams.hiddenDays.split(',').map((x) => {\n\t\t\t\t\tlet parsedValue = parseInt(x);\n\t\t\t\t\treturn isNaN(parsedValue) ? '' : parsedValue;\n\t\t\t\t})\n\t\t\t};\n\t\t\toptions = {\n\t\t\t\tstart: historyParams.start,\n\t\t\t\tend: historyParams.end,\n\t\t\t\ttime: historyParams.time,\n\t\t\t\tuser: historyParams.user,\n\t\t\t\tcvid: historyParams.cvid\n\t\t\t};\n\t\t\tObject.keys(options).forEach((key) => options[key] === 'undefined' && delete options[key]);\n\t\t\tObject.keys(this.browserHistoryOptions).forEach(\n\t\t\t\t(key) => this.browserHistoryOptions[key] === 'undefined' && delete this.browserHistoryOptions[key]\n\t\t\t);\n\t\t\tapp.moduleCacheSet('browserHistoryEvent', false);\n\t\t\tif (historyParams.cvid && historyParams.cvid !== 'undefined') {\n\t\t\t\tapp.moduleCacheSet('CurrentCvId', historyParams.cvid);\n\t\t\t}\n\t\t\tapp.setMainParams('showType', options.time);\n\t\t\tapp.setMainParams('usersId', options.user);\n\t\t\tapp.setMainParams('defaultView', this.browserHistoryOptions);\n\t\t}\n\t\twindow.addEventListener(\n\t\t\t'popstate',\n\t\t\tfunction () {\n\t\t\t\tapp.moduleCacheSet('browserHistoryEvent', true);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\treturn options;\n\t}\n\t/**\n\t * Register filters\n\t */\n\tregisterFilters() {\n\t\tlet sideBar = this.getSidebarView();\n\t\tif (!sideBar || sideBar.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, row) => {\n\t\t\tlet formContainer = $(row);\n\t\t\tthis.registerUsersChange(formContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(formContainer.find('select'));\n\t\t\tlet body = formContainer.find('.js-sidebar-filter-body');\n\t\t\tif (body.length) {\n\t\t\t\tapp.showNewScrollbar(body, {\n\t\t\t\t\tsuppressScrollX: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerFilterForm(formContainer);\n\t\t});\n\t\tthis.registerSelectAll(sideBar);\n\t\tif (app.moduleCacheGet('CurrentCvId') !== null) {\n\t\t\tthis.container\n\t\t\t\t.find('.js-calendar__extended-filter-tab [data-cvid=\"' + app.moduleCacheGet('CurrentCvId') + '\"] a')\n\t\t\t\t.addClass('active');\n\t\t}\n\t}\n\t/**\n\t * Register filter for users and groups\n\t * @param {jQuery} container\n\t */\n\tregisterFilterForm(container) {\n\t\tconst self = this;\n\t\tif (container.find('.js-filter__search').length) {\n\t\t\tcontainer.find('.js-filter__search').on('keyup', this.findElementOnList.bind(self));\n\t\t}\n\t\tcontainer.find('.js-calendar__filter__select, .filterField').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tname &&\n\t\t\t\telement.length > 0 &&\n\t\t\t\tcachedValue === undefined &&\n\t\t\t\t!element.find(':selected').length &&\n\t\t\t\telement.data('selected') !== 0\n\t\t\t) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t\telement.off('change');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(element);\n\t\t\telement.on('change', (e) => {\n\t\t\t\tlet item = $(e.currentTarget);\n\t\t\t\tlet value = item.val();\n\t\t\t\tif (value == null) {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\t\t\t\tif (item.attr('type') == 'checkbox') {\n\t\t\t\t\tvalue = element.is(':checked');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(item.data('cache'), value);\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t\t});\n\t\tcontainer\n\t\t\t.find('.js-filter__container_checkbox_list .js-filter__item__val')\n\t\t\t.off('change')\n\t\t\t.on('change', (e) => {\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t}\n\t/**\n\t * Find element on list (user, group)\n\t * @param {jQuery.Event} e\n\t */\n\tfindElementOnList(e) {\n\t\tconst target = $(e.target),\n\t\t\tvalue = target.val().toLowerCase(),\n\t\t\tcontainer = target.closest('.js-filter__container');\n\t\tcontainer.find('.js-filter__item__value').filter(function () {\n\t\t\tlet item = $(this).closest('.js-filter__item__container');\n\t\t\tif ($(this).text().trim().toLowerCase().indexOf(value) > -1) {\n\t\t\t\titem.removeClass('d-none');\n\t\t\t} else {\n\t\t\t\titem.addClass('d-none');\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register users change\n\t * @param {jQuery} formContainer\n\t */\n\tregisterUsersChange(formContainer) {\n\t\tformContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id').on('change', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register change on select all checkbox\n\t * @param {jQuery} formContainer\n\t */\n\tregisterSelectAll(formContainer) {\n\t\tformContainer.find('.js-select-all').on('change', (e) => {\n\t\t\tlet checkboxSelectAll = $(e.currentTarget);\n\t\t\tlet checkboxes = formContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id');\n\t\t\tif (checkboxSelectAll.is(':checked')) {\n\t\t\t\tcheckboxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcheckboxes.prop('checked', false);\n\t\t\t\tformContainer.find('#ownerId' + CONFIG.userId).prop('checked', true);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register sidebar events.\n\t */\n\tregisterSidebarEvents() {\n\t\t$('.bodyContents').on('Vtiger.Widget.Load.undefined', () => {\n\t\t\tthis.registerSelect2Event();\n\t\t});\n\t}\n\t/**\n\t * Get sidebar view panel\n\t * @returns {jQuery}\n\t */\n\tgetSidebarView() {\n\t\tif (!this.sidebarView || !this.sidebarView.length) {\n\t\t\tthis.sidebarView = this.container.find('.js-calendar-right-panel');\n\t\t}\n\t\treturn this.sidebarView;\n\t}\n\t/**\n\t * Get current cv id\n\t * @returns {int}\n\t */\n\tgetCurrentCvId() {\n\t\tlet tab = $('.js-calendar__container .js-calendar__extended-filter-tab');\n\t\tif (tab.length === 0) {\n\t\t\ttab = $('.js-calendar__header-buttons .js-calendar__extended-filter-tab');\n\t\t}\n\t\treturn tab.find('.active').parent().data('cvid');\n\t}\n\t/**\n\t * Register select2 event.\n\t */\n\tregisterSelect2Event() {\n\t\tconst self = this;\n\t\t$('.siteBarRight .js-calendar__filter__select').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (element.length > 0 && cachedValue === undefined && !element.find(':selected').length) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((_i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t});\n\t\tlet selectsElements = $('.siteBarRight .select2, .siteBarRight .filterField');\n\t\tselectsElements.off('change');\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectsElements);\n\t\tselectsElements.on('change', function () {\n\t\t\tlet element = $(this);\n\t\t\tlet value = element.val();\n\t\t\tif (value == null) {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tvalue = element.is(':checked');\n\t\t\t}\n\t\t\tapp.moduleCacheSet(element.data('cache'), value);\n\t\t\tself.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register button select all.\n\t */\n\tregisterButtonSelectAll() {\n\t\t$('.selectAllBtn').on('click', function () {\n\t\t\tconst selectAllLabel = $(this).find('.selectAll'),\n\t\t\t\tdeselectAllLabel = $(this).find('.deselectAll');\n\t\t\tif (selectAllLabel.hasClass('d-none')) {\n\t\t\t\tselectAllLabel.removeClass('d-none');\n\t\t\t\tdeselectAllLabel.addClass('d-none');\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', false);\n\t\t\t} else {\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', true);\n\t\t\t\tdeselectAllLabel.removeClass('d-none');\n\t\t\t\tselectAllLabel.addClass('d-none');\n\t\t\t}\n\t\t\t$(this).closest('.quickWidget').find('select').trigger('change');\n\t\t});\n\t}\n\t/**\n\t * Register add button.\n\t */\n\tregisterAddButton() {\n\t\t$('.js-add').on('click', () => {\n\t\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\tthis.reloadCalendarData();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Get calendar create view.\n\t * @returns {promise}\n\t */\n\tgetCalendarCreateView() {\n\t\tconst self = this,\n\t\t\taDeferred = jQuery.Deferred();\n\t\tif (this.calendarCreateView !== false) {\n\t\t\taDeferred.resolve(this.calendarCreateView);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tlet progressInstance = jQuery.progressIndicator();\n\t\tthis.loadCalendarCreateView()\n\t\t\t.done(function (data) {\n\t\t\t\tprogressInstance.hide();\n\t\t\t\tself.calendarCreateView = data;\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.hide();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Load calendar create view.\n\t * @returns {promise}\n\t */\n\tloadCalendarCreateView() {\n\t\tconst aDeferred = jQuery.Deferred(),\n\t\t\tmoduleName = app.getModuleName();\n\t\tApp.Components.QuickCreate.getForm('index.php?module=' + moduleName + '&view=QuickCreateAjax', moduleName)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Function invokes by FullCalendar, sets selected days in form\n\t * @param info\n\t */\n\tselectDays(info) {\n\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tthis.selectCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t */\n\tselectCallbackCreateModal(modal, info) {\n\t\tlet startDate = info.start,\n\t\t\tendDate = info.end;\n\t\tif (info['allDay']) {\n\t\t\tendDate.setDate(endDate.getDate() - 1);\n\t\t}\n\t\tif (info['allDay']) {\n\t\t\tlet startDateSplitted = this.startHour.split(':');\n\t\t\tlet endDateSplitted = this.endHour.split(':');\n\t\t\tstartDate.setHours(startDateSplitted[0], startDateSplitted[1]);\n\t\t\tendDate.setHours(endDateSplitted[0], endDateSplitted[1]);\n\t\t\tif (startDate.toDateString() === endDate.toDateString()) {\n\t\t\t\tlet activityType = modal.find('[name=\"activitytype\"]').val();\n\t\t\t\tlet activityDurations = JSON.parse(modal.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\tlet minutes = 60;\n\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (minutes) {\n\t\t\t\t\tendDate.setMinutes(endDate.getMinutes() + minutes);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet dateFormat = CONFIG.dateFormat;\n\t\tlet timeFormat = CONFIG.hourFormat;\n\t\tlet dateField = modal.find('[name=\"date_start\"]');\n\t\tif (dateField.length) {\n\t\t\tdateFormat = dateField.data('dateFormat');\n\t\t}\n\t\tlet timeField = modal.find('[name=\"time_start\"]');\n\t\tif (timeField.length) {\n\t\t\ttimeFormat = timeField.data('format');\n\t\t}\n\t\tlet defaultTimeFormat = '';\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t} else {\n\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(App.Fields.Date.dateToUserFormat(startDate, dateFormat));\n\t\tmodal.find('[name=\"due_date\"]').val(App.Fields.Date.dateToUserFormat(endDate, dateFormat));\n\t\tif (modal.find('.js-autofill').prop('checked') === true) {\n\t\t\tCalendar_Edit_Js.getInstance().getFreeTime(modal);\n\t\t} else {\n\t\t\tmodal.find('[name=\"time_start\"]').val(moment(startDate).format(defaultTimeFormat));\n\t\t\tmodal.find('[name=\"time_end\"]').val(moment(endDate).format(defaultTimeFormat));\n\t\t}\n\t}\n\t/**\n\t * Register events.\n\t */\n\tregisterEvents() {\n\t\tthis.registerFilters();\n\t\tthis.registerSidebarEvents();\n\t\tthis.renderCalendar();\n\t\tthis.registerButtonSelectAll();\n\t\tthis.registerAddButton();\n\t}\n};\n"],"names":["_class","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","value","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","window","Calendar_Js","_this","container","arguments","$","readonly","browserHistory","calendarCreateView","calendarView","find","eventCreate","app","getMainParams","eventEdit","sidebarView","startHour","endHour","browserHistoryOptions","browserHistoryConfig","setBrowserHistoryOptions","calendarOptions","setCalendarOptions","eventTypeKeyName","module","getModuleName","event","on","reloadCalendarData","assign","setCalendarBasicOptions","setCalendarAdvancedOptions","setCalendarModuleOptions","eventLimit","userView","defaultView","moduleCacheGet","userTimeFormat","CONFIG","hourFormat","parseInt","hour","minute","hour12","meridiem","options","eventTimeFormat","slotLabelFormat","initialView","viewsNamesMap","forceEventDuration","defaultTimedEventDuration","dayMaxEvents","selectMirror","slotDuration","nowIndicator","scrollTime","s","App","Fields","Date","getDateInstance","e","initialDate","dateToDbFormat","_error","cacheClear","setCalendarMinimalOptions","_this2","hiddenDays","navLinks","firstDay","firstDayOfWeekNo","selectable","moreLinkContent","vtranslate","allDayText","noEventsText","buttonText","today","year","week","month","day","dayGridMonth","dayGridWeek","listWeek","dayGridDay","timeGridDay","list","buttonHints","prev","concat","next","viewHint","navLinkHint","_dateStr","zonedDate","dateToUserFormat","dayHeaderContent","width","daysTranslated","date","getUTCDay","fullDaysTranslated","_this3","self","editable","headerToolbar","left","center","right","allDaySlot","views","basic","titleFormat","args","formatDate","timeGridWeek","html","getDay","basicDay","type","eventDrop","updateEvent","eventResize","datesSet","dateInfo","trigger","loadCalendarData","eventContent","eventRenderer","height","setCalendarHeight","renderCalendar","fullCalendar","FullCalendar","Calendar","get","render","registerViewRenderEvents","getCalendarView","_this4","defaultParams","getDefaultParams","removeAllEvents","emptyFilters","progressInstance","progressIndicator","blockInfo","enabled","AppConnector","request","done","events","addEventSource","result","mode","users","userId","sideBar","getSidebarView","filters","params","action","start","view","activeStart","end","activeEnd","user","cvid","getCurrentCvId","each","name","element","attr","val","prop","push","_","data","cacheName","monthFormat","dateFormat","replace","fullMonthsTranslated","monthsTranslated","info","jQuery","id","DateTime","allDay","response","popoverCache","showNotify","text","revert","fail","display","extendedProps","icon","_def","title","_this5","defaultHeightValue","calendarPadding","hasClass","outerHeight","css","setCalendarH","offset","top","ResizeSensor","currentHeight","setOption","_this6","historyParams","keys","viewType","split","map","x","parsedValue","isNaN","time","forEach","moduleCacheSet","setMainParams","addEventListener","registerFilters","_this7","row","formContainer","registerUsersChange","Picklist","showSelect2ElementView","body","showNewScrollbar","suppressScrollX","registerFilterForm","registerSelectAll","addClass","findElementOnList","bind","cachedValue","allOptions","option","off","item","currentTarget","is","toLowerCase","closest","filter","trim","indexOf","removeClass","_this8","_this9","checkboxSelectAll","checkboxes","registerSidebarEvents","_this10","registerSelect2Event","tab","parent","_i","selectsElements","registerButtonSelectAll","selectAllLabel","deselectAllLabel","registerAddButton","_this11","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","aDeferred","Deferred","resolve","promise","loadCalendarCreateView","hide","moduleName","getForm","textStatus","errorThrown","reject","selectDays","_this12","callbackPostShown","modal","selectCallbackCreateModal","startDate","endDate","setDate","getDate","startDateSplitted","endDateSplitted","setHours","toDateString","activityType","activityDurations","JSON","parse","minutes","activitytype","duration","setMinutes","getMinutes","timeFormat","dateField","timeField","defaultTimeFormat","Calendar_Edit_Js","getInstance","getFreeTime","moment","format","registerEvents","\"yyyy-mm-dd\"","\"mm-dd-yyyy\"","\"dd-mm-yyyy\"","\"yyyy.mm.dd\"","\"mm.dd.yyyy\"","\"dd.mm.yyyy\"","\"yyyy/mm/dd\"","\"mm/dd/yyyy\"","\"dd/mm/yyyy\"","basicWeek"],"mappings":"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"}