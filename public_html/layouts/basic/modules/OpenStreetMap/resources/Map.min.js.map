{"version":3,"file":"Map.min.js","sources":["Map.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'OpenStreetMap_Map_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tmapInstance: false,\n\t\tselectedParams: false,\n\t\tlayerMarkers: false,\n\t\tmarkers: false,\n\t\tcacheMarkers: [],\n\t\tpolygonLayer: false,\n\t\trouteLayer: false,\n\t\trecordsIds: '',\n\t\tcacheLayerMarkers: {},\n\t\tindirectPointLayer: {},\n\t\tsetSelectedParams: function (params) {\n\t\t\tdelete params['view'];\n\t\t\tthis.selectedParams = params;\n\t\t},\n\t\tregisterMap: function (startCoordinate, startZoom) {\n\t\t\tlet attribution =\n\t\t\t\t'&copy; <a href=\"https://yetiforce.com/en/yetiforce/license\" rel=\"noreferrer noopener\">YetiForce Map powered by Open Street Map</a>';\n\t\t\tif (CONFIG.disableBranding) {\n\t\t\t\tattribution = '';\n\t\t\t}\n\t\t\tthis.mapInstance = L.map('mapid').setView(startCoordinate, startZoom);\n\t\t\tL.tileLayer($('.js-tile-layer-server').val(), {\n\t\t\t\tmaxZoom: 19,\n\t\t\t\tattribution: attribution\n\t\t\t}).addTo(this.mapInstance);\n\t\t\treturn this.mapInstance;\n\t\t},\n\t\tsetMarkers: function (data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar markerArray = [];\n\t\t\tvar container = this.container;\n\t\t\tvar map = this.mapInstance;\n\t\t\tif (typeof data.coordinates !== 'undefined') {\n\t\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t});\n\t\t\t\tif (typeof this.layerMarkers !== 'boolean') {\n\t\t\t\t\tmap.removeLayer(this.layerMarkers);\n\t\t\t\t}\n\t\t\t\tvar records = [];\n\t\t\t\tdata.coordinates.forEach(function (e) {\n\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\tmarkers.addLayer(marker);\n\t\t\t\t\trecords.push(e.recordId);\n\t\t\t\t});\n\t\t\t\tconsole.log(records);\n\t\t\t\tconsole.log(data.coordinates);\n\t\t\t\tthis.recordsIds = records;\n\t\t\t\tthis.markers = data.coordinates;\n\t\t\t\tthis.layerMarkers = markers;\n\t\t\t\tmap.addLayer(markers);\n\t\t\t}\n\t\t\tif (typeof this.polygonLayer !== 'boolean') {\n\t\t\t\tmap.removeLayer(this.polygonLayer);\n\t\t\t}\n\t\t\tif (typeof data.coordinatesCenter !== 'undefined') {\n\t\t\t\tif (typeof data.coordinatesCenter.error === 'undefined') {\n\t\t\t\t\tlet radius = container.find('.js-radius').val();\n\t\t\t\t\tmarkerArray.push([data.coordinatesCenter.lat, data.coordinatesCenter.lon]);\n\t\t\t\t\tlet marker = L.marker([data.coordinatesCenter.lat, data.coordinatesCenter.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'search',\n\t\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(this.getMarkerPopup(container.find('.js-search-address').val(), data.coordinatesCenter));\n\t\t\t\t\tmap.addLayer(marker);\n\t\t\t\t\tif ($.isNumeric(radius)) {\n\t\t\t\t\t\tradius = parseInt(radius) * 1000;\n\t\t\t\t\t\tvar circle = L.circle([data.coordinatesCenter.lat, data.coordinatesCenter.lon], radius, {\n\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\tfillColor: '#f03',\n\t\t\t\t\t\t\tfillOpacity: 0.05\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.polygonLayer = L.featureGroup([circle]);\n\t\t\t\t\t\tmap.addLayer(this.polygonLayer);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: data.coordinatesCenter.error,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof data.cache !== 'undefined') {\n\t\t\t\tObject.keys(data.cache).forEach((key) => {\n\t\t\t\t\tif (typeof thisInstance.cacheLayerMarkers[key] !== 'undefined') {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t}\n\t\t\t\t\tvar markersCache = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tlet coordinates = data.cache[key];\n\t\t\t\t\tcoordinates.forEach((e) => {\n\t\t\t\t\t\tif (thisInstance.recordsIds.indexOf(e.recordId) === -1) {\n\t\t\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkersCache.addLayer(marker);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.cacheMarkers[key] = coordinates;\n\t\t\t\t\tmap.addLayer(markersCache);\n\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = markersCache;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar legendContainer = this.container.find('.js-legend-container');\n\t\t\tif (typeof data.legend !== 'undefined') {\n\t\t\t\tvar html = '';\n\t\t\t\tvar legend = data.legend;\n\t\t\t\tlegend.forEach(function (e) {\n\t\t\t\t\thtml +=\n\t\t\t\t\t\t'<div class=\"float-left mt-2\"><span class=\"leegendIcon mt-1\" style=\"background:' +\n\t\t\t\t\t\te.color +\n\t\t\t\t\t\t'\"></span> ' +\n\t\t\t\t\t\te.value +\n\t\t\t\t\t\t'</div>';\n\t\t\t\t});\n\t\t\t\tlegendContainer.html(html);\n\t\t\t} else {\n\t\t\t\tlegendContainer.html('');\n\t\t\t}\n\t\t\tif (markerArray.length) map.fitBounds(markerArray);\n\t\t\tthis.container.find('.groupNeighbours').prop('checked', true);\n\t\t},\n\t\tshowCalculateBtn: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar endAddress = container.find('.end').val();\n\t\t\tvar startAddress = container.find('.start').val();\n\t\t\tif (endAddress.length > 0 && startAddress.length > 0) {\n\t\t\t\tcontainer.find('.js-calculate-route').parent().removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tregisterCacheEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.showRecordsFromCache').on('change', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget),\n\t\t\t\t\tmoduleName = currentTarget.data('module');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\t\tcache: [moduleName]\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.mapInstance.removeLayer(this.cacheLayerMarkers[moduleName]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.copyToClipboard').on('click', function () {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'save',\n\t\t\t\t\trecordIds: JSON.stringify(thisInstance.recordsIds),\n\t\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + app.getModuleName());\n\t\t\t\t\tcountRecords.html(response.result);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-delete-clip-board').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'delete',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + moduleName);\n\t\t\t\t\tcountRecords.html('');\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').prop('checked', false);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.addAllRecords').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'addAllRecords',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_MESSAGE_DOWNLOADED_ADDRESS_DATA'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tcontainer.find('.countRecords' + moduleName).html(response.result.count);\n\t\t\t\t\tvar moduleContainer = currentTarget.closest('.cacheModuleContainer');\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').prop('checked', true);\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').trigger('change');\n\t\t\t\t\tif (response.result.count != '0') moduleContainer.find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetCacheParamsToRequest: function () {\n\t\t\tlet params = [];\n\t\t\tthis.container.find('.showRecordsFromCache').each(function () {\n\t\t\t\tvar currentObject = $(this);\n\t\t\t\tif (currentObject.is(':checked')) params.push(currentObject.data('module'));\n\t\t\t});\n\t\t\treturn params;\n\t\t},\n\t\tregisterSearchCompany: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-company');\n\t\t\tconst searchModule = this.container.find('.searchModule');\n\t\t\t$.widget('custom.ivAutocomplete', $.ui.autocomplete, {\n\t\t\t\t_create: function () {\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t},\n\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\tlet that = this,\n\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t$.each(items, function (_index, item) {\n\t\t\t\t\t\tlet li;\n\t\t\t\t\t\tconsole.log(item.category != currentCategory, item);\n\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = that._renderItemData(ul, item);\n\t\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\t\tli.attr('aria-label', item.category + ' : ' + item.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t},\n\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\treturn $('<li>').data('item.autocomplete', item).append($('<a></a>').html(item.label)).appendTo(ul);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchValue.ivAutocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (_request, response) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: searchModule.val(),\n\t\t\t\t\t\tcurrentModule: app.getModuleName(),\n\t\t\t\t\t\tsearchModule: searchModule.val(),\n\t\t\t\t\t\tview: 'BasicAjax',\n\t\t\t\t\t\tmode: 'showSearchResults',\n\t\t\t\t\t\tvalue: searchValue.val(),\n\t\t\t\t\t\thtml: false\n\t\t\t\t\t}).done(function (responseAjax) {\n\t\t\t\t\t\tresponseAjax = JSON.parse(responseAjax);\n\t\t\t\t\t\tlet responseDataList = responseAjax.result;\n\t\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results',\n\t\t\t\t\t\t\t\tcategory: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\tthis.recordsIds.push(ui.item.id);\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\t\tmode: 'addRecord',\n\t\t\t\t\t\trecord: ui.item.id,\n\t\t\t\t\t\tsrcModuleName: searchModule.val()\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.result.length == 1) {\n\t\t\t\t\t\t\tlet marker = L.marker([response.result[0].lat, response.result[0].lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: response.result[0].color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(response.result[0].label);\n\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(response.result[0].lat, response.result[0].lon), 13);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSearchAddress: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-address'),\n\t\t\t\tsearchBtn = this.container.find('.js-search-btn'),\n\t\t\t\toperator = this.container.find('.js-select-operator');\n\t\t\tif (operator.length && operator.val()) {\n\t\t\t\tsearchValue\n\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\tdelay: 600,\n\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: operator.val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\t\t\tif (ui.item.coordinates) {\n\t\t\t\t\t\t\t\tlet marker = L.marker([ui.item.coordinates.lat, ui.item.coordinates.lon], {\n\t\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).bindPopup(this.getMarkerPopup(ui.item.label, ui.item.coordinates));\n\t\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(ui.item.coordinates.lat, ui.item.coordinates.lon), 10);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsearchValue.val(ui.item.label);\n\t\t\t\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode}\"></span> ${item.label}</div>`)\n\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.container.find('.js-search-address,.js-radius').on('keydown', (e) => {\n\t\t\t\tif (e.code === 'Enter') {\n\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchBtn.on('click', () => {\n\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: this.container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tsearchValue: this.container.find('.js-search-address').val(),\n\t\t\t\t\tcache: this.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tconst radiusValue = this.container.find('.js-radius').val();\n\t\t\t\tif (radiusValue !== '' && parseInt(radiusValue)) {\n\t\t\t\t\tparams['radius'] = parseInt(radiusValue);\n\t\t\t\t}\n\t\t\t\tAppConnector.request($.extend(this.selectedParams, params)).done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMyLocation: function () {\n\t\t\tconst locationBtn = this.container.find('.js-my-location-btn');\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnavigator.permissions.query({ name: 'geolocation' }).then((response) => {\n\t\t\t\tif (response.state === 'denied') {\n\t\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlocationBtn.on('click', () => {\n\t\t\t\tnavigator.geolocation.getCurrentPosition((position) => {\n\t\t\t\t\tlet marker = L.marker([position.coords.latitude, position.coords.longitude], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(\n\t\t\t\t\t\tthis.getMarkerPopup(locationBtn.data('label'), {\n\t\t\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\t\t\tlon: position.coords.longitude\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(position.coords.latitude, position.coords.longitude), 10);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterBasicModal: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar map = thisInstance.mapInstance;\n\t\t\tvar layer, description;\n\t\t\tapp.registerBlockAnimationEvent(container);\n\t\t\tthisInstance.registerCacheEvents(container);\n\t\t\tcontainer.find('.groupBy').on('click', function () {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tgroupBy: container.find('.fieldsToGroup').val(),\n\t\t\t\t\tsearchValue: container.find('.js-search-address').val(),\n\t\t\t\t\tradius: container.find('.js-radius').val(),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.groupNeighbours').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tmap.removeLayer(thisInstance.layerMarkers);\n\t\t\t\tvar markers = thisInstance.markers;\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tlayer = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tlayer.addLayer(marker);\n\t\t\t\t\t});\n\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar cacheLayer = L.markerClusterGroup({\n\t\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tcacheLayer.addLayer(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = cacheLayer;\n\t\t\t\t\t\tmap.addLayer(cacheLayer);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t});\n\t\t\t\t\tlayer = L.featureGroup(markerArray);\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = L.featureGroup(markerArray);\n\t\t\t\t\t\tmap.addLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.layerMarkers = layer;\n\t\t\t\tmap.addLayer(layer);\n\t\t\t});\n\t\t\tvar startIconLayer = false;\n\t\t\tcontainer.on('click', '.startTrack', function (e) {\n\t\t\t\tif (startIconLayer) {\n\t\t\t\t\tmap.removeLayer(startIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar startElement = container.find('.start');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tstartElement.val(description);\n\t\t\t\tstartElement.data('lat', coordinates.data('lat'));\n\t\t\t\tstartElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'truck',\n\t\t\t\t\t\tmarkerColor: 'green',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tstartIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(startIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\t\t\tvar endIconLayer = false;\n\t\t\tcontainer.on('click', '.endTrack', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar endElement = container.find('.end');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tendElement.val(description);\n\t\t\t\tendElement.data('lat', coordinates.data('lat'));\n\t\t\t\tendElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag-checkered',\n\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tendIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(endIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\n\t\t\tcontainer.on('click', '.indirectPoint', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar template = container.find('.indirectTemplate');\n\t\t\t\tvar indirect = template.clone();\n\t\t\t\ttemplate.before(indirect);\n\t\t\t\tindirect.removeClass('indirectTemplate');\n\t\t\t\tindirect.removeClass('d-none');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tif (typeof thisInstance.indirectPointLayer[description] !== 'undefined') {\n\t\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t\t}\n\t\t\t\tvar indirectField = indirect.find('.indirect');\n\t\t\t\tindirectField.val(description);\n\t\t\t\tindirectField.data('lat', coordinates.data('lat'));\n\t\t\t\tindirectField.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag',\n\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tthisInstance.indirectPointLayer[description] = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t});\n\t\t\tcontainer.on('click', '.removeIndirect', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[container.find('.indirect').val()]);\n\t\t\t\tcurrentTarget.closest('.indirectContainer').remove();\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveUp', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar previousElement = container.prev();\n\t\t\t\tif (!previousElement.hasClass('startContainer')) {\n\t\t\t\t\tpreviousElement.before(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveDown', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar nextElement = container.next();\n\t\t\t\tif (!nextElement.hasClass('indirectTemplate')) {\n\t\t\t\t\tnextElement.after(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.searchInRadius', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tradius: container.find('.radius').val(),\n\t\t\t\t\tlat: coordinates.data('lat'),\n\t\t\t\t\tlon: coordinates.data('lon'),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tconst descriptionContainer = container.find('.js-description-container');\n\t\t\tcontainer.find('.js-calculate-route').on('click', function () {\n\t\t\t\tlet indirectLon = [];\n\t\t\t\tlet indirectLat = [];\n\t\t\t\tcontainer.find('.indirectContainer:not(.d-none) input.indirect').each(function () {\n\t\t\t\t\tlet currentTarget = $(this);\n\t\t\t\t\tindirectLat.push(currentTarget.data('lat'));\n\t\t\t\t\tindirectLon.push(currentTarget.data('lon'));\n\t\t\t\t});\n\t\t\t\tlet endElement = container.find('.end');\n\t\t\t\tlet startElement = container.find('.start');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetRoute',\n\t\t\t\t\t\tflon: startElement.data('lon'),\n\t\t\t\t\t\tflat: startElement.data('lat'),\n\t\t\t\t\t\tilon: indirectLon,\n\t\t\t\t\t\tilat: indirectLat,\n\t\t\t\t\t\ttlon: endElement.data('lon'),\n\t\t\t\t\t\ttlat: endElement.data('lat')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (thisInstance.routeLayer) {\n\t\t\t\t\t\t\tmap.removeLayer(thisInstance.routeLayer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet route = L.geoJson(response.result.geoJson);\n\t\t\t\t\t\tthisInstance.routeLayer = L.featureGroup([route]);\n\t\t\t\t\t\tmap.addLayer(thisInstance.routeLayer);\n\t\t\t\t\t\tdescriptionContainer.removeClass('d-none');\n\t\t\t\t\t\tconst instruction = container.find('.js-instruction_block');\n\t\t\t\t\t\tif (response.result.properties.description) {\n\t\t\t\t\t\t\tinstruction.removeClass('d-none');\n\t\t\t\t\t\t\tdescriptionContainer.find('.js-instruction_body').html(response.result.properties.description);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinstruction.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.distance')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.distance));\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.travelTime')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.traveltime / 60));\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, title) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitleTrusted: false,\n\t\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.setView', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet inputInstance = currentTarget.closest('.input-group').find('.end,.start,.indirect');\n\t\t\t\tlet lat = inputInstance.data('lat');\n\t\t\t\tlet lon = inputInstance.data('lon');\n\t\t\t\tif (!(typeof lat === 'undefined' && typeof lon === 'undefined')) {\n\t\t\t\t\tmap.setView(new L.LatLng(lat, lon), 11);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerSearchCompany();\n\t\t\tthis.registerSearchAddress();\n\t\t\tthis.registerMyLocation();\n\t\t},\n\t\tregisterModalView: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: container,\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.container = container;\n\t\t\t$('#mapid').css({\n\t\t\t\theight: $('body').height() - 160\n\t\t\t});\n\t\t\tthis.registerMap([0, 0], 2);\n\t\t\tlet params = {\n\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\taction: 'GetMarkers',\n\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t};\n\t\t\tparams = $.extend(this.selectedParams, params);\n\t\t\tthisInstance.registerBasicModal();\n\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t});\n\t\t},\n\t\tgetMarkerPopup: function (label, coordinates) {\n\t\t\treturn `<span class=\"description\">${label}</span>\n\t\t\t<br /><input type=hidden class=\"coordinates\" data-lon=\"${coordinates.lon}\"\n\t\t\tdata-lat=\"${coordinates.lat}\">\n\t\t\t<button class=\"btn btn-success btn-sm p-1 startTrack mr-2\"><span class=\"fas  fa-truck\"></span></button>\n\t\t<button class=\"btn btn-warning btn-sm p-1 indirectPoint mr-2\"><span class=\"fas fa-flag-checkered\"></span></button>\n\t\t<button class=\"btn btn-danger btn-sm p-1 endTrack\"><span class=\"fas fa-flag-checkered\"></span></button>`;\n\t\t},\n\t\tregisterDetailView: function (container) {\n\t\t\tthis.container = container;\n\t\t\tvar coordinates = container.find('#coordinates').val();\n\t\t\tcoordinates = JSON.parse(coordinates);\n\t\t\tvar startCoordinate = [0, 0];\n\t\t\tvar startZoom = 2;\n\t\t\tvar $map = container.find('#mapid');\n\t\t\tif (coordinates.length) {\n\t\t\t\tstartCoordinate = coordinates[0];\n\t\t\t\tstartZoom = 6;\n\t\t\t}\n\t\t\tif ($('.mainBody').length) {\n\t\t\t\tif ($('.mainBody').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.mainBody').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($('.bodyContents').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.bodyContents').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar myMap = this.registerMap(startCoordinate, startZoom);\n\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\tmaxClusterRadius: 10\n\t\t\t});\n\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(e.label);\n\t\t\t\tmarkers.addLayer(marker);\n\t\t\t});\n\t\t\tmyMap.addLayer(markers);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","mapInstance","selectedParams","layerMarkers","markers","cacheMarkers","polygonLayer","routeLayer","recordsIds","cacheLayerMarkers","indirectPointLayer","setSelectedParams","params","registerMap","startCoordinate","startZoom","attribution","CONFIG","disableBranding","L","map","setView","tileLayer","$","val","maxZoom","addTo","setMarkers","data","thisInstance","markerArray","coordinates","markerClusterGroup","maxClusterRadius","removeLayer","records","forEach","e","push","lat","lon","marker","icon","AwesomeMarkers","markerColor","prefix","iconColor","color","bindPopup","label","addLayer","recordId","console","log","coordinatesCenter","error","radius","find","getMarkerPopup","isNumeric","parseInt","circle","fillColor","fillOpacity","featureGroup","title","app","vtranslate","text","type","Vtiger_Helper_Js","showMessage","cache","Object","keys","key","markersCache","indexOf","legendContainer","legend","html","value","length","fitBounds","prop","showCalculateBtn","endAddress","startAddress","parent","removeClass","registerCacheEvents","on","currentTarget","moduleName","is","AppConnector","request","module","action","srcModule","getModuleName","done","response","result","mode","recordIds","JSON","stringify","countRecords","closest","addClass","trigger","count","moduleContainer","getCacheParamsToRequest","each","currentObject","registerSearchCompany","searchValue","searchModule","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","_index","item","li","category","append","_renderItemData","attr","_renderItem","appendTo","ivAutocomplete","delay","minLength","source","_request","currentModule","view","responseAjax","parse","responseDataList","select","_event","id","record","srcModuleName","LatLng","registerSearchAddress","searchBtn","operator","term","requestData","showNotify","fail","_textStatus","_errorThrown","jqXHR","responseJSON","message","animation","countryCode","code","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","radiusValue","extend","registerMyLocation","locationBtn","navigator","geolocation","permissions","query","name","then","state","getCurrentPosition","coords","latitude","longitude","registerBasicModal","layer","description","registerBlockAnimationEvent","groupBy","cacheLayer","startIconLayer","containerPopup","startElement","replace","endIconLayer","endElement","template","indirect","clone","before","indirectField","remove","previousElement","prev","hasClass","nextElement","next","after","descriptionContainer","indirectLon","indirectLat","url","flon","flat","ilon","ilat","tlon","tlat","route","geoJson","instruction","properties","App","Fields","Double","formatToDisplay","distance","traveltime","titleTrusted","textTrusted","inputInstance","registerModalView","css","height","registerDetailView","$map","myMap"],"mappings":"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"}