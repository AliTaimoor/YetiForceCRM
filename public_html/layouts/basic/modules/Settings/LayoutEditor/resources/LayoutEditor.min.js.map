{"version":3,"file":"LayoutEditor.min.js","sources":["LayoutEditor.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Settings_LayoutEditor_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tupdatedBlockSequence: {},\n\t\tinActiveFieldsList: false,\n\t\tupdatedBlockFieldsList: [],\n\t\tupdatedBlocksList: [],\n\t\tblockNamesList: [],\n\t\t/**\n\t\t * Function to set the inactive fields list used to show the inactive fields\n\t\t */\n\t\tsetInactiveFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar json = contents.find('.inActiveFieldsArray');\n\t\t\tif (0 < json.length) {\n\t\t\t\tthisInstance.inActiveFieldsList = JSON.parse(json.val());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the blocks sortable\n\t\t */\n\t\tmakeBlocksListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.blockSortable');\n\t\t\tcontents.sortable({\n\t\t\t\tcontainment: contents,\n\t\t\t\titems: table,\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateBlockSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will update block sequence\n\t\t */\n\t\tupdateBlockSequence: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar sequence = JSON.stringify(thisInstance.updateBlocksListByOrder());\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'updateSequenceNumber';\n\t\t\tparams['sequence'] = sequence;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_SEQUENCE_UPDATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will arrange the sequence number of blocks\n\t\t */\n\t\tupdateBlocksListByOrder: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.find('.editFieldsTable.blockSortable').each(function (index, domElement) {\n\t\t\t\tvar blockTable = $(domElement);\n\t\t\t\tvar blockId = blockTable.data('blockId');\n\t\t\t\tvar actualBlockSequence = blockTable.data('sequence');\n\t\t\t\tvar expectedBlockSequence = index + 1;\n\n\t\t\t\tif (expectedBlockSequence != actualBlockSequence) {\n\t\t\t\t\tblockTable.data('sequence', expectedBlockSequence);\n\t\t\t\t}\n\t\t\t\tthisInstance.updatedBlockSequence[blockId] = expectedBlockSequence;\n\t\t\t});\n\t\t\treturn thisInstance.updatedBlockSequence;\n\t\t},\n\t\t/**\n\t\t * Function to register all the relatedList Events\n\t\t */\n\t\tregisterRelatedListEvents: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\trelatedList = $('#relatedTabOrder');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-column-list-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateSelectedFields(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-custom-view-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateCustomView(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\trelatedList.on('click', '.inActiveRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.activeRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), false);\n\t\t\t});\n\t\t\trelatedList.on('click', '.activeRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.inActiveRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), true);\n\t\t\t});\n\t\t\trelatedList.on('click', '.removeRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\tthisInstance.removeRelation(relatedModule);\n\t\t\t});\n\t\t\trelatedList.on('click', '.addToFavorites', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.changeStateFavorites(currentTarget);\n\t\t\t});\n\t\t\trelatedList.on('change', '.relatedViewType', function (e) {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tvar value = currentTarget.val();\n\t\t\t\tif (!value) {\n\t\t\t\t\tcurrentTarget.validationEngine('showPrompt', app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcurrentTarget.validationEngine('hide');\n\t\t\t\tthisInstance.changeRelatedViewType(currentTarget);\n\t\t\t});\n\t\t\trelatedList.find('.js-related-column-list').on('change', function (e) {\n\t\t\t\tthisInstance.updateSelectedFields($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomView($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view-orderby').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomViewOrderBy($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.on('click', '.addRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('#relatedTabOrder');\n\t\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\t\t\t\tvar addRelationContainer = relatedList.find('.addRelationContainer').clone(true, true);\n\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\tdata.find('.relLabel').val(data.find('.target option:selected').val());\n\t\t\t\t\tdata.on('change', '.target', function (e) {\n\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\tdata.find('.relLabel').val(currentTarget.find('option:selected').val());\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[name=\"type\"]').on('change', function () {\n\t\t\t\t\t\tif ($(this).val() === 'getAttachments') {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').not('[value=\"Documents\"]').addClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdata.on('click', '.addButton', function (e) {\n\t\t\t\t\t\tvar form = data.find('form').serializeFormData();\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\t\tparams['mode'] = 'addRelation';\n\t\t\t\t\t\t$.extend(params, form);\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t\t.getRelModuleLayoutEditor(container.find('[name=\"layoutEditorRelModules\"]').val())\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(addRelationContainer, function (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetSelectedFields: function (target) {\n\t\t\tvar selectedFields = [];\n\t\t\ttarget.find(':selected').each(function (e) {\n\t\t\t\tselectedFields.push({\n\t\t\t\t\tid: $(this).val(),\n\t\t\t\t\tname: $(this).data('field-name') ? $(this).data('field-name') : $(this).data('name')\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn selectedFields;\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the related modules sortable\n\t\t */\n\t\tmakeRelatedModuleSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar modulesList = relatedModulesContainer.find('.relatedModule');\n\t\t\trelatedModulesContainer.sortable({\n\t\t\t\tcontainment: relatedModulesContainer,\n\t\t\t\titems: modulesList,\n\t\t\t\thandle: '.mainBlockTableLabel',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateSequenceRelatedModule();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchangeRelatedViewType: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Relation',\n\t\t\t\tmode: 'updateRelatedViewType',\n\t\t\t\trelationId: relatedModule.data('relation-id'),\n\t\t\t\ttypes: currentTarget.val()\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.text\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: data.error.message\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttext: error.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tchangeStateFavorites: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tvar status = currentTarget.data('state') == 1 ? 0 : 1;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateStateFavorites';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['status'] = status;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcurrentTarget.data('state', status);\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tcurrentTarget.find('.far').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.fas').removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentTarget.find('.fas').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.far').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_NOTIFY_OK') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tchangeStatusRelatedModule: function (relationId, status) {\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'changeStatusRelation';\n\t\t\tparams['relationId'] = relationId;\n\t\t\tparams['status'] = status;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_1');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_0');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tremoveRelation: function (relatedModule) {\n\t\t\tlet message = app.vtranslate('JS_DELETE_RELATION_CONFIRMATION');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: message,\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\tparams['mode'] = 'removeRelation';\n\t\t\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\trelatedModule.remove();\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_REMOVE_RELATION_OK')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateSequenceRelatedModule: function () {\n\t\t\tvar modules = [];\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar params = {};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\trelatedModulesContainer.find('.relatedModule').each(function (index, domElement) {\n\t\t\t\tvar relationId = $(domElement).data('relationId');\n\t\t\t\tmodules.push({ relationId: relationId, index: index });\n\t\t\t});\n\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSequenceRelatedModule';\n\t\t\tparams['modules'] = modules;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATE_SEQUENCE');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateSelectedFields: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tselectedFields;\n\t\t\tif ($(target).data('type') == 'inventory') {\n\t\t\t\tparams['inventory'] = true;\n\t\t\t\tselectedFields = $(target).val();\n\t\t\t} else {\n\t\t\t\tselectedFields = thisInstance.getSelectedFields($(target));\n\t\t\t}\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSelectedFields';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['fields'] = selectedFields;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATED_FIELD_LIST_MODULE_RELATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateCustomView: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomView';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['cv'] = target.val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Set custom view order by\n\t\t * (jQuery) target\n\t\t */\n\t\tupdateCustomViewOrderBy: function (target) {\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomViewOrderBy';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['orderby'] = target.prop('checked');\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (result) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: result.result.message,\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttextTrusted: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the fields sortable\n\t\t */\n\t\tmakeFieldsListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.editFieldsTable');\n\t\t\ttable.each(function () {\n\t\t\t\tvar containment = $(this).closest('.moduleBlocks');\n\t\t\t\t$(this)\n\t\t\t\t\t.find('ul[name=sortable1], ul[name=sortable2]')\n\t\t\t\t\t.sortable({\n\t\t\t\t\t\tcontainment: containment,\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tcursor: 'move',\n\t\t\t\t\t\tconnectWith: containment.find('.connectedSortable'),\n\t\t\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\t\t\tvar currentField = ui['item'];\n\t\t\t\t\t\t\tif (currentField.closest('.moduleBlocks').hasClass('inventoryBlock')) {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(currentField.closest('.editFieldsTable'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(thisInstance.getDetailViewLayout());\n\t\t\t\t\t\t\t\tthisInstance.createUpdatedBlocksList(currentField);\n\t\t\t\t\t\t\t\t// rearrange the older block fields\n\t\t\t\t\t\t\t\tif (ui.sender) {\n\t\t\t\t\t\t\t\t\tvar olderBlock = ui.sender.closest('.editFieldsTable');\n\t\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(olderBlock);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetDetailViewLayout: function () {\n\t\t\treturn $('#detailViewLayout');\n\t\t},\n\t\tgetInventoryViewLayout: function () {\n\t\t\treturn $('#inventoryViewLayout');\n\t\t},\n\t\t/**\n\t\t * Function to show the save button of fieldSequence\n\t\t */\n\t\tshowSaveFieldSequenceButton: function (layout) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tif (app.isHidden(saveButton) || app.isInvisible(saveButton)) {\n\t\t\t\tif (!saveButton.hasClass('inventorySequence')) {\n\t\t\t\t\tthisInstance.updatedBlocksList = [];\n\t\t\t\t\tthisInstance.updatedBlockFieldsList = [];\n\t\t\t\t}\n\t\t\t\tsaveButton.removeClass('d-none');\n\t\t\t\tsaveButton.removeClass('invisible');\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = app.vtranslate('JS_SAVE_THE_CHANGES_TO_UPDATE_FIELD_SEQUENCE');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will hide the saveFieldSequence button\n\t\t */\n\t\thideSaveFieldSequenceButton: function () {\n\t\t\tvar layout = $('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tsaveButton.addClass('d-none');\n\t\t},\n\t\t/**\n\t\t * Function to create the blocks list which are updated while sorting\n\t\t */\n\t\tcreateUpdatedBlocksList: function (currentField) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar block = currentField.closest('.editFieldsTable');\n\t\t\tvar updatedBlockId = block.data('blockId');\n\t\t\tif ($.inArray(updatedBlockId, thisInstance.updatedBlocksList) == -1) {\n\t\t\t\tthisInstance.updatedBlocksList.push(updatedBlockId);\n\t\t\t}\n\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t},\n\t\t/**\n\t\t * Function that rearranges fields in the block when the fields are moved\n\t\t * @param <jQuery object> block\n\t\t */\n\t\treArrangeBlockFields: function (block) {\n\t\t\t// 1.get the containers, 2.compare the length, 3.if uneven then move the last element\n\t\t\tvar leftSideContainer = block.find('ul[name=sortable1]');\n\t\t\tvar rightSideContainer = block.find('ul[name=sortable2]');\n\t\t\tif (leftSideContainer.children().length < rightSideContainer.children().length) {\n\t\t\t\tvar lastElementInRightContainer = rightSideContainer.children(':last');\n\t\t\t\tleftSideContainer.append(lastElementInRightContainer);\n\t\t\t} else if (leftSideContainer.children().length > rightSideContainer.children().length + 1) {\n\t\t\t\t//greater than 1\n\t\t\t\tvar lastElementInLeftContainer = leftSideContainer.children(':last');\n\t\t\t\trightSideContainer.append(lastElementInLeftContainer);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to create the list of updated blocks with all the fields and their sequences\n\t\t */\n\t\tcreateUpdatedBlockFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\n\t\t\tfor (var index in thisInstance.updatedBlocksList) {\n\t\t\t\tvar updatedBlockId = thisInstance.updatedBlocksList[index];\n\t\t\t\tvar updatedBlock = contents.find('.block_' + updatedBlockId);\n\t\t\t\tvar firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\tvar editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\tvar expectedFieldSequence = 1;\n\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: expectedFieldSequence,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t});\n\t\t\t\tvar secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\tvar secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\tvar sequenceValue = 2;\n\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: sequenceValue,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterFieldSequenceSaveClick: function () {\n\t\t\tthis.getDetailViewLayout()\n\t\t\t\t.find('.saveFieldSequence')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.hideSaveFieldSequenceButton();\n\t\t\t\t\tthis.createUpdatedBlockFieldsList();\n\t\t\t\t\tthis.updateFieldSequence();\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function will save the field sequences\n\t\t */\n\t\tupdateFieldSequence: function () {\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'move',\n\t\t\t\tupdatedFields: this.updatedBlockFieldsList\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_FIELD_SEQUENCE_UPDATED') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to check if picklist exist\n\t\t */\n\t\tcheckPicklistExist(fieldNameValue) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'checkPicklistExist',\n\t\t\t\tfieldName: fieldNameValue.toLowerCase()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.result) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttext: app.vtranslate('JS_EXIST_PICKLIST_NAME'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register click event add system field button\n\t\t */\n\t\tregisterAddSystemFieldEvent() {\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.js-add-system-field').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId');\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateSystemFields&sourceModule=' + selectedModule,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\t\tmode: 'createSystemField',\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tblockId: blockId,\n\t\t\t\t\t\t\t\tfield: modalContainer.find('.js-system-fields').val()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event add custom field button\n\t\t */\n\t\tregisterAddCustomFieldEvent() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomField').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId'),\n\t\t\t\t\taddFieldContainer = this.container.find('.createFieldModal').clone(true, true);\n\t\t\t\taddFieldContainer.removeClass('d-none').show();\n\t\t\t\tlet callBackFunction = (data) => {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'), { width: '100%' });\n\t\t\t\t\tlet form = data.find('.createCustomFieldForm');\n\t\t\t\t\tform.attr('id', 'createFieldForm');\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"pickListValues\"]'), {\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\ttokenSeparators: [',']\n\t\t\t\t\t});\n\t\t\t\t\tthis.registerFieldTypeChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFieldsChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFilterFieldChangeEvent(form);\n\t\t\t\t\tlet params = app.getvalidationEngineOptions(true);\n\t\t\t\t\tparams.onValidationComplete = (form, valid) => {\n\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\tlet saveButton = form.find(':submit'),\n\t\t\t\t\t\t\t\tfieldNameValue = $('[name=\"fieldName\"]', form).val(),\n\t\t\t\t\t\t\t\tfieldTypeValue = $('[name=\"fieldType\"]', form).val();\n\t\t\t\t\t\t\tsaveButton.attr('disabled', 'disabled');\n\t\t\t\t\t\t\tthisInstance.validateFieldsValue(form).done((response) => {\n\t\t\t\t\t\t\t\tif (!response) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'Picklist' ||\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'MultiSelectCombo' ||\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'MultipicklistTags'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.checkPicklistExist(fieldNameValue).done((result) => {\n\t\t\t\t\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (let index in response) {\n\t\t\t\t\t\t\t\t\t\tlet field = form.find(`[name=\"${index}\"]`);\n\t\t\t\t\t\t\t\t\t\tfield.validationEngine('showPrompt', response[index], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddFieldContainer,\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to validate fields value\n\t\t */\n\t\tvalidateFieldsValue: function (form) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tlet params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'validate';\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data.result);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save field and show message\n\t\t */\n\t\tsaveCustomField: function (blockId, form) {\n\t\t\tlet saveButton = form.find(':submit');\n\t\t\tthis.addCustomField(blockId, form).done((data) => {\n\t\t\t\tif (data['success']) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_FIELD_ADDED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\tdata['error']['code'] != 513 ? form.find('.fieldNameForm').text() : form.find('.fieldLabelForm').text(),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: data['error']['message']\n\t\t\t\t\t});\n\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the array of block names list\n\t\t */\n\t\tsetBlocksListArray: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.blockNamesList = [];\n\t\t\tvar blocksListSelect = form.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option').each(function (index, ele) {\n\t\t\t\tvar option = $(ele);\n\t\t\t\tvar label = option.data('label');\n\t\t\t\tthisInstance.blockNamesList.push(label.toLowerCase());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the custom field details\n\t\t */\n\t\taddCustomField: function (blockId, form) {\n\t\t\tvar modalHeader = form.closest('#' + Window.lastModalId).find('.modal-header h3');\n\t\t\tvar aDeferred = $.Deferred();\n\n\t\t\tmodalHeader.progressIndicator({\n\t\t\t\tsmallLoadingImage: true,\n\t\t\t\timageContainerCss: { display: 'inline', 'margin-left': '18%', position: 'absolute' }\n\t\t\t});\n\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'add';\n\t\t\tparams['blockid'] = blockId;\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (err, error, errorObj) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register change event for fieldType while adding custom field\n\t\t */\n\t\tregisterFieldTypeChangeEvent(form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\n\t\t\t//special validators while adding new field\n\t\t\tvar lengthValidator = [{ name: 'DecimalMaxLength' }];\n\t\t\tvar maxLengthValidator = [{ name: 'MaxLength' }];\n\t\t\tvar decimalValidator = [{ name: 'FloatingDigits' }];\n\n\t\t\t//By default add the max length validator\n\t\t\tlengthInput.data('validator', maxLengthValidator);\n\n\t\t\t//register the change event for field types\n\t\t\tform.find('[name=\"fieldType\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\t\t\t\tvar selectedOption = currentTarget.find('option:selected');\n\n\t\t\t\t//hide all the elements like length, decimal,picklist\n\t\t\t\tform.find('.supportedType').addClass('d-none');\n\t\t\t\tif (selectedOption.data('lengthsupported')) {\n\t\t\t\t\tform.find('.lengthsupported').removeClass('d-none');\n\t\t\t\t\tif (!selectedOption.data('nolimitforlength')) {\n\t\t\t\t\t\tlengthInput.data('validator', maxLengthValidator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlengthInput.data('validator', [{ name: 'WholeNumberGreaterThanZero' }]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('decimalsupported')) {\n\t\t\t\t\tvar decimalFieldUi = form.find('.decimalsupported');\n\t\t\t\t\tdecimalFieldUi.removeClass('d-none');\n\n\t\t\t\t\tvar decimalInput = decimalFieldUi.find('[name=\"decimal\"]');\n\t\t\t\t\tvar maxFloatingDigits = selectedOption.data('maxfloatingdigits');\n\n\t\t\t\t\tif (typeof maxFloatingDigits !== 'undefined') {\n\t\t\t\t\t\tdecimalInput.data('validator', decimalValidator);\n\t\t\t\t\t\tlengthInput.data('validator', lengthValidator);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedOption.data('decimalreadonly')) {\n\t\t\t\t\t\tdecimalInput.val(maxFloatingDigits).attr('readonly', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdecimalInput.removeAttr('readonly').val('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('predefinedvalueexists')) {\n\t\t\t\t\tform.find('.preDefinedValueExists').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('picklistoption')) {\n\t\t\t\t\tform.find('.picklistOption').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tconst type = selectedOption.val();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Related1M':\n\t\t\t\t\tcase 'MultiReference':\n\t\t\t\t\t\tconst moduleList = form.find('.preDefinedModuleList .referenceModule');\n\t\t\t\t\t\tform.find('.preDefinedModuleList').removeClass('d-none');\n\t\t\t\t\t\tmoduleList.select2('destroy');\n\t\t\t\t\t\tif (type === 'MultiReference') {\n\t\t\t\t\t\t\tmoduleList.removeAttr('multiple');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleList.attr('multiple', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleList);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Tree':\n\t\t\t\t\tcase 'CategoryMultipicklist':\n\t\t\t\t\t\tform.find('.preDefinedTreeList').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ServerAccess':\n\t\t\t\t\t\tform.find('.js-server-access-list').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultiReferenceValue':\n\t\t\t\t\t\tform.find('.preMultiReferenceValue').removeClass('d-none');\n\t\t\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MapCoordinates':\n\t\t\t\t\t\tform.find('.coordinateOption').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultipicklistTags':\n\t\t\t\t\t\tlet picklistTags = form.find('.preDefinedValueExists');\n\t\t\t\t\t\tpicklistTags.find('.redColor').remove();\n\t\t\t\t\t\tlet pickListValues = picklistTags.find('#pickListValues');\n\t\t\t\t\t\tpickListValues.attr(\n\t\t\t\t\t\t\t'data-validation-engine',\n\t\t\t\t\t\t\tpickListValues.data('validation-engine').replace('required, ', '')\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Group':\n\t\t\t\t\t\tform.find('.js-group-module-option').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for add custom block button\n\t\t */\n\t\tregisterAddCustomBlockEvent: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomBlock').on('click', function (e) {\n\t\t\t\tlet addBlockContainer = contents.find('.addBlockModal').clone(true, true),\n\t\t\t\t\tcallBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.addBlockModal').removeClass('d-none').show();\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\t\tlet form = data.find('.addCustomBlockForm');\n\t\t\t\t\t\tthisInstance.setBlocksListArray(form);\n\t\t\t\t\t\tlet fieldLabel = form.find('[name=\"label\"]'),\n\t\t\t\t\t\t\tparams = Object.create(app.validationEngineOptions);\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\t\t\t\tif ($.inArray(formData['label'].toLowerCase(), thisInstance.blockNamesList) == -1) {\n\t\t\t\t\t\t\t\t\tthisInstance.saveBlockDetails(form).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\t\t\t\t\tlet result = data['result'];\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.displayNewCustomBlock(result);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.updateNewSequenceForBlocks(result['sequenceList']);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.appendNewBlockToBlocksList(result, form);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet result = app.vtranslate('JS_BLOCK_NAME_EXISTS');\n\t\t\t\t\t\t\t\t\tfieldLabel.validationEngine('showPrompt', result, 'error', 'topLeft', true);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddBlockContainer,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the new custom block details\n\t\t */\n\t\tsaveBlockDetails: function (form) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_BLOCK_ADDED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function used to display the new custom block ui after save\n\t\t */\n\t\tdisplayNewCustomBlock: function (result) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar beforeBlockId = result['beforeBlockId'];\n\t\t\tvar beforeBlock = contents.find('.block_' + beforeBlockId);\n\n\t\t\tvar newBlockCloneCopy = contents.find('.newCustomBlockCopy').clone(true, true);\n\t\t\tnewBlockCloneCopy\n\t\t\t\t.data('blockId', result['id'])\n\t\t\t\t.find('.blockLabel')\n\t\t\t\t.append($('<strong class=\"align-middle\">' + result['label'] + '</strong>'));\n\t\t\tnewBlockCloneCopy.find('.js-block-visibility').data('blockId', result['id']);\n\t\t\tif (result['isAddCustomFieldEnabled']) {\n\t\t\t\tnewBlockCloneCopy.find('.addCustomField').removeClass('d-none');\n\t\t\t}\n\t\t\tbeforeBlock.after(\n\t\t\t\tnewBlockCloneCopy.removeClass('d-none newCustomBlockCopy').addClass('editFieldsTable block_' + result['id'])\n\t\t\t);\n\n\t\t\tnewBlockCloneCopy.find('.blockFieldsList').sortable({ connectWith: '.blockFieldsList' });\n\t\t},\n\t\t/**\n\t\t * Function to update the sequence for all blocks after adding new Block\n\t\t */\n\t\tupdateNewSequenceForBlocks: function (sequenceList) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\t$.each(sequenceList, function (blockId, sequence) {\n\t\t\t\tcontents.find('.block_' + blockId).data('sequence', sequence);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update the block list with the new block label in the clone container\n\t\t */\n\t\tappendNewBlockToBlocksList: function (result, form) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tvar option = $('<option>', {\n\t\t\t\tvalue: result['id'],\n\t\t\t\ttext: result['label']\n\t\t\t});\n\t\t\tblocksListSelect.append(option.attr('data-label', result['label']));\n\t\t},\n\t\t/**\n\t\t * Function to update the block list to remove the deleted custom block label in the clone container\n\t\t */\n\t\tremoveBlockFromBlocksList: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option[value=\"' + blockId + '\"]').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for block visibility\n\t\t */\n\t\tregisterBlockVisibilityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-block-visibility', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.updateBlockStatus(currentTarget);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the changed visibility for the block\n\t\t */\n\t\tupdateBlockStatus: function (currentTarget) {\n\t\t\tvar blockStatus = currentTarget.data('visible');\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\t\t\tparams['blockid'] = currentTarget.data('blockId');\n\t\t\tparams['display_status'] = blockStatus;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (blockStatus == '1') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_SHOW');\n\t\t\t\t\t} else if (blockStatus == '2') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_DYNAMIC');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_HIDE');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for inactive fields list\n\t\t */\n\t\tregisterInactiveFieldsEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-inactive-fields-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar currentBlock = currentTarget.closest('.editFieldsTable');\n\t\t\t\t//If there are no hidden fields, show pnotify\n\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList)) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_NO_HIDDEN_FIELDS_EXISTS');\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t} else {\n\t\t\t\t\tvar inActiveFieldsContainer = contents.find('.inactiveFieldsModal').clone(true, true);\n\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.inactiveFieldsModal').removeClass('d-none').show();\n\t\t\t\t\t\tvar form = data.find('.inactiveFieldsForm');\n\t\t\t\t\t\tthisInstance.showHiddenFields(form);\n\t\t\t\t\t\t//register click event for reactivate button in the inactive fields modal\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\tthisInstance.createReactivateFieldslist(form);\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tinActiveFieldsContainer,\n\t\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the list of inactive fields in the modal\n\t\t */\n\t\tshowHiddenFields: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet detail = $('#detailViewLayout');\n\t\t\t$.each(self.inActiveFieldsList, function (blockId, fields) {\n\t\t\t\tform\n\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t.append(\n\t\t\t\t\t\t'<h5 class=\"\">' +\n\t\t\t\t\t\t\tdetail.find(`.js-block-container[data-block-id=\"${blockId}\"] .js-block-label`).text() +\n\t\t\t\t\t\t\t'</h5>'\n\t\t\t\t\t);\n\t\t\t\t$.each(fields, function (key, value) {\n\t\t\t\t\tform\n\t\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t`<div class=\"checkbox\"><label><input type=\"checkbox\" class=\"inActiveField mr-2\" value=\"${key}\" data-block=\"${blockId}\"/>${value}</label></div>`\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tform.find('.inActiveList').append('<hr>');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the list of reactivate fields list\n\t\t */\n\t\tcreateReactivateFieldslist: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet blocks = [];\n\t\t\tform.find('.inActiveField').each(function (index, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tlet fieldId = element.val();\n\t\t\t\tlet blockId = element.data('block');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\tdelete self.inActiveFieldsList[blockId][fieldId];\n\t\t\t\t\tif (!self.inActiveFieldsList[blockId]) {\n\t\t\t\t\t\tdelete self.inActiveFieldsList[blockId];\n\t\t\t\t\t}\n\t\t\t\t\tif (!blocks[blockId]) {\n\t\t\t\t\t\tblocks[blockId] = [];\n\t\t\t\t\t}\n\t\t\t\t\tblocks[blockId].push(fieldId);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.each(blocks, function (blockId, fields) {\n\t\t\t\tif (fields) {\n\t\t\t\t\tself.reActivateHiddenFields(blockId, fields);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to unHide the selected fields in the inactive fields modal\n\t\t */\n\t\treActivateHiddenFields: function (blockId, fields) {\n\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'Field',\n\t\t\t\t\tmode: 'unHide',\n\t\t\t\t\tblockId: blockId,\n\t\t\t\t\tfieldIdList: JSON.stringify(fields)\n\t\t\t\t},\n\t\t\t\tmessageParams = {};\n\t\t\tif (params.fieldIdList !== '[]') {\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmessageParams.text = app.vtranslate('JS_NO_ITEM_SELECTED');\n\t\t\t\tmessageParams.type = 'error';\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom block\n\t\t */\n\t\tregisterDeleteCustomBlockEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-delete-custom-block-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet table = currentTarget.closest('div.editFieldsTable');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomBlock(table.data('blockId'));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom block\n\t\t */\n\t\tdeleteCustomBlock: function (blockId) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['blockid'] = blockId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tlet result = data.result;\n\t\t\t\t\tif (data['success'] && result.success) {\n\t\t\t\t\t\tthisInstance.removeDeletedBlock(blockId);\n\t\t\t\t\t\tthisInstance.removeBlockFromBlocksList(blockId);\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_BLOCK_DELETED');\n\t\t\t\t\t} else if (result && result.message) {\n\t\t\t\t\t\tparams['text'] = result.message;\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to remove the deleted custom block from the ui\n\t\t */\n\t\tremoveDeletedBlock: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar deletedTable = contents.find('.block_' + blockId);\n\t\t\tdeletedTable.fadeOut('slow').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom field\n\t\t */\n\t\tregisterDeleteCustomFieldEvent: function (contents) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.deleteCustomField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomField(currentTarget.data('fieldId')).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tlet field = currentTarget.closest('div.editFields'),\n\t\t\t\t\t\t\t\t\tblockId = field.data('blockId');\n\t\t\t\t\t\t\t\tfield.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields($('#block_' + blockId));\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_FIELD_DELETED')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom field\n\t\t */\n\t\tdeleteCustomField: function (fieldId) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['fieldid'] = fieldId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the cahnge event for mandatory & default checkboxes in edit field details\n\t\t */\n\t\tregisterFieldDetailsChange: function (contents) {\n\t\t\tcontents.find('[name=\"mandatory\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') !== 'readonly') {\n\t\t\t\t\tvar form = currentTarget.closest('.fieldDetailsForm');\n\t\t\t\t\tvar quickcreateEle = form.find('[name=\"quickcreate\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tvar presenceEle = form.find('[name=\"presence\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tquickcreateEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t\tpresenceEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickcreateEle.removeAttr('readonly');\n\t\t\t\t\t\tpresenceEle.removeAttr('readonly');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('[name=\"defaultvalue\"],[name=\"header_field\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar defaultValueUi = currentTarget.closest('.checkbox').find('.js-toggle-hide');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tdefaultValueUi.removeClass('zeroOpacity');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValueUi.addClass('zeroOpacity');\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('.js-header_type').on('change', function (e) {\n\t\t\t\tlet el = $(e.currentTarget);\n\t\t\t\tlet relFieldsElement = el.closest('.js-toggle-hide').find('.js-header_rel_fields');\n\t\t\t\tif (el.val() === 'value') {\n\t\t\t\t\trelFieldsElement.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\trelFieldsElement.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for related modules list tab\n\t\t */\n\t\trelatedModulesTabClickEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar relatedContainer = contents.find('#relatedTabOrder');\n\t\t\tvar relatedTab = contents.find('.relatedListTab');\n\t\t\trelatedTab.on('click', function () {\n\t\t\t\tif (relatedContainer.find('.relatedTabModulesList').length > 0) {\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showRelatedTabModulesList(relatedContainer);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the related tab modules list in the tab\n\t\t */\n\t\tshowRelatedTabModulesList: function (relatedContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\trelatedContainer.html(data);\n\t\t\t\t\tif ($(data).find('.relatedListContainer').length > 0) {\n\t\t\t\t\t\tthisInstance.makeRelatedModuleSortable();\n\t\t\t\t\t\tthisInstance.registerRelatedListEvents();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {});\n\t\t},\n\t\t/**\n\t\t * Function to get the respective module layout editor through pjax\n\t\t */\n\t\tgetModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterRelModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorRelModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorRelModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getRelModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tlockCheckbox: function (contents) {\n\t\t\tcontents.on('change', ':checkbox', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') === 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEditFieldDetailsClick: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.js-disable-field').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_INACTIVE_FIELD'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\tmode: 'save',\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tpresence: 1\n\t\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontents.find('.editFieldDetails').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: 'index.php?parent=Settings&module=LayoutEditor&view=EditField&fieldId=' + fieldRow.data('fieldId'),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tthisInstance.registerFieldDetailsChange(modalContainer);\n\t\t\t\t\t\tthisInstance.lockCheckbox(modalContainer);\n\t\t\t\t\t\tthisInstance.registerVaribleToParsers(modalContainer);\n\t\t\t\t\t\tapp.registerEventForClockPicker(modalContainer.find('.clockPicker'));\n\t\t\t\t\t\tmodalContainer.find('[data-inputmask]').inputmask();\n\t\t\t\t\t\tmodalContainer.find('.js-select-icon').on('click', function (e) {\n\t\t\t\t\t\t\t$.when(Settings_Vtiger_Index_Js.selectIcon({ skipImage: true })).done(function (data) {\n\t\t\t\t\t\t\t\tmodalContainer.find('[name=\"icon_name\"]').val(data['name']);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tsendByAjaxCb: (formData, response) => {\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_FIELD_DETAILS_SAVED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet result = response['result'];\n\t\t\t\t\t\tlet fieldLabel = fieldRow.find('.fieldLabel');\n\t\t\t\t\t\tif (result['presence'] === '1') {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (result['mandatory']) {\n\t\t\t\t\t\t\tfieldLabel.find('.redColor').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfieldLabel.find('.redColor').addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterVaribleToParsers: function (container) {\n\t\t\tcontainer.find('.configButton').on('click', function (e) {\n\t\t\t\tcontainer.find('.js-toggle-hide .js-base-element').each(function (n, e) {\n\t\t\t\t\tvar currentElement = $(e);\n\t\t\t\t\tif (currentElement.hasClass('d-none')) {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tcurrentElement.toggleClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.varibleToParsers').on('click', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet container = element.closest('.js-base-element');\n\t\t\t\tlet input = container.find('[name=\"' + container.data('name') + '\"]');\n\t\t\t\tlet fieldId = element.closest('form').find('[name=\"fieldid\"]').val();\n\t\t\t\tlet id = 'varibleToParsersModal';\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\tid: id,\n\t\t\t\t\turl:\n\t\t\t\t\t\t'index.php?parent=Settings&module=LayoutEditor&view=VaribleToParsers&fieldId=' +\n\t\t\t\t\t\tfieldId +\n\t\t\t\t\t\t'&defaultValue=' +\n\t\t\t\t\t\tinput.val(),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', function () {\n\t\t\t\t\t\t\tinput.val(modalContainer.find('select').val());\n\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tApp.Fields.Tree.register(container);\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for blocks\n\t\t */\n\t\tregisterBlockEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.makeBlocksListSortable();\n\t\t\tthisInstance.registerAddCustomFieldEvent();\n\t\t\tthisInstance.registerAddSystemFieldEvent();\n\t\t\tthisInstance.registerBlockVisibilityEvent();\n\t\t\tthisInstance.registerInactiveFieldsEvent();\n\t\t\tthisInstance.registerDeleteCustomBlockEvent();\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for fields\n\t\t */\n\t\tregisterFieldEvents: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tApp.Fields.Date.register(contents);\n\t\t\tApp.Fields.Picklist.changeSelectElementView(contents);\n\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\tthisInstance.registerDeleteCustomFieldEvent(contents);\n\t\t\tthisInstance.registerEditFieldDetailsClick(contents);\n\n\t\t\tcontents.find(':checkbox').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') == 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register switch module type\n\t\t */\n\t\tregisterSwitch: function () {\n\t\t\tthis.container.find('.js-switch--inventory').on('click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_EXTENDED_MODULE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams['sourceModule'] = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\tparams['type'] = event.currentTarget.dataset.value;\n\t\t\t\t\t\tapp.saveAjax('changeModuleType', null, params).done((data) => {\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\t\t\tthis.container.find('.js-switch--inventory').prop('disabled', true);\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field\n\t\t */\n\t\tregisterAddInventoryField() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.addInventoryField').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet blockId = currentTarget.closest('.inventoryBlock').data('block-id');\n\t\t\t\tconst progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step1&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&block=' +\n\t\t\t\t\t\tblockId,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tapp.showScrollBar(modalContainer.find('.well'), {\n\t\t\t\t\t\t\theight: '300px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.registerStep1(modalContainer, blockId);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to editing inventory field\n\t\t */\n\t\tregisterEditInventoryField: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.editInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = $('#layoutEditorContainer').find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tvar editField = currentTarget.closest('.editFields');\n\t\t\t\tvar progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\teditField.data('type') +\n\t\t\t\t\t\t'&fieldName=' +\n\t\t\t\t\t\teditField.data('name'),\n\t\t\t\t\tfunction (container) {\n\t\t\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t\t\t\tthisInstance.registerStep2(container);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field first step\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {int} blockId\n\t\t */\n\t\tregisterStep1(container, blockId) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.js-next-button').on('click', (e) => {\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet type = container.find('select.type').val();\n\t\t\t\tif (type === null) {\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('select.type')\n\t\t\t\t\t\t.validationEngine('showPrompt', app.vtranslate('JS_REQUIRED_FIELD'), 'error', 'topRight', true);\n\t\t\t\t} else {\n\t\t\t\t\tapp.hideModalWindow(() => {\n\t\t\t\t\t\tconst progress = $.progressIndicator({\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\t\t\tthisInstance.registerStep2(modalContainer);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save inventory field\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterStep2: function (container) {\n\t\t\tlet form = container.find('form');\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tapp.saveAjax('saveInventoryField', null, formData).done((data) => {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (data.result && data.success) {\n\t\t\t\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=Index&tab=inventoryViewLayout&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterInventoryFieldSequenceSaveClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar containerInventory = thisInstance.getInventoryViewLayout();\n\t\t\tvar selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainerInventory.on('click', '.saveFieldSequence', function (e) {\n\t\t\t\tvar button = $(e.currentTarget);\n\t\t\t\tvar target = button.closest('.inventoryBlock');\n\t\t\t\tvar fieldId = [];\n\t\t\t\ttarget.find('.editFields').each(function () {\n\t\t\t\t\tfieldId.push($(this).data('id'));\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('saveSequence', null, { sourceModule: selectedModule, ids: fieldId }).done(function (data) {\n\t\t\t\t\tbutton.addClass('invisible');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * removing elements in advanced blocks\n\t\t */\n\t\tregisterDeleteInventoryField: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainer.find('.deleteInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet liElement = currentTarget.closest('li');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet editFields = liElement.find('.editFields');\n\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t.saveAjax('delete', null, {\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tfieldName: editFields.data('name')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\tlet param = {};\n\t\t\t\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\t\t\t\tliElement.remove();\n\t\t\t\t\t\t\t\t\tparam = { type: 'success', text: app.vtranslate('JS_SAVE_CHANGES') };\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tparam = { type: 'error', text: app.vtranslate('JS_ERROR') };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(param);\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tloadMultiReferenceFields: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar module = form.find('[name=\"MRVModule\"]').val();\n\t\t\tform.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]').select2('destroy');\n\t\t\tform.find('[name=\"MRVField\"]').html(thisInstance.cacheMRVField.html());\n\t\t\tform.find('[name=\"MRVField\"] optgroup').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tform.find('[name=\"MRVFilterField\"]').html(thisInstance.cacheMRVFilter.html());\n\t\t\tform.find('[name=\"MRVFilterField\"] option').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]'), {\n\t\t\t\twidth: '100%'\n\t\t\t});\n\t\t},\n\t\tcacheMRVField: false,\n\t\tcacheMRVFilter: false,\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFieldsChangeEvent: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.cacheMRVField = form.find('[name=\"MRVField\"]').clone(true, true);\n\t\t\tthisInstance.cacheMRVFilter = form.find('[name=\"MRVFilterField\"]').clone(true, true);\n\n\t\t\tform.find('[name=\"MRVModule\"]').on('change', function (e) {\n\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFilterFieldChangeEvent: function (form) {\n\t\t\tform.find('[name=\"MRVFilterField\"]').on('change', function (e) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'Field';\n\t\t\t\tparams['mode'] = 'getPicklist';\n\t\t\t\tparams['rfield'] = form.find('[name=\"MRVFilterField\"]').val();\n\t\t\t\tparams['rmodule'] = form.find('[name=\"MRVModule\"]').val();\n\n\t\t\t\tform.find('[name=\"MRVFilterValue\"]').select2('destroy');\n\t\t\t\tform.find('[name=\"MRVFilterValue\"] option').remove();\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$.each(data.result, function (index, value) {\n\t\t\t\t\t\tform.find('[name=\"MRVFilterValue\"]').append($('<option>').val(index).html(value));\n\t\t\t\t\t});\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVFilterValue\"]'), {\n\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register label copy\n\t\t */\n\t\tregisterCopyClipboard: function () {\n\t\t\tnew ClipboardJS('.copyFieldLabel', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn $('#layoutEditorContainer')\n\t\t\t\t\t\t.find('#' + trigger.getAttribute('data-target'))\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Context help\n\t\t */\n\t\tregisterContextHelp: function () {\n\t\t\t$(document).on('click', '.js-context-help', function (e) {\n\t\t\t\tconst customConfig = {\n\t\t\t\t\ttoolbar: 'Min'\n\t\t\t\t};\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'HelpInfo',\n\t\t\t\t\tfield: element.data('field-id')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showPopoverElementView(modalContainer.find('.js-help-info'));\n\t\t\t\t\t\tApp.Fields.Text.Editor.register(modalContainer.find('.js-context-area:visible'), customConfig);\n\t\t\t\t\t\tmodalContainer.find('.js-lang').on('change', function (e) {\n\t\t\t\t\t\t\tlet previous = modalContainer.find('.js-editor:not([disabled])');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(previous);\n\t\t\t\t\t\t\tprevious.closest('.js-context-block').addClass('d-none');\n\t\t\t\t\t\t\tprevious.prop('disabled', true);\n\t\t\t\t\t\t\tlet element = $(e.currentTarget).val();\n\t\t\t\t\t\t\tlet textArea = modalContainer.find('#' + element + '.js-context-area');\n\t\t\t\t\t\t\ttextArea.prop('disabled', false);\n\t\t\t\t\t\t\ttextArea.closest('.js-context-block').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(textArea);\n\t\t\t\t\t\t\tmodalContainer.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\tApp.Fields.Text.Editor.register(textArea, customConfig);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tvar form = $(e.currentTarget);\n\t\t\t\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\t\t\t\tif (typeof params.views === 'undefined') {\n\t\t\t\t\t\t\t\tparams.views = form.find('[name=\"views\"]').val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.saveAjax('contextHelp', '', params).done(function (data) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet prefix = form.find('.js-lang').val();\n\t\t\t\t\t\t\t\tlet textArea = form.find('#' + prefix + '.js-context-area');\n\t\t\t\t\t\t\t\tform.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\t\tif (e.originalEvent.submitter.name === 'saveCloseButton') {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register webservice apps events\n\t\t */\n\t\tregisterWebserviceAppsEvent: function () {\n\t\t\t$(document).on('click', '.js-edit-field-api', function (e) {\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'WebserviceAppsModal',\n\t\t\t\t\twa: element.data('wa'),\n\t\t\t\t\tfieldId: element.data('fieldId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tmodalContainer.find('.js-default-value').on('change', function (e) {\n\t\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\t\tlet defaultValueUi = currentTarget.closest('.js-modal-form').find('.js-default-value-container');\n\t\t\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\t\t\tdefaultValueUi.removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultValueUi.addClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tmodalContainer.find('.js-modal-form').trigger('submit');\n\t\t\t\t\t\t\telement.closest('li').addClass('u-bg-gray');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events for layout editor\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.container = $('#layoutEditorContainer');\n\t\t\tthis.registerBlockEvents();\n\t\t\tthis.registerFieldEvents();\n\t\t\tthis.setInactiveFieldsList();\n\t\t\tthis.registerAddCustomBlockEvent();\n\t\t\tthis.relatedModulesTabClickEvent();\n\t\t\tthis.registerModulesChangeEvent();\n\t\t\tthis.registerRelModulesChangeEvent();\n\t\t\tif (1 === $('#relatedTabOrder').length) {\n\t\t\t\tthis.registerRelatedListEvents();\n\t\t\t\tthis.makeRelatedModuleSortable();\n\t\t\t}\n\t\t\tthis.registerSwitch();\n\t\t\tthis.registerAddInventoryField();\n\t\t\tthis.registerEditInventoryField();\n\t\t\tthis.registerInventoryFieldSequenceSaveClick();\n\t\t\tthis.registerDeleteInventoryField();\n\t\t\tthis.registerFieldSequenceSaveClick();\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.registerEvents();\n\t\t\tthis.registerCopyClipboard();\n\t\t\tthis.registerContextHelp();\n\t\t\tthis.registerWebserviceAppsEvent();\n\t\t}\n\t}\n);\n\njQuery(function () {\n\tvar instance = new Settings_LayoutEditor_Js();\n\tinstance.registerBasicEvents();\n});\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_FloatingDigits_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_FloatingDigits_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the decimals length\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue < 2 || fieldValue > 5) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_NUMBER_IN_RANGE_2TO5');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_DecimalMaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar decimalFieldValue = $('#createFieldForm').find('[name=\"decimal\"]').val();\n\t\t\t\tvar fieldLength = parseInt(64) - parseInt(decimalFieldValue);\n\t\t\t\tif (fieldValue > fieldLength && !(fieldLength < 0) && fieldLength >= 59) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' ' + fieldLength;\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_MaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue > 255) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' 255';\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tvar specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PicklistFieldValues_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet instance = new Vtiger_PicklistFieldValues_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getElement().val());\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[\\<\\>\\\"\\,\\#]/;\n\t\t\tlet r = true;\n\t\t\t$.each(fieldValue, (i, val) => {\n\t\t\t\tif (specialChars.test(val)) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_SPECIAL_CHARACTERS') + ' < > \" , # ' + app.vtranslate('JS_NOT_ALLOWED'));\n\t\t\t\t\tr = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn r;\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","updatedBlockSequence","inActiveFieldsList","updatedBlockFieldsList","updatedBlocksList","blockNamesList","setInactiveFieldsList","thisInstance","contents","find","json","length","JSON","parse","val","makeBlocksListSortable","table","sortable","containment","items","revert","tolerance","cursor","update","updateBlockSequence","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","sequence","stringify","updateBlocksListByOrder","params","module","app","getModuleName","parent","getParentModuleName","action","mode","AppConnector","request","done","text","vtranslate","Settings_Vtiger_Index_Js","showMessage","fail","each","index","domElement","blockTable","blockId","data","actualBlockSequence","expectedBlockSequence","registerRelatedListEvents","relatedList","App","Fields","Picklist","showSelect2ElementView","sortableCb","currentTarget","updateSelectedFields","updateCustomView","on","e","relatedModule","closest","removeClass","show","hide","changeStatusRelatedModule","removeRelation","changeStateFavorites","value","validationEngine","changeRelatedViewType","updateCustomViewOrderBy","contentsDiv","addRelationContainer","clone","callBackFunction","not","addClass","form","serializeFormData","extend","response","result","success","getRelModuleLayoutEditor","html","registerEvents","message","type","showModalWindow","getSelectedFields","target","selectedFields","push","id","name","makeRelatedModuleSortable","relatedModulesContainer","modulesList","handle","updateSequenceRelatedModule","relationId","types","error","textTrusted","status","showConfirmModal","confirmedCallback","remove","modules","inventory","fields","cv","showNotify","orderby","prop","makeFieldsListSortable","connectWith","ui","currentField","item","hasClass","showSaveFieldSequenceButton","getDetailViewLayout","createUpdatedBlocksList","sender","olderBlock","reArrangeBlockFields","getInventoryViewLayout","layout","saveButton","isHidden","isInvisible","hideSaveFieldSequenceButton","block","updatedBlockId","inArray","leftSideContainer","rightSideContainer","children","lastElementInRightContainer","append","lastElementInLeftContainer","createUpdatedBlockFieldsList","updatedBlock","firstBlockSortFields","editFields","expectedFieldSequence","i","fieldEle","fieldId","fieldid","secondBlockSortFields","secondEditFields","sequenceValue","registerFieldSequenceSaveClick","_this","updateFieldSequence","progress","updatedFields","window","location","reload","checkPicklistExist","fieldNameValue","aDeferred","Deferred","fieldName","toLowerCase","resolve","rejectedCallback","promise","registerAddSystemFieldEvent","_this2","selectedModule","modalContainer","sourceModule","field","registerAddCustomFieldEvent","_this3","addFieldContainer","width","attr","tags","tokenSeparators","registerFieldTypeChangeEvent","registerMultiReferenceFieldsChangeEvent","registerMultiReferenceFilterFieldChangeEvent","getvalidationEngineOptions","onValidationComplete","valid","fieldTypeValue","validateFieldsValue","saveCustomField","removeAttr","concat","err","errorLog","addCustomField","hideModalWindow","title","code","setBlocksListArray","blocksListSelect","ele","option","label","modalHeader","Window","lastModalId","smallLoadingImage","imageContainerCss","display","\"margin-left\"","blockid","errorObj","responseText","reject","lengthInput","lengthValidator","maxLengthValidator","decimalValidator","selectedOption","decimalFieldUi","decimalInput","maxFloatingDigits","moduleList","select2","loadMultiReferenceFields","picklistTags","pickListValues","replace","registerAddCustomBlockEvent","addBlockContainer","fieldLabel","Object","create","validationEngineOptions","formData","saveBlockDetails","displayNewCustomBlock","updateNewSequenceForBlocks","sequenceList","appendNewBlockToBlocksList","preventDefault","beforeBlockId","beforeBlock","newBlockCloneCopy","isAddCustomFieldEnabled","after","hiddenAddBlockModel","removeBlockFromBlocksList","registerBlockVisibilityEvent","updateBlockStatus","blockStatus","display_status","registerInactiveFieldsEvent","currentBlock","isEmptyObject","inActiveFieldsContainer","showHiddenFields","createReactivateFieldslist","self","detail","key","blocks","element","is","reActivateHiddenFields","fieldIdList","messageParams","registerDeleteCustomBlockEvent","deleteCustomBlock","removeDeletedBlock","deletedTable","fadeOut","registerDeleteCustomFieldEvent","deleteCustomField","registerFieldDetailsChange","quickcreateEle","filter","presenceEle","defaultValueUi","el","relFieldsElement","relatedModulesTabClickEvent","relatedContainer","relatedTab","showRelatedTabModulesList","view","getModuleLayoutEditor","requestPjax","registerModulesChangeEvent","registerRelModulesChangeEvent","lockCheckbox","registerEditFieldDetailsClick","fieldRow","presence","url","cb","registerVaribleToParsers","registerEventForClockPicker","inputmask","when","selectIcon","skipImage","sendByAjaxCb","mandatory","n","currentElement","toggleClass","input","Tree","register","registerBlockEvents","registerFieldEvents","Date","changeSelectElementView","registerSwitch","_this4","event","dataset","saveAjax","registerAddInventoryField","_this5","showScrollBar","height","registerStep1","registerEditInventoryField","editField","showPopoverElementView","registerStep2","_this6","_this7","href","registerInventoryFieldSequenceSaveClick","containerInventory","button","ids","registerDeleteInventoryField","liElement","param","cacheMRVField","cacheMRVFilter","rfield","rmodule","registerCopyClipboard","ClipboardJS","trigger","getAttribute","registerContextHelp","document","customConfig","toolbar","progressInstance","Text","Editor","previous","destroyEditor","textArea","views","prefix","originalEvent","submitter","registerWebserviceAppsEvent","wa","registerBasicEvents","jQuery","instance","Settings_LayoutEditor_Js","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","rangeInstance","Vtiger_FloatingDigits_Validator_Js","setElement","validate","getError","_super","fieldValue","getFieldValue","errorInfo","setError","test","Vtiger_DecimalMaxLength_Validator_Js","decimalFieldValue","fieldLength","parseInt","Vtiger_Base_Validator_Js","Vtiger_FieldLabel_Validator_Js","validateValue","Vtiger_PicklistFieldValues_Validator_Js","getElement","_this8","specialChars","r"],"mappings":"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"}