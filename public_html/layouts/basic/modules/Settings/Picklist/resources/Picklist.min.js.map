{"version":3,"file":"Picklist.min.js","sources":["Picklist.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\nvar Settings_Picklist_Js = {\n\tregisterModuleChangeEvent: function () {\n\t\tjQuery('#pickListModules').on('change', function (e) {\n\t\t\tvar selectedModule = jQuery(e.currentTarget).val();\n\t\t\tif (selectedModule.length <= 0) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_MODULE')\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsource_module: selectedModule,\n\t\t\t\tview: 'IndexAjax',\n\t\t\t\tmode: 'getPickListDetailsForModule'\n\t\t\t};\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tjQuery('#modulePickListContainer').html(data);\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(jQuery('#modulePickListContainer'));\n\t\t\t\tSettings_Picklist_Js.registerModulePickListChangeEvent();\n\t\t\t\tjQuery('#modulePickList').trigger('change');\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterModulePickListChangeEvent: function () {\n\t\tjQuery('#modulePickList').on('change', function (e) {\n\t\t\tlet picklistId = $(e.currentTarget).val();\n\t\t\tif (!picklistId) {\n\t\t\t\t$('#modulePickListValuesContainer').html('');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsource_module: jQuery('#pickListModules').val(),\n\t\t\t\tview: 'IndexAjax',\n\t\t\t\tmode: 'getPickListValueForField',\n\t\t\t\tpickListFieldId: picklistId\n\t\t\t};\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tjQuery('#modulePickListValuesContainer').html(data);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(jQuery('#rolesList'));\n\t\t\t\tSettings_Picklist_Js.registerItemActions();\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterAddItemEvent: function () {\n\t\tjQuery('#importItem').on('click', function (e) {\n\t\t\tvar data = jQuery('#importViewContents').find('.modal');\n\t\t\tvar clonedCreateView = data.clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tlet form = data.find('form');\n\t\t\t\tform.validationEngine();\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\tif (form.validationEngine('validate') == true) {\n\t\t\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\turl: 'index.php',\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tform.find('.js-summary').removeClass('d-none');\n\t\t\t\t\t\t\t\tform.find('.js-all-number').val(response.result.all);\n\t\t\t\t\t\t\t\tform.find('.js-imported-number').val(response.result.success);\n\t\t\t\t\t\t\t\tform.find('.js-errors-number').val(response.result.errors);\n\t\t\t\t\t\t\t\tform.find('.js-errors').val(response.result.errorMessage);\n\t\t\t\t\t\t\t\tdata.find('.js-modal__save').addClass('d-none');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail((error, title) => {\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(clonedCreateView, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterImportItemEvent: function () {\n\t\tjQuery('#addItem').on('click', function (e) {\n\t\t\tvar data = jQuery('#createViewContents').find('.modal');\n\t\t\tvar clonedCreateView = data.clone(true, true).removeClass('basicCreateView').addClass('createView');\n\t\t\tclonedCreateView.find('.rolesList').addClass('select2');\n\t\t\tclonedCreateView.find('.automation-list').addClass('select2');\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tjQuery('[name=\"addItemForm\"]', data).validationEngine();\n\t\t\t\tSettings_Picklist_Js.registerAddItemSaveEvent(data);\n\t\t\t\tSettings_Picklist_Js.regiserSelectRolesEvent(data);\n\t\t\t};\n\t\t\tapp.showModalWindow(clonedCreateView, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterAssingValueToRuleEvent: function () {\n\t\tjQuery('#assignValue').on('click', function () {\n\t\t\tvar pickListValuesTable = jQuery('#pickListValuesTable');\n\t\t\tvar selectedListItem = jQuery('.selectedListItem', pickListValuesTable);\n\t\t\tif (selectedListItem.length > 0) {\n\t\t\t\tvar selectedValues = [];\n\t\t\t\tjQuery.each(selectedListItem, function (i, element) {\n\t\t\t\t\tselectedValues.push(jQuery(element).closest('tr').data('key'));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsource_module: jQuery('#pickListModules').val(),\n\t\t\t\tview: 'IndexAjax',\n\t\t\t\tmode: 'showAssignValueToRoleView',\n\t\t\t\tpickListFieldId: jQuery('#modulePickList').val()\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.showModalWindow(data);\n\t\t\t\tjQuery('[name=\"addItemForm\"]', jQuery(data)).validationEngine();\n\t\t\t\tSettings_Picklist_Js.registerAssignValueToRoleSaveEvent(jQuery(data));\n\t\t\t\tif (selectedListItem.length > 0) {\n\t\t\t\t\tjQuery('[name=\"assign_values[]\"]', jQuery('#assignValueToRoleForm')).select2('val', selectedValues);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterAssignValueToRoleSaveEvent: function (data) {\n\t\tjQuery('#assignValueToRoleForm').on('submit', function (e) {\n\t\t\tvar form = jQuery(e.currentTarget);\n\n\t\t\tvar assignValuesSelectElement = jQuery('[name=\"assign_values[]\"]', form);\n\t\t\tvar assignValuesSelect2Element = app.getSelect2ElementFromSelect(assignValuesSelectElement);\n\t\t\tvar assignValueResult = Vtiger_MultiSelect_Validator_Js.invokeValidation(assignValuesSelectElement);\n\t\t\tif (assignValueResult != true) {\n\t\t\t\tassignValuesSelect2Element.validationEngine('showPrompt', assignValueResult, 'error', 'topLeft', true);\n\t\t\t} else {\n\t\t\t\tassignValuesSelect2Element.validationEngine('hide');\n\t\t\t}\n\n\t\t\tvar rolesSelectElement = jQuery('[name=\"rolesSelected[]\"]', form);\n\t\t\tvar select2Element = app.getSelect2ElementFromSelect(rolesSelectElement);\n\t\t\tvar result = Vtiger_MultiSelect_Validator_Js.invokeValidation(rolesSelectElement);\n\t\t\tif (result != true) {\n\t\t\t\tselect2Element.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t} else {\n\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t}\n\n\t\t\tif (assignValueResult != true || result != true) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', 'disabled');\n\t\t\t}\n\t\t\tvar params = jQuery(e.currentTarget).serializeFormData();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (typeof data.result !== 'undefined') {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_VALUE_ASSIGNED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\te.preventDefault();\n\t\t});\n\t},\n\n\tregisterEnablePickListValueClickEvent: function () {\n\t\tjQuery('#listViewContents').on('click', '.assignToRolePickListValue', function (e) {\n\t\t\tjQuery('#saveOrder').removeAttr('disabled');\n\n\t\t\tvar pickListVaue = jQuery(e.currentTarget);\n\t\t\tif (pickListVaue.hasClass('selectedCell')) {\n\t\t\t\tpickListVaue.removeClass('selectedCell').addClass('unselectedCell');\n\t\t\t\tpickListVaue.find('.fas').remove();\n\t\t\t} else {\n\t\t\t\tpickListVaue.removeClass('unselectedCell').addClass('selectedCell');\n\t\t\t\tpickListVaue.prepend('<i class=\"fas fa-check float-left\"></span>');\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterenableOrDisableListSaveEvent: function () {\n\t\tjQuery('#saveOrder').on('click', function (e) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: jQuery('.tab-content')\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar pickListValues = jQuery('.assignToRolePickListValue');\n\t\t\tvar disabledValues = [];\n\t\t\tvar enabledValues = [];\n\t\t\tjQuery.each(pickListValues, function (i, element) {\n\t\t\t\tvar currentValue = jQuery(element);\n\t\t\t\tif (currentValue.hasClass('selectedCell')) {\n\t\t\t\t\tenabledValues.push(currentValue.data('id'));\n\t\t\t\t} else {\n\t\t\t\t\tdisabledValues.push(currentValue.data('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'enableOrDisable',\n\t\t\t\tenabled_values: enabledValues,\n\t\t\t\tdisabled_values: disabledValues,\n\t\t\t\tpicklistName: jQuery('[name=\"picklistName\"]').val(),\n\t\t\t\trolesSelected: jQuery('#rolesList').val()\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (typeof data.result !== 'undefined') {\n\t\t\t\t\tjQuery(e.currentTarget).attr('disabled', 'disabled');\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_LIST_UPDATED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregiserSelectRolesEvent: function (data) {\n\t\tdata.find('[name=\"rolesSelected[]\"]').on('change', function (e) {\n\t\t\tvar rolesSelectElement = jQuery(e.currentTarget);\n\t\t\tvar selectedValue = rolesSelectElement.val();\n\t\t\tif (jQuery.inArray('all', selectedValue) != -1) {\n\t\t\t\trolesSelectElement.select2('val', '');\n\t\t\t\trolesSelectElement.select2('val', 'all');\n\t\t\t\trolesSelectElement.select2('close');\n\t\t\t\trolesSelectElement.find('option').not(':first').attr('disabled', 'disabled');\n\t\t\t\tdata\n\t\t\t\t\t.find(jQuery('.modal-body'))\n\t\t\t\t\t.append(\n\t\t\t\t\t\t'<div class=\"alert alert-info textAlignCenter\">' + app.vtranslate('JS_ALL_ROLES_SELECTED') + '</div>'\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\trolesSelectElement.find('option').removeAttr('disabled', 'disabled');\n\t\t\t\tdata.find('.modal-body').find('.alert').remove();\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Register rename item event\n\t */\n\tregisterRenameItemEvent: function () {\n\t\t$('#renameItem').on('click', (e) => {\n\t\t\tconst selectedListItems = this.getSelectedItems();\n\t\t\tif (selectedListItems.length < 1) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else if (selectedListItems.length > 1) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_MORE_THAN_ONE_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsource_module: $('#pickListModules').val(),\n\t\t\t\t\tview: 'IndexAjax',\n\t\t\t\t\tmode: 'showEditView',\n\t\t\t\t\tpickListFieldId: $('#modulePickList').val(),\n\t\t\t\t\tfieldValueId: selectedListItems[0].keyId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showModalWindow(data);\n\t\t\t\t\tconst form = $('#renameItemForm');\n\t\t\t\t\tthis.registerScrollForNonEditablePicklistValues(form);\n\t\t\t\t\tform.validationEngine();\n\t\t\t\t\tSettings_Picklist_Js.registerRenameItemSaveEvent();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Function to register the scroll bar for NonEditable Picklist Values\n\t */\n\tregisterScrollForNonEditablePicklistValues: function (container) {\n\t\tjQuery(container).find('.nonEditablePicklistValues').slimScroll({\n\t\t\theight: '70px',\n\t\t\tsize: '6px'\n\t\t});\n\t},\n\n\t/**\n\t * Get selected list items\n\t *\n\t * @return  {array}\n\t */\n\tgetSelectedItems() {\n\t\tconst pickListValuesTable = $('#pickListValuesTable');\n\t\tconst selectedListItem = $('.selectedListItem', pickListValuesTable);\n\t\tconst selectedListItemsArray = [];\n\t\t$.each(selectedListItem, function (index, element) {\n\t\t\tselectedListItemsArray.push({\n\t\t\t\tkey: $(element).closest('tr').data('key'),\n\t\t\t\tkeyId: $(element).closest('tr').data('key-id')\n\t\t\t});\n\t\t});\n\t\treturn selectedListItemsArray;\n\t},\n\n\t/**\n\t * Register delete item event\n\t */\n\tregisterDeleteItemEvent() {\n\t\t$('#deleteItem').on('click', (e) => {\n\t\t\tconst selectedListItems = this.getSelectedItems();\n\t\t\tconst pickListValues = $('.pickListValue', pickListValuesTable);\n\t\t\tif (pickListValues.length === selectedListItems.length) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_ALL_THE_VALUES'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.showDeleteItemForm({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsource_module: jQuery('#pickListModules').val(),\n\t\t\t\tview: 'IndexAjax',\n\t\t\t\tmode: 'showDeleteView',\n\t\t\t\tpickListFieldId: $('#modulePickList').val(),\n\t\t\t\tfieldValue: JSON.stringify(selectedListItems.map((item) => item.key))\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterDeleteOptionEvent: function () {\n\t\tlet replaceValueElement = jQuery('#replaceValue');\n\t\tjQuery('[name=\"delete_value[]\"]').on('select2:unselect', function (e) {\n\t\t\tlet id = e.params.data.id;\n\t\t\tlet text = e.params.data.text;\n\t\t\treplaceValueElement.append('<option value=\"' + id + '\">' + text + '</option>').trigger('change');\n\t\t});\n\t\tjQuery('[name=\"delete_value[]\"]').on('select2:select', function (e) {\n\t\t\tlet id = e.params.data.id;\n\t\t\tjQuery('#replaceValue option[value=\"' + id + '\"]').remove();\n\t\t\treplaceValueElement.trigger('change');\n\t\t});\n\t},\n\n\tregisterChangeRoleEvent: function () {\n\t\tjQuery('#rolesList').on('change', function (e) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: jQuery('.tab-content')\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar rolesList = jQuery(e.currentTarget);\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'IndexAjax',\n\t\t\t\tmode: 'getPickListValueByRole',\n\t\t\t\trolesSelected: rolesList.val(),\n\t\t\t\tpickListFieldId: jQuery('#modulePickList').val(),\n\t\t\t\tsourceModule: jQuery('input[name=\"source_module\"]').val()\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tjQuery('#pickListValeByRoleContainer').html(data);\n\t\t\t\tSettings_Picklist_Js.registerenableOrDisableListSaveEvent();\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Register process status item save evet\n\t *\n\t * @param   {jQuery}  form\n\t */\n\tregisterProcessStatusItemSaveEvent(form) {\n\t\tform.on('submit', (e) => {\n\t\t\te.preventDefault();\n\t\t\tlet form = $(e.currentTarget);\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tlet newValue,\n\t\t\t\t\tparams = form.serializeFormData();\n\t\t\t\tif (form.find('[name=\"newValue\"]').length > 0) {\n\t\t\t\t\tnewValue = $.trim(form.find('[name=\"newValue\"]').val());\n\t\t\t\t\tparams.newValue = newValue;\n\t\t\t\t}\n\t\t\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', 'disabled');\n\t\t\t\t}\n\t\t\t\tconst progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (typeof data.result !== 'undefined' && data.result === true) {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ITEM_SAVED_SUCCESSFULLY'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Register process status item event\n\t */\n\tregisterProcessStatusItemEvent() {\n\t\t$('#processStatusItem').on('click', (e) => {\n\t\t\tconst selectedListItems = this.getSelectedItems();\n\t\t\tif (selectedListItems.length === 0) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else if (selectedListItems.length > 1) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_MORE_THAN_ONE_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsource_module: $('#pickListModules').val(),\n\t\t\t\t\tview: 'IndexAjax',\n\t\t\t\t\tmode: 'showProcessStatusView',\n\t\t\t\t\tpickListFieldId: $('#modulePickList').val(),\n\t\t\t\t\tfieldValueId: selectedListItems[0].keyId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showModalWindow(data);\n\t\t\t\t\tlet form = $('#processStatusItemForm');\n\t\t\t\t\tthis.registerScrollForNonEditablePicklistValues(form);\n\t\t\t\t\tform.validationEngine();\n\t\t\t\t\tSettings_Picklist_Js.registerProcessStatusItemSaveEvent(form);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterAddItemSaveEvent: function (container) {\n\t\tcontainer.find('[name=\"addItemForm\"]').on('submit', function (e) {\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tvar validationResult = form.validationEngine('validate');\n\t\t\tif (validationResult == true) {\n\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\tif (invalidFields.length == 0) {\n\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', 'disabled');\n\t\t\t\t}\n\n\t\t\t\tvar params = jQuery(e.currentTarget).serializeFormData();\n\t\t\t\tvar newValue = params.newValue;\n\t\t\t\tparams.newValue = jQuery.trim(newValue);\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tdata = data.result;\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newValue = jQuery.trim(jQuery('[name=\"newValue\"]', container).val());\n\t\t\t\t\t\t\tvar dragImagePath = jQuery('#dragImagePath').val();\n\t\t\t\t\t\t\tvar newElement =\n\t\t\t\t\t\t\t\t'<tr class=\"pickListValue u-cursor-pointer\"><td class=\"u-text-ellipsis\"><img class=\"alignMiddle\" src=\"' +\n\t\t\t\t\t\t\t\tdragImagePath +\n\t\t\t\t\t\t\t\t'\" />&nbsp;&nbsp;' +\n\t\t\t\t\t\t\t\tnewValue +\n\t\t\t\t\t\t\t\t'</td></tr>';\n\t\t\t\t\t\t\tvar newPickListValueRow = jQuery(newElement).appendTo(jQuery('#pickListValuesTable').find('tbody'));\n\t\t\t\t\t\t\tnewPickListValueRow.attr('data-key', newValue);\n\t\t\t\t\t\t\tnewPickListValueRow.attr('data-key-id', data['id']);\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ITEM_ADDED_SUCCESSFULLY'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t\t//update the new item in the hidden picklist values array\n\t\t\t\t\t\t\tvar pickListValuesEle = jQuery('[name=\"pickListValues\"]');\n\t\t\t\t\t\t\tvar pickListValuesArray = JSON.parse(pickListValuesEle.val());\n\t\t\t\t\t\t\tpickListValuesArray[data['id']] = newValue;\n\t\t\t\t\t\t\tpickListValuesEle.val(JSON.stringify(pickListValuesArray));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (err, error, errorObj) {\n\t\t\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', false);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t});\n\t},\n\t/**\n\t * Remene item\n\t */\n\tregisterRenameItemSaveEvent() {\n\t\t$('#renameItemForm').on('submit', (e) => {\n\t\t\te.preventDefault();\n\t\t\tlet form = $(e.currentTarget);\n\t\t\tlet thisInstance = this;\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tlet confirmation = $('#modulePickList').find('option:selected').data('confirmation');\n\t\t\t\tif (confirmation !== undefined) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttitle: confirmation,\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\tthisInstance.renameItem(form);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.renameItem(form);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Rename item.\n\t * @param {jQuery} form\n\t */\n\trenameItem(form) {\n\t\tlet newValue,\n\t\t\toldValue = form.find('[name=\"oldValue\"]').val(),\n\t\t\tid = form.find('[name=\"primaryKeyId\"]').val(),\n\t\t\tparams = form.serializeFormData();\n\t\tif (form.find('[name=\"newValue\"]').length > 0) {\n\t\t\tnewValue = $.trim(form.find('[name=\"newValue\"]').val());\n\t\t\tparams.newValue = newValue;\n\t\t}\n\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', 'disabled');\n\t\t}\n\t\tconst progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\tAppConnector.request(params)\n\t\t\t.done((data) => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (typeof data.result !== 'undefined') {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_ITEM_RENAMED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tif (newValue !== '') {\n\t\t\t\t\t\tlet encodedOldValue = oldValue.replace(/\"/g, '\\\\\"'),\n\t\t\t\t\t\t\tdragImagePath = $('#dragImagePath').val(),\n\t\t\t\t\t\t\trenamedElement =\n\t\t\t\t\t\t\t\t'<tr class=\"pickListValue u-cursor-pointer\">' +\n\t\t\t\t\t\t\t\t'<td class=\"u-text-ellipsis\"><img class=\"alignMiddle\" src=\"' +\n\t\t\t\t\t\t\t\tdragImagePath +\n\t\t\t\t\t\t\t\t'\" />&nbsp;&nbsp;' +\n\t\t\t\t\t\t\t\tdata.result.newValue +\n\t\t\t\t\t\t\t\t'</td></tr>';\n\t\t\t\t\t\t$('[data-key=\"' + encodedOldValue + '\"]').replaceWith(\n\t\t\t\t\t\t\t$(renamedElement).attr('data-key', newValue).attr('data-key-id', id)\n\t\t\t\t\t\t);\n\t\t\t\t\t\t//update the new item in the hidden picklist values array\n\t\t\t\t\t\tlet pickListValuesEle = $('[name=\"pickListValues\"]'),\n\t\t\t\t\t\t\tpickListValuesArray = JSON.parse(pickListValuesEle.val());\n\t\t\t\t\t\tpickListValuesArray[id] = newValue;\n\t\t\t\t\t\tpickListValuesEle.val(JSON.stringify(pickListValuesArray));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function (data, err, errorObj) {\n\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', false);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\n\tshowDeleteItemForm: function (params) {\n\t\tvar thisInstance = this;\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar callBackFunction = function (data) {\n\t\t\tvar form = data.find('#deleteItemForm');\n\t\t\tthisInstance.registerScrollForNonEditablePicklistValues(form);\n\t\t\tvar maximumSelectionSize = jQuery('#pickListValuesCount').val() - 1;\n\t\t\tApp.Fields.Picklist.changeSelectElementView(jQuery('[name=\"delete_value[]\"]'), 'select2', {\n\t\t\t\tmaximumSelectionLength: maximumSelectionSize,\n\t\t\t\tdropdownCss: { 'z-index': 100001 }\n\t\t\t});\n\t\t\tSettings_Picklist_Js.registerDeleteOptionEvent();\n\t\t\tvar validationParams = app.getvalidationEngineOptions(true);\n\t\t\tvalidationParams.onValidationComplete = function (form, valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tlet confirmation = $('#modulePickList').find('option:selected').data('confirmation');\n\t\t\t\t\tif (confirmation !== undefined) {\n\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\ttitle: confirmation,\n\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\tthisInstance.deleteItem(form);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisInstance.deleteItem(form);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tform.validationEngine(validationParams);\n\t\t};\n\t},\n\n\t/**\n\t * Delete item.\n\t * @param {jQuery} form\n\t */\n\tdeleteItem(form) {\n\t\tlet selectElement = jQuery('[name=\"delete_value[]\"]');\n\t\tlet select2Element = app.getSelect2ElementFromSelect(selectElement);\n\t\tlet result = Vtiger_MultiSelect_Validator_Js.invokeValidation(selectElement);\n\t\tif (result !== true) {\n\t\t\tselect2Element.validationEngine('showPrompt', result, 'error', 'topLeft', true);\n\t\t\treturn;\n\t\t} else {\n\t\t\tselect2Element.validationEngine('hide');\n\t\t\tform.find('[name=\"saveButton\"]').attr('disabled', 'disabled');\n\t\t}\n\t\tlet deleteValues = jQuery('[name=\"delete_value[]\"]').val();\n\t\tAppConnector.request(form.serializeFormData()).done(function (data) {\n\t\t\tif (typeof data.result !== 'undefined') {\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\t//delete the item in the hidden picklist values array\n\t\t\t\tlet pickListValuesEle = jQuery('[name=\"pickListValues\"]');\n\t\t\t\tlet pickListValuesArray = JSON.parse(pickListValuesEle.val());\n\t\t\t\tjQuery.each(deleteValues, function (i, e) {\n\t\t\t\t\tlet encodedOldValue = e.replace(/\"/g, '\\\\\"');\n\t\t\t\t\tjQuery('[data-key-id=\"' + encodedOldValue + '\"]').remove();\n\t\t\t\t\tdelete pickListValuesArray[e];\n\t\t\t\t});\n\t\t\t\tpickListValuesEle.val(JSON.stringify(pickListValuesArray));\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_ITEMS_DELETED_SUCCESSFULLY'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterSelectPickListValueEvent: function () {\n\t\tjQuery('#pickListValuesTable').on('click', '.pickListValue', function (event) {\n\t\t\tvar currentRow = jQuery(event.currentTarget);\n\t\t\tvar currentRowTd = currentRow.find('td');\n\t\t\tevent.preventDefault();\n\n\t\t\tif (event.ctrlKey) {\n\t\t\t\tcurrentRowTd.toggleClass('selectedListItem');\n\t\t\t} else {\n\t\t\t\tjQuery('.pickListValue').find('td').not(currentRowTd).removeClass('selectedListItem');\n\t\t\t\tcurrentRowTd.toggleClass('selectedListItem');\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterPickListValuesSortableEvent: function () {\n\t\tvar tbody = jQuery('tbody', jQuery('#pickListValuesTable'));\n\t\ttbody.sortable({\n\t\t\thelper: function (e, ui) {\n\t\t\t\t//while dragging helper elements td element will take width as contents width\n\t\t\t\t//so we are explicity saying that it has to be same width so that element will not\n\t\t\t\t//look like distrubed\n\t\t\t\tui.children().each(function (index, element) {\n\t\t\t\t\telement = jQuery(element);\n\t\t\t\t\telement.width(element.width());\n\t\t\t\t});\n\t\t\t\treturn ui;\n\t\t\t},\n\t\t\tcontainment: tbody,\n\t\t\trevert: true,\n\t\t\tupdate: function (e, ui) {\n\t\t\t\tjQuery('#saveSequence').removeAttr('disabled');\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterSaveSequenceClickEvent: function () {\n\t\tjQuery('#saveSequence').on('click', function (e) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: jQuery('.tab-content')\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar pickListValuesSequenceArray = {};\n\t\t\tvar pickListValues = jQuery('#pickListValuesTable').find('.pickListValue');\n\t\t\tjQuery.each(pickListValues, function (i, element) {\n\t\t\t\tpickListValuesSequenceArray[jQuery(element).data('key-id')] = ++i;\n\t\t\t});\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'saveOrder',\n\t\t\t\tpicklistValues: pickListValuesSequenceArray,\n\t\t\t\tpicklistName: jQuery('[name=\"picklistName\"]').val()\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (typeof data.result !== 'undefined') {\n\t\t\t\t\tjQuery('#saveSequence').attr('disabled', 'disabled');\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_SEQUENCE_UPDATED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterAssingValueToRoleTabClickEvent: function () {\n\t\tjQuery('#assignedToRoleTab').on('click', function (e) {\n\t\t\tjQuery('#rolesList').trigger('change');\n\t\t});\n\t},\n\n\tregisterItemActions: function () {\n\t\tSettings_Picklist_Js.registerAddItemEvent();\n\t\tSettings_Picklist_Js.registerImportItemEvent();\n\t\tSettings_Picklist_Js.registerRenameItemEvent();\n\t\tSettings_Picklist_Js.registerDeleteItemEvent();\n\t\tSettings_Picklist_Js.registerSelectPickListValueEvent();\n\t\tSettings_Picklist_Js.registerAssingValueToRuleEvent();\n\t\tSettings_Picklist_Js.registerChangeRoleEvent();\n\t\tSettings_Picklist_Js.registerAssingValueToRoleTabClickEvent();\n\t\tSettings_Picklist_Js.registerPickListValuesSortableEvent();\n\t\tSettings_Picklist_Js.registerSaveSequenceClickEvent();\n\t\tSettings_Picklist_Js.registerProcessStatusItemEvent();\n\t},\n\n\tregisterEvents: function () {\n\t\tSettings_Picklist_Js.registerModuleChangeEvent();\n\t\tSettings_Picklist_Js.registerModulePickListChangeEvent();\n\t\tSettings_Picklist_Js.registerItemActions();\n\t\tSettings_Picklist_Js.registerEnablePickListValueClickEvent();\n\t}\n};\n\njQuery(document).ready(function () {\n\tSettings_Picklist_Js.registerEvents();\n});\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[\\<\\>\\\"\\,\\#]/;\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_SPECIAL_CHARACTERS') + ' < > \" , # ' + app.vtranslate('JS_NOT_ALLOWED'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n"],"names":["Settings_Picklist_Js","registerModuleChangeEvent","jQuery","on","e","selectedModule","currentTarget","val","length","Settings_Vtiger_Index_Js","showMessage","type","text","app","vtranslate","params","module","getModuleName","parent","getParentModuleName","source_module","view","mode","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","AppConnector","request","done","data","html","App","Fields","Picklist","changeSelectElementView","registerModulePickListChangeEvent","trigger","picklistId","$","pickListFieldId","showSelect2ElementView","registerItemActions","registerAddItemEvent","find","clonedCreateView","clone","callBackFunction","form","validationEngine","formData","FormData","progress","url","processData","contentType","response","removeClass","result","all","success","errors","errorMessage","addClass","fail","error","title","showNotify","preventDefault","showModalWindow","registerImportItemEvent","registerAddItemSaveEvent","regiserSelectRolesEvent","registerAssingValueToRuleEvent","pickListValuesTable","selectedListItem","selectedValues","each","i","element","push","closest","registerAssignValueToRoleSaveEvent","select2","assignValuesSelectElement","assignValuesSelect2Element","getSelect2ElementFromSelect","assignValueResult","Vtiger_MultiSelect_Validator_Js","invokeValidation","rolesSelectElement","select2Element","attr","serializeFormData","hideModalWindow","registerEnablePickListValueClickEvent","removeAttr","pickListVaue","hasClass","remove","prepend","registerenableOrDisableListSaveEvent","elementToBlock","pickListValues","disabledValues","enabledValues","currentValue","action","enabled_values","disabled_values","picklistName","rolesSelected","selectedValue","inArray","not","append","registerRenameItemEvent","selectedListItems","getSelectedItems","fieldValueId","keyId","registerScrollForNonEditablePicklistValues","registerRenameItemSaveEvent","container","slimScroll","height","size","selectedListItemsArray","index","key","registerDeleteItemEvent","showDeleteItemForm","fieldValue","JSON","stringify","map","item","registerDeleteOptionEvent","replaceValueElement","id","registerChangeRoleEvent","rolesList","sourceModule","registerProcessStatusItemSaveEvent","newValue","trim","InvalidFields","err","errorLog","registerProcessStatusItemEvent","validationResult","invalidFields","dragImagePath","newPickListValueRow","appendTo","pickListValuesEle","pickListValuesArray","parse","errorObj","responseText","message","thisInstance","confirmation","renameItem","showConfirmModal","confirmedCallback","oldValue","encodedOldValue","replace","renamedElement","replaceWith","maximumSelectionSize","maximumSelectionLength","dropdownCss","validationParams","getvalidationEngineOptions","onValidationComplete","valid","deleteItem","selectElement","deleteValues","registerSelectPickListValueEvent","event","currentRow","currentRowTd","ctrlKey","toggleClass","registerPickListValuesSortableEvent","tbody","sortable","helper","ui","children","width","containment","revert","update","registerSaveSequenceClickEvent","pickListValuesSequenceArray","picklistValues","registerAssingValueToRoleTabClickEvent","registerEvents","document","ready","Vtiger_Base_Validator_Js","field","instance","Vtiger_FieldLabel_Validator_Js","setElement","validate","getError","getFieldValue","validateValue","test","setError"],"mappings":"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"}