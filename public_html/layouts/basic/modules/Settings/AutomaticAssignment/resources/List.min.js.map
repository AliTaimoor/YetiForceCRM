{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_AutomaticAssignment_List_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tregisterFilterChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\t\tjQuery('#pageNumber').val('1');\n\t\t\t\tjQuery('#pageToJump').val('1');\n\t\t\t\tjQuery('#orderBy').val('');\n\t\t\t\tjQuery('#sortOrder').val('');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t\t};\n\t\t\t\t//Make the select all count as empty\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t//Make total number of pages as empty\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetContainer: function () {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tregisterModalEvents: function (data, url) {\n\t\t\tvar form = data.find('form');\n\t\t\tvar submitButton = data.find('.submitButton');\n\t\t\tdata.find('[name=\"tabid\"]').on('change', function (e) {\n\t\t\t\tvar progress = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar getFieldsUrl = url + '&tabid=' + element.val();\n\t\t\t\tAppConnector.request(getFieldsUrl)\n\t\t\t\t\t.done(function (fields) {\n\t\t\t\t\t\tdata.find('.fieldList').html(fields);\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.fieldList select'));\n\t\t\t\t\t\tsubmitButton.removeClass('d-none');\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\tapp.saveAjax('save', params).done(function (response) {\n\t\t\t\t\tvar id = response.result;\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tvar url = form.attr('action');\n\t\t\t\t\t\turl = url + '&record=' + id;\n\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthis._super();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.addRecord')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tvar button = jQuery(e.currentTarget);\n\t\t\t\t\tvar url = button.data('url');\n\t\t\t\t\tapp.showModalWindow(null, url, function (data) {\n\t\t\t\t\t\tthisInstance.registerModalEvents(data, url);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","container","registerFilterChangeEvent","thisInstance","jQuery","on","e","val","params","module","app","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","text","getListViewRecords","done","updatePagination","getContainer","registerModalEvents","data","url","form","find","submitButton","progress","progressIndicator","position","blockInfo","enabled","element","getFieldsUrl","AppConnector","request","fields","html","App","Fields","Picklist","showSelect2ElementView","removeClass","mode","fail","textStatus","errorThrown","errorLog","preventDefault","serializeFormData","saveAjax","response","id","result","attr","window","location","href","registerEvents","_super","button","showModalWindow"],"mappings":"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"}