'use strict';

function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=babelHelpers.getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=babelHelpers.getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else result=Super.apply(this,arguments);return babelHelpers.possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return !1}}window.Occurrences_Calendar_Js=/*#__PURE__*/function(_Vtiger_Calendar_Js){function Occurrences_Calendar_Js(){return babelHelpers.classCallCheck(this,Occurrences_Calendar_Js),_super.apply(this,arguments)}babelHelpers.inherits(Occurrences_Calendar_Js,_Vtiger_Calendar_Js);var _super=_createSuper(Occurrences_Calendar_Js);return babelHelpers.createClass(Occurrences_Calendar_Js,[{key:"registerDayClickEvent",value:/**
	 * Register day click event.
	 * @param {string} date
	 */function registerDayClickEvent(date){var self=this;self.getCalendarCreateView().done(function(data){if(!(0>=data.length)){var dateElement=data.find("[name=\"date_start\"]"),dateFormat=dateElement.data("dateFormat").toUpperCase(),timeFormat=dateElement.data("hour-format"),defaultTimeFormat="hh:mm A";24==timeFormat&&(defaultTimeFormat="HH:mm");var endTimeString,startDateInstance=Date.parse(date),startDateString=moment(date).format(dateFormat),startTimeString=moment(date).format(defaultTimeFormat),endDateInstance=Date.parse(date),endDateString=moment(date).format(dateFormat),view=self.getCalendarView().fullCalendar("getView");if("month"==view.name){var diffDays=parseInt((endDateInstance-startDateInstance)/86400000);if(1<diffDays){var defaultFirstHour=app.getMainParams("startHour"),explodedTime=defaultFirstHour.split(":");startTimeString=explodedTime[0];var defaultLastHour=app.getMainParams("endHour");explodedTime=defaultLastHour.split(":"),endTimeString=explodedTime[0];}else {var now=new Date;startTimeString=moment(now).format(defaultTimeFormat),endTimeString=moment(now).add(15,"minutes").format(defaultTimeFormat);}}else endTimeString=moment(endDateInstance).add(30,"minutes").format(defaultTimeFormat);data.find("[name=\"date_start\"]").val(startDateString+" "+startTimeString),data.find("[name=\"date_end\"]").val(endDateString+" "+endTimeString),App.Components.QuickCreate.showModal(data,{callbackFunction:function callbackFunction(){self.loadCalendarData();}});}});}}]),Occurrences_Calendar_Js}(Vtiger_Calendar_Js);
//# sourceMappingURL=CalendarView.min.js.map
