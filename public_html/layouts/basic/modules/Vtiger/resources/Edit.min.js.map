{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t},\n\t\t/**\n\t\t * Record save ajax\n\t\t *\n\t\t * `Vtiger_Edit_Js.saveAjax({\n\t\t *\t\tvalue: 'value',\n\t\t *\t\tfield: 'field'\n\t\t *\t}).done(() => {})\n\t\t *\t.fail((error, err) => {});`\n\t\t *\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjax: function (params, progressIndicator = true) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (typeof params === 'undefined' || $.isEmptyObject(params)) {\n\t\t\t\taDeferred.reject();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif (!params['record'] && app.getRecordId()) {\n\t\t\t\tparams['record'] = app.getRecordId();\n\t\t\t}\n\t\t\tif (!params['module']) {\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t}\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams = {\n\t\t\t\tdata: params,\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json'\n\t\t\t};\n\t\t\tif (progressIndicator) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.saveAjaxValidation(params).then((response) => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tdelete params.data.mode;\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Record pre save validation\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjaxValidation: function (params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet validation = true;\n\t\t\tif (\n\t\t\t\ttypeof app.pageController.getForm !== 'undefined' &&\n\t\t\t\tapp.pageController.getForm().find('#preSaveValidation').length !== 0\n\t\t\t) {\n\t\t\t\tvalidation = parseInt(app.pageController.getForm().find('#preSaveValidation').val());\n\t\t\t}\n\t\t\tif (validation) {\n\t\t\t\tparams.data.mode = 'preSaveValidation';\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tconst response = data.result;\n\t\t\t\t\t\tfor (let i = 0; i < response.length; i++) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (typeof response[i].showModal !== 'undefined' && typeof response[i].showModal.url !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data.result.length <= 0) {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm($('#EditView'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\tmappingRelatedModule[sourceField] != undefined &&\n\t\t\t\tmappingRelatedModule[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceField] != undefined &&\n\t\t\t\tlistFilterFields[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tif (searchParamsElement.length > 0) {\n\t\t\t\tparams['search_params'] = searchParamsElement.val();\n\t\t\t}\n\t\t\tlet modalParamsElement = $('input[name=\"modalParams\"]', container);\n\t\t\tif (modalParamsElement.length > 0) {\n\t\t\t\tparams['modal_params'] = modalParamsElement.val();\n\t\t\t}\n\t\t\tlet showSwitchElement = $('input[name=\"showSwitch\"]', container);\n\t\t\tif (showSwitchElement.length > 0) {\n\t\t\t\tparams['showSwitch'] = showSwitchElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElement.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tsetFieldValue: function (params) {\n\t\t\tlet fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]`);\n\t\t\tlet fieldinfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldinfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\treturn $('.recordEditView').length > 0;\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = container.closest('form');\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find(\n\t\t\t\t\t\t'#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown'\n\t\t\t\t\t);\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.setReferenceFieldValue(container, {\n\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\tid: data.result._recordId\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet params = { callbackFunction: postQuickCreateSave };\n\t\t\tif (app.getViewName() === 'Edit' && !app.getRecordId()) {\n\t\t\t\tlet formElement = this.getForm();\n\t\t\t\tlet formData = formElement.serializeFormData();\n\t\t\t\tfor (let i in formData) {\n\t\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparams.data = {};\n\t\t\t\tparams.data.sourceRecordData = formData;\n\t\t\t}\n\t\t\tlet referenceModuleName = this.getReferencedModuleName(container);\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, params);\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.formElement\n\t\t\t\t.find(\n\t\t\t\t\t'.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel'\n\t\t\t\t)\n\t\t\t\t.each(function () {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\treferenceModulesList.on('change', function () {\n\t\t\t\t\t\t\tthisInstance.formElement\n\t\t\t\t\t\t\t\t.find('[class*=\"copyAddressFrom\"]:not(.copyAddressFromMain, .copyAddressFromMailing)')\n\t\t\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress($(this).val(), block.find('.sourceField').attr('name'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treferenceModulesList.trigger('change');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet referenceFields = block.find('[name=\"popupReferenceModule\"]');\n\t\t\t\t\t\tif (referenceFields.length > 0) {\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress(\n\t\t\t\t\t\t\t\treferenceFields.val(),\n\t\t\t\t\t\t\t\tblock.find('.sourceField').attr('name')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function () {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\tregisterEventForCopyBlockAddress: function (moduleName, fieldName) {\n\t\t\tconst self = this;\n\t\t\tif (moduleName == 'Accounts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromAccount',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Contacts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromContact',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Leads') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromLead',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Vendors') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromVendor',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show button to copy the address details from selected module\n\t\t */\n\t\tenableCopyAddressFromModule: function (moduleName, formElement, className, fieldName, label) {\n\t\t\tlet thisInstance = this;\n\t\t\tformElement\n\t\t\t\t.find('.' + className)\n\t\t\t\t.removeClass('d-none')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + fieldName + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(label),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + fieldName + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(\n\t\t\t\t\t\t\telement.data('label'),\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel').data('label'),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel')\n\t\t\t\t\t\t);\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet sourceModule = data.module;\n\t\t\tapp.getRecordDetails(data).done(function (data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tthisInstance.addressFieldsData = response;\n\t\t\t\tthisInstance.copyAddress(from, to, true, sourceModule);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.val('');\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditViewForm.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to check the view permission of a record after save\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, data) => {\n\t\t\t\tthis.preSaveValidation(form).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreSaveValidation: function (form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i = 0; i < response.length; i++) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (typeof response[i].showModal !== 'undefined' && typeof response[i].showModal.url !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\t\tform.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function (container) {\n\t\t\tlet picklistDependcyElemnt = $('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\n\t\t\tlet sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourcePickListNames = [],\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tlet sourcePickListElements = container.find(sourcePickListNames);\n\n\t\t\tsourcePickListElements.on('change', function (e) {\n\t\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\t\tconfiguredDependencyObject = picklistDependencyMapping[currentElement.attr('name')],\n\t\t\t\t\ttargetObjectForSelectedSourceValue = configuredDependencyObject[currentElement.val()],\n\t\t\t\t\tpicklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\t$.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\t\tlet targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tlet targetPickList = $('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = $('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet targetOptions = new $(),\n\t\t\t\t\t\toptionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\t\tif ($.inArray($(e).val(), optionSelector) !== -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add($(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttargetPickList.html(targetOptions).val(targetOptions.filter('[selected]').val()).trigger('change');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (\n\t\t\t\ttypeof CKEDITOR !== 'undefined' &&\n\t\t\t\ttypeof CKEDITOR.instances !== 'undefined' &&\n\t\t\t\tObject.keys(CKEDITOR.instances).length\n\t\t\t) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column').length !== 0 &&\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column:not(.d-none)').length === 0\n\t\t\t\t) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (index, item) {\n\t\t\t\t\tlet search = $(item);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput.autocomplete({\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.each(value, function (index, v) {\n\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (index, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + index + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\ttypeof mappingRelatedModule[sourceField] !== 'undefined' &&\n\t\t\t\ttypeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined'\n\t\t\t) {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find(\n\t\t\t\t\t'.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control'\n\t\t\t\t)\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tAppConnector.request(modalForm.serializeFormData()).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`)\n\t\t\t\t\t\t\t\t\t.prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this;\n\t\t\tlet form = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (key, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tlet event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst self = this;\n\t\t\tlet fields = JSON.parse(event.val());\n\t\t\t$.each(fields, function (key, fieldName) {\n\t\t\t\tlet fieldElement = container.find(`[name=\"${fieldName}\"]`);\n\t\t\t\tfieldElement.on(\n\t\t\t\t\t`change ${Vtiger_Edit_Js.referenceSelectionEvent} ${Vtiger_Edit_Js.referenceDeSelectionEvent}`,\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\t\t\t\tdelete formData['view'];\n\t\t\t\t\t\tAppConnector.request(formData).done(function (response) {\n\t\t\t\t\t\t\t$.each(response.result, function (key, data) {\n\t\t\t\t\t\t\t\tself.triggerRecordEditEvents(data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerEventForPicklistDependencySetup(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t\tApp.Fields.ChangesJson.register(container);\n\t\t\tApp.Fields.MultiReference.register(container);\n\t\t\tApp.Fields.Password.register(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tapp.registerBlockAnimationEvent(editViewForm);\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t}\n\t}\n);\n"],"names":["$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","fallbackClassName","instance","parentModule","getParentModuleName","moduleClassName","getInstance","Vtiger_Edit_Js","saveAjax","params","aDeferred","Deferred","isEmptyObject","reject","promise","getRecordId","data","async","dataType","progressIndicator","document","progressLoader","message","vtranslate","position","blockInfo","enabled","saveAjaxValidation","then","response","mode","AppConnector","request","done","responseData","resolve","fail","jqXHR","textStatus","errorThrown","showNotify","text","type","success","validation","pageController","getForm","find","length","parseInt","val","result","i","showModal","url","showModalWindow","modalContainer","registerModalController","_","formContainer","form","formElement","relationOperation","setForm","element","module","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","isMultiple","mappingRelatedField","mappingRelatedModule","JSON","parse","each","index","mapFieldElement","filterFields","listFilterFields","listFilterFieldsJson","src_module","src_field","src_record","searchParamsElement","modalParamsElement","showSwitchElement","value","fieldElement","multi_select","showRecordsList","e","parentElem","target","modal","setSelectEvent","setReferenceFieldValue","fieldDisplayElement","selectedName","name","id","trigger","decodeHTML","record","validationEngine","getMappingRelatedField","getRecordDetails","event","key","fieldinfo","splitValues","split","mapFieldElementMultiselect","is","appendTo","picklistvalues","hasOwnProperty","append","newOption","mapFieldDisplayElement","referenceModulesList","thisInstance","setFieldValue","getRelationOperation","proceedRegisterEvents","referenceModulePopupRegisterEvent","on","App","Fields","Picklist","showSelect2ElementView","moduleList","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","action","getReferenceSearchParams","searchModule","tdElement","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","searchValue","term","inputElement","search_value","serverDataFormat","label","reponseDataList","push","field","select","ui","item","selectedItemData","change","open","menu","css","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","self","registerPreventingEnterSubmitEvent","which","currentElement","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","callbackFunction","_recordLabel","_recordId","getViewName","formData","serializeFormData","inArray","sourceRecordData","Components","QuickCreate","createRecord","referenceModuleName","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","block","addClass","registerEventForCopyBlockAddress","referenceFields","hasClass","hideCopyAddressLabel","from","to","copyAddress","enableCopyAddressFromModule","className","removeClass","recordRelativeAccountId","copyAddressDetails","recordRelativeAccountName","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElementLable","toElement","errorMsg","registerReferenceSelectionEvent","relategField","copyAddressDetailsRef","blockContainer","mapAddressDetails","indexOf","registerMaskFields","inputmask","registerSubmitEvent","editViewForm","Event","recordPreSaveEvent","isDefaultPrevented","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","preSaveValidation","processData","contentType","hoverField","focus","errorLog","registerEventForPicklistDependencySetup","picklistDependcyElemnt","sourcePicklists","Object","keys","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","configuredDependencyObject","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","targetOptions","add","html","filter","registerLeavePageWithoutSubmit","instances","CKEDITOR","serialize","window","onbeforeunload","initialFormData","stretchCKEditor","parents","td","parent","row","remove","registerEventForEditor","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","not","bodyContents","blockId","headerAnimationElement","cacheGet","checkVisibilityBlocks","registerAutoloadAddress","search","input","requestData","responseJSON","error","animation","address","v","prop","x","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","processfieldElement","checkSubProcessModulesList","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocus","elementToFocusTabindex","get","selectionStart","elemLen","selectionEnd","tabindex","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","summary","modalForm","validationEngineOptions","dataset","column","recordForm","setValue","hideModalWindow","modalId","registerAccountName","firstInput","first","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","registerChangeValueHandlerEvent","fields","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","ChangesJson","MultiReference","Password","registerEvents","registerBlockAnimationEvent"],"mappings":"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"}