{"version":3,"file":"ListSearch.min.js","sources":["ListSearch.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'YetiForce_ListSearch_Js',\n\t{\n\t\tgetInstance: function (container, noEvents, reletedInstance, moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet moduleClassName = module + '_ListSearch_Js',\n\t\t\t\tinstance;\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName](container, noEvents, reletedInstance);\n\t\t\t} else {\n\t\t\t\tinstance = new window['YetiForce_ListSearch_Js'](container, noEvents, reletedInstance);\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tregisterSearch: function (container, callBack) {\n\t\t\tcontainer.on('click', '.js-change-order', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcallBack({ orderby: { [element.data('columnname')]: element.data('nextsortorderval') } });\n\t\t\t});\n\t\t\tcontainer.on('click', '.js-listview_header', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcallBack({\n\t\t\t\t\torderby: element.data('columnname'),\n\t\t\t\t\tsortorder: element.data('nextsortorderval')\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.js-list-reload', function (e, data) {\n\t\t\t\tcallBack(data);\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\tmoduleName: false,\n\t\tcontainer: false,\n\t\treletedInstance: false,\n\t\tviewName: false,\n\t\t/**\n\t\t * Column name from last search.\n\t\t * @type {string|boolean}\n\t\t */\n\t\tlastSearchColumn: false,\n\t\tinit: function (container, noEvents, reletedInstance) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.bodyContents');\n\t\t\t}\n\t\t\tthis.setContainer(container);\n\t\t\tif (noEvents != true && this.getContainer().find('[data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t\tthis.reletedInstance = reletedInstance;\n\t\t},\n\t\tsetContainer: function (container) {\n\t\t\tthis.container = container;\n\t\t},\n\t\tgetContainer: function () {\n\t\t\treturn this.container;\n\t\t},\n\t\tsetViewName: function (viewName) {\n\t\t\tthis.viewName = viewName;\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function () {\n\t\t\tthis.registerEvents();\n\t\t},\n\t\tgetAlphabetSearchField: function () {\n\t\t\treturn jQuery('#alphabetSearchKey').val();\n\t\t},\n\t\tgetAlphabetSearchValue: function () {\n\t\t\treturn jQuery('#alphabetValue').val();\n\t\t},\n\t\tregisterListSearch: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet listViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').on('click', function () {\n\t\t\t\tthisInstance.reloadList(thisInstance.parseConditions(thisInstance.getListSearchParams(true)[0]));\n\t\t\t});\n\t\t\tlistViewContainer.find('input.listSearchContributor').on('keypress', function (e) {\n\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\tthisInstance.lastSearchColumn = $(e.currentTarget).attr('name');\n\t\t\t\t\tthisInstance.triggerListSearch();\n\t\t\t\t}\n\t\t\t});\n\t\t\tlistViewContainer.find('.removeSearchConditions').on('click', function () {\n\t\t\t\tthisInstance.reloadList({\n\t\t\t\t\tsearch_params: [],\n\t\t\t\t\tsearch_key: '',\n\t\t\t\t\tsearch_value: '',\n\t\t\t\t\toperator: ''\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerListSearchEmptyValue();\n\t\t},\n\t\t/**\n\t\t * Register list search if value empty.\n\t\t * @param {array} params\n\t\t * @returns {array}\n\t\t */\n\t\tparseConditions: function (params) {\n\t\t\tconst self = this;\n\t\t\tlet listViewContainer = this.getContainer();\n\t\t\tlet newParams = [];\n\t\t\tlet temporarily = [];\n\t\t\tfor (let i = 0; i < params.length; i++) {\n\t\t\t\tif ($.inArray(params[i], newParams) == -1) {\n\t\t\t\t\tnewParams.push(params[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet paramsSearch = JSON.parse(listViewContainer.find('#search_params').val())[0];\n\t\t\tif (paramsSearch !== undefined) {\n\t\t\t\tfor (let i = 0; i < paramsSearch.length; i++) {\n\t\t\t\t\tif (paramsSearch[i][2] === '') {\n\t\t\t\t\t\tif ($.inArray(paramsSearch[i], newParams) == -1) {\n\t\t\t\t\t\t\tnewParams.push(paramsSearch[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet lockedFields = listViewContainer.find('.js-locked-fields').val();\n\t\t\tif (lockedFields !== '') {\n\t\t\t\ttemporarily = JSON.parse(lockedFields);\n\t\t\t\tif (self.lastSearchColumn && $.inArray(self.lastSearchColumn, temporarily) == -1) {\n\t\t\t\t\ttemporarily.push(self.lastSearchColumn);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (self.lastSearchColumn) {\n\t\t\t\t\ttemporarily.push(self.lastSearchColumn);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tsearch_params: [newParams],\n\t\t\t\tlockedFields: temporarily\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Register list search if value empty.\n\t\t */\n\t\tregisterListSearchEmptyValue: function () {\n\t\t\tlet listViewContainer = this.getContainer();\n\t\t\tconst self = this;\n\t\t\tlet lockedField = [];\n\t\t\tlet paramsSearch = JSON.parse(listViewContainer.find('#search_params').val());\n\t\t\tlet params = self.getListSearchParams(true)[0];\n\t\t\tlet listLockedFields = listViewContainer.find('.js-locked-fields').val();\n\t\t\tif (paramsSearch !== undefined && paramsSearch.length > 0) {\n\t\t\t\tparams = paramsSearch[0];\n\t\t\t}\n\t\t\tif (listLockedFields !== undefined && listLockedFields !== '') {\n\t\t\t\tlockedField = JSON.parse(listLockedFields);\n\t\t\t}\n\t\t\tlistViewContainer.find('.js-empty-value').each(function () {\n\t\t\t\tlet element = $(this);\n\t\t\t\telement.on('click', function (e) {\n\t\t\t\t\tlet elem = $(e.currentTarget);\n\t\t\t\t\tlet parentField = elem.parents('.searchField').find('.listSearchContributor');\n\t\t\t\t\tlet fieldName = parentField.attr('name');\n\t\t\t\t\tif (!elem.is(':checked')) {\n\t\t\t\t\t\tfor (let i = 0; i < params.length; i++) {\n\t\t\t\t\t\t\tif (params[i][0] === fieldName) {\n\t\t\t\t\t\t\t\tparams.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let i = 0; i < lockedField.length; i++) {\n\t\t\t\t\t\t\tif (lockedField[i] === fieldName) {\n\t\t\t\t\t\t\t\tlockedField.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldName = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldName !== '') {\n\t\t\t\t\t\tparams.push([fieldName, 'y', '']);\n\t\t\t\t\t\tif ($.inArray(fieldName, lockedField) == -1) {\n\t\t\t\t\t\t\tlockedField.push(fieldName);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself.reloadList({\n\t\t\t\t\t\tsearch_params: [params],\n\t\t\t\t\t\tlockedFields: lockedField\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListViewSelect: function () {\n\t\t\tlet self = this,\n\t\t\t\tlistViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('.listViewEntriesTable .select2noactive').each((index, domElement) => {\n\t\t\t\tlet select = $(domElement);\n\t\t\t\tif (!select.data('select2')) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select, {\n\t\t\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_AN_OPTION')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (app.getMainParams('autoRefreshListOnChange') == '1') {\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable select, .searchInSubcategories').on('change', (e) => {\n\t\t\t\t\tthis.lastSearchColumn = $(e.currentTarget).attr('name');\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .picklistSearchField').on('apply.daterangepicker', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .dateField').on('DatePicker.onHide', function (e, y) {\n\t\t\t\t\tlet prevVal = $(this).data('prevVal'),\n\t\t\t\t\t\tvalue = $(this).val();\n\t\t\t\t\tif (prevVal != value) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.event.off('Clockpicker.changed');\n\t\t\t\tapp.event.on('Clockpicker.changed', (e, inputEl) => {\n\t\t\t\t\tif (listViewContainer.find(inputEl).length) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .js-tree-container .listSearchContributor').on('change', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tresetPagination: function () {\n\t\t\t//To unmark the all the selected ids\n\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//To Set the page number as first page\n\t\t\tjQuery('#pageNumber').val('1');\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\tjQuery('.pagination').data('totalCount', 0);\n\t\t},\n\t\ttriggerListSearch: function () {\n\t\t\tlet listInstance = this;\n\t\t\tlet listViewContainer = listInstance.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger('click');\n\t\t},\n\t\tregisterDateListSearch: function (container) {\n\t\t\tApp.Fields.Date.registerRange(this.getContainer().find('.dateRangeField'));\n\t\t},\n\t\tregisterDateTimeListSearch: function (container) {\n\t\t\tApp.Fields.DateTime.register(this.getContainer());\n\t\t},\n\t\tregisterTimeListSearch: function () {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterAlphabetClick: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.alphabetBtn')\n\t\t\t\t.on('click', function () {\n\t\t\t\t\tapp.showModalWindow($('.alphabetModal').html(), function (data) {\n\t\t\t\t\t\tthisInstance.registerEventForAlphabetSearch(data);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn jQuery('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tregisterEventForAlphabetSearch: function (modalContainer) {\n\t\t\tlet thisInstance = this;\n\t\t\tmodalContainer.find('.alphabetSearch').on('click', function (e) {\n\t\t\t\tlet alphabet = $(e.currentTarget).find('a').text();\n\t\t\t\tlet cvId = thisInstance.getCurrentCvId();\n\t\t\t\tlet AlphabetSearchKey = thisInstance.getAlphabetSearchField();\n\t\t\t\tlet urlParams = {\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tsearch_key: AlphabetSearchKey,\n\t\t\t\t\tsearch_value: alphabet,\n\t\t\t\t\toperator: 's',\n\t\t\t\t\tpage: 1\n\t\t\t\t};\n\t\t\t\tthisInstance.resetPagination();\n\t\t\t\tthisInstance.reloadList(urlParams);\n\t\t\t\tapp.hideModalWindow(false, modalContainer.parent().attr('id'));\n\t\t\t});\n\t\t\tmodalContainer.find('.removeAlfabetCondition').on('click', function () {\n\t\t\t\tthisInstance.reloadList({ search_key: '', search_value: '', operator: '' });\n\t\t\t\tapp.hideModalWindow(false, modalContainer.parent().attr('id'));\n\t\t\t});\n\t\t},\n\t\tupdatePaginationOnAlphabetChange: function (alphabet, AlphabetSearchKey) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet params = {};\n\t\t\tparams['module'] = thisInstance.moduleName;\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Pagination';\n\t\t\tparams['page'] = 1;\n\t\t\tparams['mode'] = 'getPagination';\n\t\t\tparams['search_key'] = AlphabetSearchKey;\n\t\t\tparams['search_value'] = alphabet;\n\t\t\tparams['operator'] = 's';\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tlet instance = thisInstance.getInstanceView();\n\t\t\t\tif (instance && jQuery.isFunction(instance.registerPageNavigationEvents)) {\n\t\t\t\t\tinstance.registerPageNavigationEvents();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetListSearchParams: function (urlSearchParams) {\n\t\t\tlet listViewPageDiv = this.getContainer();\n\t\t\tlet listViewTable = listViewPageDiv.find('.listViewEntriesTable');\n\t\t\tlet searchParams = [];\n\t\t\tlistViewTable.find('.listSearchContributor').each(function (index, domElement) {\n\t\t\t\tlet searchInfo = [];\n\t\t\t\tlet searchContributorElement = $(domElement);\n\t\t\t\tlet fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\t\tlet fieldName = searchContributorElement.attr('name');\n\t\t\t\tlet searchValue = searchContributorElement.val();\n\t\t\t\tif (typeof searchValue == 'object') {\n\t\t\t\t\tif (searchValue == null) {\n\t\t\t\t\t\tsearchValue = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(fieldInfo.type, ['tree']) >= 0) {\n\t\t\t\t\tsearchValue = searchValue.replace(/,/g, '##');\n\t\t\t\t}\n\t\t\t\tsearchValue = searchValue.trim();\n\t\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet searchOperator = 'a';\n\t\t\t\tif (fieldInfo.hasOwnProperty('searchOperator')) {\n\t\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t\t} else if (\n\t\t\t\t\t$.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'time',\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'boolean',\n\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t'userRole',\n\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t'inventoryLimit'\n\t\t\t\t\t]) >= 0\n\t\t\t\t) {\n\t\t\t\t\tsearchOperator = 'e';\n\t\t\t\t} else if (fieldInfo.type == 'date' || fieldInfo.type == 'datetime') {\n\t\t\t\t\tsearchOperator = 'bw';\n\t\t\t\t} else if (\n\t\t\t\t\t$.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t'categoryMultipicklist',\n\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t]) != -1\n\t\t\t\t) {\n\t\t\t\t\tsearchOperator = 'c';\n\t\t\t\t}\n\t\t\t\tlet sourceFieldName = searchContributorElement.data('sourceFieldName');\n\t\t\t\tif (sourceFieldName) {\n\t\t\t\t\tsearchInfo.push(fieldName + ':' + searchContributorElement.data('moduleName') + ':' + sourceFieldName);\n\t\t\t\t} else {\n\t\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t$.inArray(fieldInfo.type, ['tree', 'categoryMultipicklist']) != -1 &&\n\t\t\t\t\t$('.searchInSubcategories[data-columnname=\"' + fieldName + '\"]', listViewTable).prop('checked')\n\t\t\t\t) {\n\t\t\t\t\tsearchOperator = 'ch';\n\t\t\t\t}\n\t\t\t\tsearchInfo.push(searchOperator);\n\t\t\t\tsearchInfo.push(searchValue);\n\t\t\t\tsearchParams.push(searchInfo);\n\t\t\t});\n\t\t\tif (urlSearchParams && listViewPageDiv.find('#search_params').length) {\n\t\t\t\tlet valueInSearch = null;\n\t\t\t\tlet url = listViewPageDiv.find('#search_params').val();\n\t\t\t\tif (url != undefined && url.length) {\n\t\t\t\t\turl = JSON.parse(url);\n\t\t\t\t\t$.each(url[0], function (index, value) {\n\t\t\t\t\t\tlet exist = false;\n\t\t\t\t\t\t$.each(searchParams, function (index, searchParam) {\n\t\t\t\t\t\t\tif (searchParam[0] == value[0]) {\n\t\t\t\t\t\t\t\texist = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (value[0].indexOf(':') === -1) {\n\t\t\t\t\t\t\tvalueInSearch = listViewTable.find('.listSearchContributor[name=\"' + value[0] + '\"]').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet fieldRelation = value[0].split(':');\n\t\t\t\t\t\t\tvalueInSearch = listViewTable\n\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t'.listSearchContributor[name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[0] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-module-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[1] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-source-field-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[2] +\n\t\t\t\t\t\t\t\t\t\t'\"]'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (exist == false && valueInSearch != '' && valueInSearch !== null) {\n\t\t\t\t\t\t\tsearchParams.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [searchParams];\n\t\t},\n\t\tgetInstanceByView: function () {\n\t\t\tlet viewName = this.viewName ? this.viewName : app.getViewName();\n\t\t\tlet instance = false;\n\t\t\tif (viewName === 'RecordsList') {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRecordList';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (this.reletedInstance) {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName === 'Detail') {\n\t\t\t\tinstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName == 'List') {\n\t\t\t\tinstance = new Vtiger_List_Js();\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (viewName == 'ListPreview') {\n\t\t\t\tinstance = window.pageController;\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t\treloadList: function (params) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = { page: 1 };\n\t\t\t}\n\t\t\tlet instance = this.getInstanceByView();\n\t\t\tif (instance) {\n\t\t\t\tlet funcName = instance.reloadFunctionName;\n\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\tinstance[funcName](params).done(function () {\n\t\t\t\t\t\tthisInstance.resetPagination();\n\t\t\t\t\t\tthisInstance.executeFunctions(instance);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\texecuteFunctions: function (instance) {\n\t\t\tif (instance.execute) {\n\t\t\t\tlet func = instance.execute;\n\t\t\t\tfor (let i in func) {\n\t\t\t\t\tlet funcName = func[i];\n\t\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\t\tinstance[funcName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.registerListViewSelect();\n\t\t\tthis.registerDateListSearch();\n\t\t\tthis.registerDateTimeListSearch();\n\t\t\tthis.registerTimeListSearch();\n\t\t\tthis.registerAlphabetClick();\n\t\t\tthis.registerListSearch();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('select.select2')\n\t\t\t\t.each(function (i, obj) {\n\t\t\t\t\tif (!$(obj).data('select2')) {\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView($(obj));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tApp.Fields.Tree.register(this.container);\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.registerBasicEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","getInstance","container","noEvents","reletedInstance","moduleName","app","getModuleName","instance","moduleClassName","module","window","registerSearch","callBack","on","e","element","$","currentTarget","orderby","data","sortorder","viewName","lastSearchColumn","init","setContainer","getContainer","find","length","initialize","setViewName","registerEvents","getAlphabetSearchField","val","getAlphabetSearchValue","registerListSearch","thisInstance","listViewContainer","reloadList","parseConditions","getListSearchParams","keyCode","attr","triggerListSearch","search_params","search_key","search_value","operator","registerListSearchEmptyValue","params","self","newParams","temporarily","i","inArray","push","paramsSearch","JSON","parse","lockedFields","lockedField","listLockedFields","each","elem","parentField","parents","fieldName","is","splice","registerListViewSelect","index","domElement","select","App","Fields","Picklist","showSelect2ElementView","placeholder","vtranslate","getMainParams","prevVal","value","event","off","inputEl","resetPagination","trigger","text","listInstance","registerDateListSearch","Date","registerRange","registerDateTimeListSearch","DateTime","register","registerTimeListSearch","registerEventForClockPicker","registerAlphabetClick","showModalWindow","html","registerEventForAlphabetSearch","getCurrentCvId","modalContainer","alphabet","cvId","AlphabetSearchKey","viewname","page","hideModalWindow","parent","updatePaginationOnAlphabetChange","getParentModuleName","AppConnector","request","done","getInstanceView","isFunction","registerPageNavigationEvents","urlSearchParams","listViewPageDiv","listViewTable","searchParams","searchInfo","searchContributorElement","fieldInfo","searchValue","join","type","replace","trim","searchOperator","hasOwnProperty","sourceFieldName","prop","valueInSearch","url","exist","searchParam","indexOf","fieldRelation","split","getInstanceByView","getViewName","reloadFunctionName","execute","Vtiger_Detail_Js","Vtiger_List_Js","pageController","funcName","executeFunctions","func","registerBasicEvents","obj","Tree"],"mappings":"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"}