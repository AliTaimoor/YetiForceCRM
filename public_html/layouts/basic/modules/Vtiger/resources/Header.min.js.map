{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tself: false,\n\t\tgetInstance: function () {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tinit: function () {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function (element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function () {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function () {\n\t\t\t\tlet value = $(this).val().toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function () {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif ($(this).text().toLowerCase().indexOf(value) > -1) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t$(this).closest('.js-quickcreate-search-block').show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAnnouncement: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tlet announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tlet announcement = announcements.first();\n\t\t\t\tlet aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction (modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function (e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function (res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function () {\n\t\t\tlet element = $('#calendarBtn');\n\t\t\tlet currentDate = element.data('date');\n\t\t\telement.on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement.closest('div.nav').find('div.open').removeClass('open');\n\t\t\t\tlet calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: App.Fields.Date.convertToDatePickerFormat(element.data('dateFormat')),\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function (dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tbasicSearch: function () {\n\t\t\tlet thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.target);\n\t\t\t\tlet block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function () {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\t\tlet that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\t\tlet url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"' title='\" + item.label + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function (data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-autocomplete': 'u-overflow-y-auto u-overflow-x-hidden u-max-h-70vh u-max-w-sm-70 u-max-w-lg-40'\n\t\t\t\t\t},\n\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tlet url = 'index.php?module=' + selectedItemData.module + '&view=Detail&record=' + selectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function (event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function (currentTarget) {\n\t\t\tlet val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function (data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function () {\n\t\t\t$('.hotKey').each(function (index) {\n\t\t\t\tlet thisObject = this;\n\t\t\t\tlet key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function () {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotice: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tlet block = $('.remindersNoticeContainer');\n\t\t\tlet remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before('<div class=\"remindersNotificationContainer\" tabindex=\"-1\" role=\"dialog\"></div>');\n\t\t\tlet block = $('.remindersNotificationContainer');\n\t\t\tlet remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = {\n\t\t\t\t\ttop: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin\n\t\t\t\t};\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.rightHeaderBtnMenu').on('click', function () {\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.mobileLeftPanel ').toggleClass('mobileMenuOn');\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', function () {\n\t\t\t\t\tself.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', function () {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideMobileMenu: function () {\n\t\t\t$('.mobileLeftPanel ').removeClass('mobileMenuOn');\n\t\t},\n\t\thideSearchMenu: function () {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function () {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function () {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\thideReminderNotice: function () {\n\t\t\t$('.remindersNoticeContainer').removeClass('toggled');\n\t\t},\n\t\thideReminderNotification: function () {\n\t\t\t$('.remindersNotificationContainer').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function () {\n\t\t\tlet container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tlet whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tlet records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tlet cache = !container.find('.toggleSiteBarRightButton').data('nocache');\n\t\t\tif (cache && app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (cache && app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', (e) => {\n\t\t\t\tlet toggleButton = $(e.currentTarget);\n\t\t\t\tif (!toggleButton.data('nocache')) {\n\t\t\t\t\tif (toggleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.toggleSiteBar(toggleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function () {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function () {\n\t\t\t\t$(this).parents('.d-inline-block').find('.dropdown-toggle .textHolder').html($(this).text());\n\t\t\t});\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tlet advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tlet pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function () {\n\t\t\t\tlet value = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function (e, params) {\n\t\t\t\tlet moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tApp.Components.QuickCreate.createRecord(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\njQuery(function () {\n\twindow.addEventListener('popstate', (event) => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","app","getCookie","setCookie","window","location","href","$","Class","self","getInstance","Vtiger_Header_Js","menuContainer","contentContainer","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","value","val","toLowerCase","filter","item","closest","text","indexOf","removeClass","addClass","hide","not","each","show","showAnnouncement","thisInstance","announcementContainer","announcements","find","length","announcement","first","aid","data","showModalWindow","modal","remove","AppConnector","request","module","action","mode","record","type","done","hideModalWindow","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","currentDate","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","App","Fields","Date","convertToDatePickerFormat","date","calendars","starts","className","isFreeDay","dayOfWeek","basicSearch","currentTarget","which","hideSearchMenu","labelSearch","target","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","index","category","append","_renderItemData","_renderItem","url","id","label","html","appendTo","gsAutocomplete","minLength","getMainParams","source","response","Vtiger_BasicSearch_Js","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","serverDataFormat","result","reponseDataList","responseData","push","classes","select","event","selectedItemData","permitted","close","showAlert","vtranslate","focus","progress","progressIndicator","position","blockInfo","enabled","showSearchResults","registerHotKeys","thisObject","key","Mousetrap","bind","click","registerReminderNotice","before","remindersNotice","hasClass","Vtiger_Index_Js","requestReminder","hideActionMenu","hideBreadcrumbActionMenu","toggleClass","hideReminderNotification","closeSidebar","registerReminderNotification","getNotificationsForReminder","hideReminderNotice","toggleBreadcrumbActions","container","actionsContainer","actionBtn","cssActionsTop","top","offset","outerHeight","css","registerMobileEvents","attr","popover","hideMobileMenu","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","trigger","records","registerSiteBarButton","getModuleName","cache","cacheGet","toggleSiteBar","toggleButton","cacheSet","toogleButton","registerToggleButton","parents","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","moduleName","dialog","vuexStore","commit","registerChat","parent","ChatModalVueComponent","registerEvents","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","Vtiger_AdvanceSearch_Js","setParentContainer","initiateSearch","pressEvent","Event","setTimeout","Components","QuickCreate","createRecord","jQuery","addEventListener"],"mappings":"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"}