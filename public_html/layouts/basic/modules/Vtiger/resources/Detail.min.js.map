{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Detail_Js',\n\t{\n\t\tdetailInstance: false,\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_' + app.getViewName() + '_Js',\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t\t}\n\t\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_Detail_Js.detailInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger Detail view actions\n\t\t * @params: Action url , callback function.\n\t\t */\n\t\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet selectedIds = [];\n\t\t\tselectedIds.push(detailInstance.getRecordId());\n\t\t\tlet postData = {\n\t\t\t\tselected_ids: JSON.stringify(selectedIds)\n\t\t\t};\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: detailActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: postData\n\t\t\t};\n\n\t\t\tAppConnector.request(actionParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, { 'text-align': 'left' });\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/*\n\t\t * function to trigger send Sms\n\t\t * @params: send sms url , module name.\n\t\t */\n\t\ttriggerSendSms: function (detailActionUrl, module) {\n\t\t\tVtiger_Detail_Js.triggerDetailViewAction(detailActionUrl);\n\t\t},\n\t\ttriggerTransferOwnership: function (massActionUrl) {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: massActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tlet callback = function (data) {\n\t\t\t\t\t\tlet params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr('name') == 'changeOwner') {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tlet selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttransferOwnershipSave: function (form) {\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val();\n\t\t\tlet relatedModules = jQuery('#related_modules').val();\n\t\t\tlet recordId = jQuery('#recordId').val();\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'TransferOwnership',\n\t\t\t\trecord: recordId,\n\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\trelated_modules: relatedModules\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tlet oldvalue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tlet element = jQuery('.assigned_user_id ');\n\n\t\t\t\t\telement.find('option[value=\"' + oldvalue + '\"]').removeAttr('selected');\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger('liszt:updated');\n\t\t\t\t\tlet Fieldname = element.find('option[value=\"' + transferOwner + '\"]').data('picklistvalue');\n\t\t\t\t\telement\n\t\t\t\t\t\t.closest('.row-fluid')\n\t\t\t\t\t\t.find('.value')\n\t\t\t\t\t\t.html(\n\t\t\t\t\t\t\t'<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' +\n\t\t\t\t\t\t\t\ttransferOwner +\n\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\tFieldname +\n\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function () {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\treloadRelatedList: function () {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet params = {};\n\t\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t\t}\n\t\t\tdetailInstance.loadRelatedList(params);\n\t\t},\n\t\trunRecordChanger: function (id) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\taction: 'Save',\n\t\t\t\tmode: 'recordChanger',\n\t\t\t\tid: id\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t})\n\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tshowWorkflowTriggerView: function (instance) {\n\t\t\t$(instance).popover('hide');\n\t\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\tcallback = function (data) {\n\t\t\t\t\tlet treeInstance = data.find('#treeWorkflowContents');\n\t\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: JSON.parse(data.find('.js-tree-workflow-data').val()),\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\ticons: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\t\tthree_state: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplugins: ['search', 'category']\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[type=\"submit\"]').on('click', function () {\n\t\t\t\t\t\tlet tasks = {};\n\t\t\t\t\t\tlet selected = treeInstance.jstree('getCategory', true);\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (treeElement.attr === 'record') {\n\t\t\t\t\t\t\t\ttasks[treeElement.record_id] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (tasks[treeElement.parent] !== undefined && treeElement.attr === 'task') {\n\t\t\t\t\t\t\t\ttasks[treeElement.parent].push(treeElement.record_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (Object.keys(tasks).length === 0) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\t\t\ttasks: JSON.stringify(tasks)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'WorkflowTrigger',\n\t\t\t\trecord: detailInstance.getRecordId()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\ttargetPicklistChange: false,\n\t\ttargetPicklist: false,\n\t\tdetailViewContentHolder: false,\n\t\tdetailViewForm: false,\n\t\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\t\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\t\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\t\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\t\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\t\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\t\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t\t//Filels list on updation of which we need to upate the detailview header\n\t\tupdatedFields: ['company', 'designation', 'title'],\n\t\t//Event that will triggered before saving the ajax edit of fields\n\t\tfieldPreSave: 'Vtiger.Field.PreSave',\n\t\ttempData: [],\n\t\t//constructor\n\t\tinit: function () {},\n\t\tloadWidgetsEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tapp.event.on('DetailView.Widget.AfterLoad', function (e, widgetContent, relatedModuleName, instance) {\n\t\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t}\n\t\t\t\tthisInstance.registerCollapsiblePanels(widgetContent.closest('.js-detail-widget'));\n\t\t\t});\n\t\t},\n\t\tloadWidgets: function () {\n\t\t\tlet container = this.getForm();\n\t\t\tlet widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\t\tlet length = widgetList.length;\n\t\t\twidgetList.each((index, widget) => {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tthis.loadWidget(widget);\n\t\t\t\t}\n\t\t\t\tif (length === index + 1) {\n\t\t\t\t\tcontainer.validationEngine('detach');\n\t\t\t\t\tcontainer.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRelatedModulesRecordCount();\n\t\t},\n\t\tloadWidget: function (widgetContainer, params) {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\t\tlet relatedModuleName;\n\t\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget(widgetContainer);\n\t\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t} else {\n\t\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\t\tif (urlParams == undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\t\tkeyValueMap = {},\n\t\t\t\t\tindex;\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t}\n\t\t\t\tparams = keyValueMap;\n\t\t\t}\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tcontentContainer.progressIndicator({});\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: params\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\t\t\tapp.registerModal(contentContainer);\n\t\t\t\t\tApp.Components.DropFile.register(contentContainer);\n\t\t\t\t\tif (relatedModuleName) {\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\twidgetContainer.data('url'),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t\t\t\tlet chart = contentContainer.find('[name=\"typeChart\"]');\n\t\t\t\t\t\tif (chart.length && typeof window['Vtiger_Widget_Js'] !== 'undefined') {\n\t\t\t\t\t\t\tlet widgetInstance = Vtiger_Widget_Js.getInstance(contentContainer, chart.val());\n\t\t\t\t\t\t\twidgetInstance.init(contentContainer);\n\t\t\t\t\t\t\twidgetInstance.loadChart();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', contentContainer, relatedModuleName, thisInstance);\n\t\t\t\t\taDeferred.resolve(params);\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Adding relationships in the products and services widget.\n\t\t */\n\t\tregisterWidgetProductAndServices: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.getForm().on('click', '.js-widget-products-services', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateRelation',\n\t\t\t\t\trecordsToAdd: [],\n\t\t\t\t\tsrc_record: app.getRecordId(),\n\t\t\t\t\trelated_module: currentTarget.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val()\n\t\t\t\t};\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tapp.showRecordsList(url, (_, instance) => {\n\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\tfor (let i in data) {\n\t\t\t\t\t\t\tparams.recordsToAdd.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tAppConnector.request(params).done(function (res) {\n\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\twidgetRelatedRecordView: function (container, load) {\n\t\t\tlet cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\t\tlet relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\t\tif (relatedRecordCacheID !== null) {\n\t\t\t\tlet newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\t\tif (newActive.length) {\n\t\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet controlBox = container.find('.control-widget');\n\t\t\tlet prev = controlBox.find('.prev');\n\t\t\tlet next = controlBox.find('.next');\n\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\t\tnext.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tnext.removeClass('disabled');\n\t\t\t}\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\t\tprev.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tprev.removeClass('disabled');\n\t\t\t}\n\t\t\tif (load) {\n\t\t\t\tnext.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet nextElement = active.next();\n\t\t\t\t\tnextElement.addClass('active');\n\t\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.prev()) {\n\t\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t\t});\n\t\t\t\tprev.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet prevElement = active.prev();\n\t\t\t\t\tprevElement.addClass('active');\n\t\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.next()) {\n\t\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tloadContents: function (url, data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet params = url;\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = data;\n\t\t\t}\n\t\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\t\tdetailContentsHolder.html(responseData);\n\t\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t//Make select box more usability\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t\t//Attach date picker event to date fields\n\t\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\t\tthisInstance.getForm().validationEngine();\n\t\t\t\tapp.event.trigger('DetailView.LoadContents.AfterLoad', responseData);\n\t\t\t\taDeferred.resolve(responseData);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetUpdateFieldsArray: function () {\n\t\t\treturn this.updatedFields;\n\t\t},\n\t\t/**\n\t\t * Function to return related tab.\n\t\t * @return : jQuery Object.\n\t\t */\n\t\tgetTabByLabel: function (tabLabel) {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tlet labelKey = tab.data('labelKey');\n\t\t\t\tif (labelKey == tabLabel) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tgetTabByModule: function (moduleName, relationId = '') {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tif (\n\t\t\t\t\ttab.data('reference') == moduleName &&\n\t\t\t\t\t(!relationId || (relationId && relationId == tab.data('relation-id')))\n\t\t\t\t) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tselectModuleTab: function () {\n\t\t\tlet relatedTabContainer = this.getTabContainer();\n\t\t\tlet moduleTab = relatedTabContainer.find('li.module-tab');\n\t\t\tthis.deSelectAllrelatedTabs();\n\t\t\tthis.markTabAsSelected(moduleTab);\n\t\t},\n\t\tdeSelectAllrelatedTabs: function () {\n\t\t\tthis.getTabs().removeClass('active');\n\t\t},\n\t\tmarkTabAsSelected: function (tabElement) {\n\t\t\ttabElement.addClass('active');\n\t\t\t$(\n\t\t\t\t'.related .dropdown [data-reference=\"' +\n\t\t\t\t\ttabElement.data('reference') +\n\t\t\t\t\t'\"][data-relation-id=\"' +\n\t\t\t\t\ttabElement.data('relation-id') +\n\t\t\t\t\t'\"]'\n\t\t\t).addClass('active');\n\t\t},\n\t\treloadTabContent: function () {\n\t\t\tthis.getSelectedTab().trigger('click');\n\t\t},\n\t\tgetSelectedTab: function () {\n\t\t\tlet tabContainer = this.getTabContainer();\n\t\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t\t},\n\t\tgetTabContainer: function () {\n\t\t\treturn jQuery('div.related');\n\t\t},\n\t\tgetTabs: function () {\n\t\t\tlet topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\t\tlet dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\t\tlet currentTarget = jQuery(this);\n\t\t\t\tlet iteration = currentTarget.data('iteration');\n\t\t\t\tlet className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\t\tif (\n\t\t\t\t\titeration != undefined &&\n\t\t\t\t\ttopTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1\n\t\t\t\t) {\n\t\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn topTabs;\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\t/**\n\t\t * Function which will give the detail view form\n\t\t * @return : jQuery element\n\t\t */\n\t\tgetForm: function () {\n\t\t\tif (this.detailViewForm == false) {\n\t\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t\t}\n\t\t\treturn this.detailViewForm;\n\t\t},\n\t\tgetRecordId: function () {\n\t\t\treturn app.getRecordId();\n\t\t},\n\t\tgetRelatedModuleName: function () {\n\t\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t\t}\n\t\t},\n\t\tgetRelatedListCurrentPageNum: function () {\n\t\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t\t},\n\n\t\t/**\n\t\t * function to hide button action.\n\t\t */\n\t\thideButtonAction: function () {\n\t\t\t$('.js-hb__container').removeClass('u-hidden-block__opened');\n\t\t},\n\n\t\t/**\n\t\t * function to get the Comment thread for the given parent.\n\t\t * params: Url to get the Comment thread\n\t\t */\n\t\tgetCommentThread: function (url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save comment\n\t\t */\n\t\tsaveCommentAjax: function (\n\t\t\telement,\n\t\t\tcommentMode,\n\t\t\tcommentContentValue,\n\t\t\teditCommentReason,\n\t\t\tcommentId,\n\t\t\tparentCommentId,\n\t\t\taDeferred\n\t\t) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({});\n\t\t\tlet commentInfoBlock = element.closest('.js-comment-single');\n\t\t\tlet relatedTo = commentInfoBlock.find('.related_to').val();\n\t\t\tif (!relatedTo) {\n\t\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t\t}\n\t\t\tlet postData = {\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tcommentcontent: commentContentValue,\n\t\t\t\trelated_to: relatedTo,\n\t\t\t\tmodule: 'ModComments'\n\t\t\t};\n\t\t\tif (commentMode == 'edit') {\n\t\t\t\tpostData['fromView'] = 'QuickEdit';\n\t\t\t\tpostData['record'] = commentId;\n\t\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\t} else if (commentMode == 'add') {\n\t\t\t\tpostData['parent_comments'] = commentId;\n\t\t\t}\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (commentMode == 'add') {\n\t\t\t\t\t\tthisInstance.addRelationBetweenRecords(\n\t\t\t\t\t\t\t'ModComments',\n\t\t\t\t\t\t\tdata.result._recordId,\n\t\t\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel),\n\t\t\t\t\t\t\t{ relationId: null }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterAjax', commentInfoBlock, postData, data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tsaveComment: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentContentValue = commentContent.html(),\n\t\t\t\terrorMsg,\n\t\t\t\teditCommentReason;\n\t\t\tif ('' === commentContentValue) {\n\t\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(errorMsg);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif ('edit' === commentMode) {\n\t\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t\t}\n\t\t\tlet element = jQuery(e.currentTarget),\n\t\t\t\tcommentInfoHeader = closestCommentBlock.closest('.js-comment-details').find('.js-comment-info-header'),\n\t\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\t\tthis.saveCommentAjax(\n\t\t\t\telement,\n\t\t\t\tcommentMode,\n\t\t\t\tcommentContentValue,\n\t\t\t\teditCommentReason,\n\t\t\t\tcommentId,\n\t\t\t\tparentCommentId,\n\t\t\t\taDeferred\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return the UI of the comment.\n\t\t * return html\n\t\t */\n\t\tgetCommentUI: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet postData = {\n\t\t\t\tview: 'DetailAjax',\n\t\t\t\tmodule: 'ModComments',\n\t\t\t\trecord: commentId\n\t\t\t};\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return cloned add comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicAddCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/**\n\t\t * function to return cloned edit comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetEditCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicEditCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'), {\n\t\t\t\temojiPanel: false\n\t\t\t});\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for Send Sms\n\t\t */\n\t\tregisterSendSmsSubmitEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\t\tlet form = jQuery(e.currentTarget);\n\t\t\t\tlet smsTextLength = form.find('#message').html().length;\n\t\t\t\tif (smsTextLength > 160) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet submitButton = form.find(':submit');\n\t\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\t\tthisInstance.SendSmsSave(form);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t\t */\n\t\tSendSmsSave: function (form) {\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet SendSmsUrl = form.serializeFormData();\n\t\t\tAppConnector.request(SendSmsUrl)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function which will register events to update the record name in the detail view when any of\n\t\t * the name field is changed\n\t\t */\n\t\tregisterNameAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\t\tlet form = thisInstance.getForm();\n\t\t\t\tlet nameFields = form.data('nameFields');\n\t\t\t\tlet recordLabel = '';\n\t\t\t\tfor (let index in nameFields) {\n\t\t\t\t\tif (index != 0) {\n\t\t\t\t\t\trecordLabel += ' ';\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t\t}\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t});\n\t\t},\n\t\tupdateHeaderNameFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet form = thisInstance.getForm();\n\t\t\tlet nameFields = form.data('nameFields');\n\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\tlet title = '';\n\t\t\tfor (let index in nameFields) {\n\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\tlet nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\t\tif (nameField.length > 0) {\n\t\t\t\t\tlet recordLabel = nameField.val();\n\t\t\t\t\ttitle += recordLabel + ' ';\n\t\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet salutatioField = recordLabelElement.find('.salutation');\n\t\t\tif (salutatioField.length > 0) {\n\t\t\t\tlet salutatioValue = salutatioField.text();\n\t\t\t\ttitle = salutatioValue + title;\n\t\t\t}\n\t\t\trecordLabelElement.attr('title', title);\n\t\t},\n\t\tregisterAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (e) {\n\t\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t\t});\n\t\t},\n\t\tupdateHeaderValues: function (currentElement) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (currentElement.hasClass('nameField')) {\n\t\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet name = currentElement.attr('name');\n\t\t\tlet updatedFields = this.getUpdateFieldsArray();\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\t\tlet recordLabel = currentElement.val();\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of email field\n\t\t */\n\t\tregisterEmailFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.emailField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of phone field\n\t\t */\n\t\tregisterPhoneFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.phoneField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for related list row click\n\t\t */\n\t\tregisterRelatedRowClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\t\tlet targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\t\tif (targetElement.is('td:first-child') && targetElement.children('input[type=\"checkbox\"]').length > 0) return;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tlet elem = jQuery(e.currentTarget);\n\t\t\t\tlet recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl !== 'undefined') {\n\t\t\t\t\twindow.location.href = recordUrl;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tlet relatedListInstance = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthis.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tthis.getSelectedTab(),\n\t\t\t\tthis.getRelatedModuleName()\n\t\t\t);\n\t\t\trelatedListInstance\n\t\t\t\t.loadRelatedList(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register Event for Sorting\n\t\t */\n\t\tregisterEventForRelatedList: function () {\n\t\t\tconst self = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet relatedModuleName = self.getRelatedModuleName();\n\t\t\tif (relatedModuleName) {\n\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tself.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tself.getSelectedTab(),\n\t\t\t\t\trelatedModuleName\n\t\t\t\t);\n\t\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\t\tself.reloadDetailViewBlock($(block), false);\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tself.reloadDetailViewBlock($(this).closest('.js-toggle-panel'));\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to reload detail view block\n\t\t * @param {$} block - Jquery container.\n\t\t */\n\t\treloadDetailViewBlock: function (block, progressIndicator = true) {\n\t\t\tconst self = this;\n\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\tlet url = block.data('url');\n\t\t\tif (blockContent.is(':visible') && url) {\n\t\t\t\tif (progressIndicator) {\n\t\t\t\t\tblockContent.progressIndicator();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, self.getSelectedTab());\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t\trelatedController.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\t\tlet module = app.getModuleName();\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = jQuery(block);\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle the ajax edit for detailview and summary view fields\n\t\t * which will expects the currentTdElement\n\t\t */\n\t\tajaxEditHandling: function (currentTdElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet readRecord = $('.setReadRecord'),\n\t\t\t\tdetailViewValue = $('.value', currentTdElement),\n\t\t\t\teditElement = $('.edit', currentTdElement),\n\t\t\t\tactionElement = $('.js-detail-quick-edit', currentTdElement),\n\t\t\t\tfieldElement = $('.fieldname', editElement);\n\t\t\treadRecord.prop('disabled', true);\n\t\t\t$(fieldElement).each(function (index, element) {\n\t\t\t\tlet fieldName = $(element).val(),\n\t\t\t\t\telementTarget = $(element),\n\t\t\t\t\telementName =\n\t\t\t\t\t\t$.inArray(elementTarget.data('type'), [\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t\t'multiDomain',\n\t\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t\t]) != -1\n\t\t\t\t\t\t\t? fieldName + '[]'\n\t\t\t\t\t\t\t: fieldName;\n\t\t\t\tlet fieldElement = $('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\t\tif (fieldElement.attr('disabled') == 'disabled' && fieldElement.attr('type') !== 'password') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t}\n\t\t\t\tdetailViewValue.addClass('d-none');\n\t\t\t\tactionElement.addClass('d-none');\n\t\t\t\teditElement\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('input[type!=\"hidden\"]input[type!=\"image\"],select')\n\t\t\t\t\t.filter(':first')\n\t\t\t\t\t.focus();\n\t\t\t\tlet saveHandler = function (e) {\n\t\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\tif ($(e.currentTarget).find('.dateTimePickerField').length) {\n\t\t\t\t\t\tif (element.closest('.drp-calendar').length || element.hasClass('drp-calendar')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\telement.closest('.fieldValue').is(currentTdElement) ||\n\t\t\t\t\t\telement.closest('.pnotify-modal').length ||\n\t\t\t\t\t\telement.hasClass('select2-selection__choice__remove') ||\n\t\t\t\t\t\telement.closest('.select2-container--open').length ||\n\t\t\t\t\t\telement.parents('.clockpicker-popover').length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\t\tlet previousValue = elementTarget.data('prevValue'),\n\t\t\t\t\t\teditElement = elementTarget.closest('.edit'),\n\t\t\t\t\t\tajaxEditNewValue =\n\t\t\t\t\t\t\teditElement.find('[name=\"' + elementName + '\"]').length > 0\n\t\t\t\t\t\t\t\t? editElement.find('[name=\"' + elementName + '\"]').val()\n\t\t\t\t\t\t\t\t: editElement.find('[name=\"' + fieldName + '\"]').val(),\n\t\t\t\t\t\tfieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo')),\n\t\t\t\t\t\tdateTimeField = [],\n\t\t\t\t\t\tdateTime = false;\n\t\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\t\tlet field = {\n\t\t\t\t\t\t\t\tname: $(this).attr('name'),\n\t\t\t\t\t\t\t\ttype: $(this).data('fieldinfo').type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfunction toStr(v) {\n\t\t\t\t\t\treturn v === undefined || v === null ? '' : v + '';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t\tfieldValue: ajaxEditNewValue,\n\t\t\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value,\n\t\t\t\t\t\t\t\t\tprevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\t\t\tdisplayValue =\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[0].name].display_value +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tfieldInfo.data.label +\n\t\t\t\t\t\t\t\t\t\t'</b><br>' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_FROM') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tprevDisplayValue +\n\t\t\t\t\t\t\t\t\t\t'<br> ' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_TO') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tdisplayValue,\n\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (postSaveRecordDetails['_isViewable'] === false) {\n\t\t\t\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(window.location.href);\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.parent.location.href = 'index.php?module=' + urlObject['module'] + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + urlObject['module'] + '&view=List';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_isEditable'] === false ||\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_reload'] === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t$.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace('view=Detail', 'view=DetailPreview');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {\n\t\t\t\t\t\t\t\t\told: previousValue,\n\t\t\t\t\t\t\t\t\tnew: ajaxEditNewValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\t\t\tif ($('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewDetailsTabLabel) {\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_FAIL'),\n\t\t\t\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function updates the hidden elements which is used for creating relations\n\t\t */\n\t\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\t\tjQuery.each(customParams, function (index, value) {\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for activity widget for adding\n\t\t * event and task from the widget\n\t\t */\n\t\tregisterEventForActivityWidget: function () {\n\t\t\tlet thisInstance = this;\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related Activities widget\n\t\t\t */\n\t\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\t\tlet referenceModuleName = 'Calendar';\n\t\t\t\tlet recordId = thisInstance.getRecordId();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tlet fullFormUrl = element.data('url');\n\t\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t\tlet taskGoToFullFormButton = data.find('[class^=\"CalendarQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet eventsGoToFullFormButton = data.find('[class^=\"EventsQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet taskFullFormUrl = taskGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\tlet eventsFullFormUrl = eventsGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t\t};\n\t\t\t\tlet callbackFunction = function () {\n\t\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t};\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t},\n\t\tgetEndDate: function (startDate) {\n\t\t\tlet dateTab = startDate.split('-');\n\t\t\tlet date = new Date(dateTab[0], dateTab[1], dateTab[2]);\n\t\t\tlet newDate = new Date();\n\n\t\t\tnewDate.setDate(date.getDate() + 2);\n\t\t\treturn app.getStringDate(newDate);\n\t\t},\n\t\tgetSingleEventType: function (modDay, id, type) {\n\t\t\tlet dateStartEl = jQuery('[name=\"date_start\"]');\n\t\t\tlet dateStartVal = jQuery(dateStartEl).val();\n\t\t\tlet dateStartFormat = jQuery(dateStartEl).data('date-format');\n\t\t\tlet validDateFromat = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay, type);\n\t\t\tlet map = jQuery.extend({}, ['#b6a996,black']);\n\n\t\t\tlet params = {\n\t\t\t\tmodule: 'Calendar',\n\t\t\t\taction: 'Feed',\n\t\t\t\tstart: validDateFromat,\n\t\t\t\tend: this.getEndDate(validDateFromat),\n\t\t\t\ttype: type,\n\t\t\t\tmapping: map\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (events) {\n\t\t\t\tlet testDate = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay);\n\t\t\t\tif (!jQuery.isEmptyObject(events)) {\n\t\t\t\t\tif (events[0]['activitytype'] === 'Task') {\n\t\t\t\t\t\tfor (let ev in events) {\n\t\t\t\t\t\t\tif (events[ev]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (let i = 0; i < events[0].length; i++) {\n\t\t\t\t\t\t\tif (events[0][i]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to add module related record from summary widget\n\t\t */\n\t\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer\n\t\t\t\t.find('.createRecordFromFilter')\n\t\t\t\t.off()\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet quickcreateUrl = currentElement.data('url');\n\t\t\t\t\tlet quickCreateParams = {};\n\t\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\t\tlet moduleName = currentElement.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val();\n\t\t\t\t\tlet relatedParams = {};\n\t\t\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t\t\tif (referenceModuleName == 'ProjectTask') {\n\t\t\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateParams['noCache'] = true;\n\t\t\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\t\tlet progress = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet quickCreate;\n\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickCreate = App.Components.QuickCreate;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreate.getForm(quickcreateUrl, moduleName, quickCreateParams).done(function (data) {\n\t\t\t\t\t\tquickCreate.showModal(data, quickCreateParams, currentElement);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('button.selectRelation')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tmodule: referenceModuleName,\n\t\t\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\t\t\tmulti_select: true,\n\t\t\t\t\t\trelationId: summaryWidgetContainer.data('relationId')\n\t\t\t\t\t};\n\t\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData), null, {\n\t\t\t\t\t\t\t\t\trelationId: params.relationId\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterAddingInventoryRecords: function () {\n\t\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = currentElement.data('url');\n\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\tlet addidtionalParams = '';\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\twindow.location.href = createUrl;\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvent: function () {\n\t\t\tthis.getContentHolder()\n\t\t\t\t.find('.resetRelationsEmail')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION')\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\t\t\taction: 'Relation',\n\t\t\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t\t\t}).done(function (d) {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: d.result });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetFiltersDataAndLoad: function (e, params) {\n\t\t\tlet data = this.getFiltersData(e, params);\n\t\t\tthis.loadWidget(data['container'], data['params']);\n\t\t},\n\t\tgetFiltersData: function (e, params) {\n\t\t\tlet currentElement;\n\t\t\tif (e.currentTarget) {\n\t\t\t\tcurrentElement = jQuery(e.currentTarget);\n\t\t\t} else {\n\t\t\t\tcurrentElement = e;\n\t\t\t}\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tlet url = '&' + widget.data('url');\n\t\t\tlet urlParams = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\turlParams[key] = value;\n\t\t\t});\n\t\t\tlet urlNewParams = [];\n\t\t\tsummaryWidgetContainer.find('.js-switch, .js-filter_field').each(function (n, item) {\n\t\t\t\tlet value = '';\n\t\t\t\tlet element = jQuery(item);\n\t\t\t\tlet name = element.data('urlparams');\n\t\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\t\tvalue = typeof element.data('on-val') !== 'undefined' ? element.data('on-val') : element.data('off-val');\n\t\t\t\t\t\tlet additionalParams = element.data('params');\n\t\t\t\t\t\tif (typeof additionalParams !== typeof undefined && additionalParams !== false) {\n\t\t\t\t\t\t\t$.each(additionalParams, function (paramName, paramValue) {\n\t\t\t\t\t\t\t\tif (paramName in urlNewParams) {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName].push(paramValue);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName] = paramValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet selectedFilter = element.find('option:selected').val();\n\t\t\t\t\tlet fieldlable = element.data('fieldlable');\n\t\t\t\t\tlet filter = element.data('filter');\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\tvalue = selectedFilter;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (name && value) {\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\turlNewParams[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (params != undefined) {\n\t\t\t\t$.extend(urlNewParams, params);\n\t\t\t}\n\t\t\treturn { container: $(widget), params: $.extend(urlParams, urlNewParams) };\n\t\t},\n\t\tregisterChangeFilterForWidget: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\t\t$(e.currentTarget).closest('.js-switch__btn').addClass('active').siblings().removeClass('active');\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t\tjQuery('.js-filter_field').on('select2:select', function (e, state) {\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register all the events related to summary view widgets\n\t\t */\n\t\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerEventForActivityWidget();\n\t\t\tthis.registerChangeFilterForWidget();\n\t\t\tthis.registerAddingInventoryRecords();\n\t\t\tthis.registerEmailEvent();\n\t\t\t/**\n\t\t\t * Function to handle the ajax edit for summary view fields\n\t\t\t */\n\t\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tlet currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\t/**\n\t\t\t * Function to handle actions after ajax save in summary view\n\t\t\t */\n\t\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function () {\n\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\t\tparams;\n\t\t\t\tif (updatesWidget.length) {\n\t\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.popover('hide');\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tif (url) {\n\t\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\t\tlet quickCreate = App.Components.QuickCreate;\n\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tquickCreate.getForm(url, 'Calendar', { noCache: true }).done((data) => {\n\t\t\t\t\t\t\tquickCreate.showModal(\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcurrentTarget\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register the event to edit Description for related activities\n\t\t\t */\n\t\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'));\n\t\t\t\t\t\t\t}).then((errorExists) => {\n\t\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcloseDescription = function () {\n\t\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t};\n\t\t\t\tApp.Fields.Text.Editor.register(currentDiv, { toolbar: 'Min' });\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tdetailViewElement.addClass('d-none');\n\t\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\t\teditElement.removeClass('d-none').show();\n\t\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\n\t\t\t$('.changeDetailViewMode').on('click', function (e) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.getTabs()\n\t\t\t\t\t.filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)')\n\t\t\t\t\t.trigger('click');\n\t\t\t});\n\t\t\tthis.registerFastEditingFields();\n\t\t},\n\t\taddRelationBetweenRecords: function (relatedModule, relatedModuleRecordId, selectedTabElement, params = {}, url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedController;\n\t\t\tif (selectedTabElement == undefined) {\n\t\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t\t}\n\t\t\tif (url) {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, selectedTabElement);\n\t\t\t} else {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tselectedTabElement,\n\t\t\t\t\trelatedModule\n\t\t\t\t);\n\t\t\t}\n\t\t\trelatedController\n\t\t\t\t.addRelations(relatedModuleRecordId, params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet summaryViewContainer = thisInstance.getContentHolder();\n\t\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle Post actions after adding record from\n\t\t * summary view widget\n\t\t */\n\t\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widgetContainer = summaryWidgetContainer.find('[class^=\"widgetContainer_\"]');\n\n\t\t\tthis.loadWidget(widgetContainer);\n\t\t\tlet updatesWidget = this.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\tlet params = this.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthis.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t},\n\t\tregisterChangeEventForModulesList: function () {\n\t\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\t\tlet modulesSelectElement = jQuery(e.currentTarget);\n\t\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t\tlet selectedOptionValue = modulesSelectElement.val();\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]')\n\t\t\t\t\t\t.filter(':not(#' + selectedOptionValue + ')')\n\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEventForRelatedTabClick: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function (e, urlAttributes) {\n\t\t\t\tlet tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tlet element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tlet callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t\t\tapp.event.trigger('DetailView.Tab.AfterLoad', data, thisInstance);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet picklistDependcyElemnt = jQuery('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\t\t\tlet sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourcePickListNames = [];\n\t\t\tfor (let i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tlet sourcePickListElements = container.find(sourcePickListNames);\n\t\t\tsourcePickListElements.on('change', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet sourcePicklistname = currentElement.attr('name');\n\n\t\t\t\tlet configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];\n\t\t\t\tlet selectedValue = currentElement.val();\n\t\t\t\tlet targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];\n\t\t\t\tlet picklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\tjQuery.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\t\tlet targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tlet targetPickList = jQuery('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//On change of SourceField value, If TargetField value is not there in mapping, make user to select the new target value also.\n\t\t\t\t\tlet selectedValue = targetPickList.data('selectedValue');\n\t\t\t\t\tif (jQuery.inArray(selectedValue, targetPickListMap) == -1) {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = true;\n\t\t\t\t\t\tthisInstance.targetPicklist = targetPickList.closest('td');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = jQuery('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet targetOptions = new jQuery();\n\t\t\t\t\tlet optionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (let i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\t\tlet picklistValue = jQuery(e).val();\n\t\t\t\t\t\tif (jQuery.inArray(picklistValue, optionSelector) != -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add(jQuery(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet targetPickListSelectedValue = '';\n\t\t\t\t\ttargetPickListSelectedValue = targetOptions.filter('[selected]').val();\n\t\t\t\t\tif (targetPickListMap.length == 1) {\n\t\t\t\t\t\ttargetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.\n\t\t\t\t\t}\n\t\t\t\t\ttargetPickList.html(targetOptions).val(targetPickListSelectedValue).trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\t/**\n\t\t * Function to get child comments\n\t\t */\n\t\tgetChildComments: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet url =\n\t\t\t\t'module=' +\n\t\t\t\tapp.getModuleName() +\n\t\t\t\t'&view=Detail&record=' +\n\t\t\t\tthis.getRecordId() +\n\t\t\t\t'&mode=showChildComments&commentid=' +\n\t\t\t\tcommentId;\n\t\t\tlet dataObj = this.getCommentThread(url);\n\t\t\tdataObj.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get parent comment\n\t\t * @param {number} commentId\n\t\t * @returns {string}\n\t\t */\n\t\tgetParentComments(commentId) {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\turl =\n\t\t\t\t\t'module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\tthis.getRecordId() +\n\t\t\t\t\t'&mode=showParentComments&commentid=' +\n\t\t\t\t\tcommentId;\n\t\t\tthis.getCommentThread(url).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\tlet relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t);\n\t\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function () {\n\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tlet pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tlet pageRange = pageNumberElement.text();\n\t\t\tlet newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tlet listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\t\treturn fieldNameValueMap;\n\t\t},\n\t\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\t\tlet thisInstance = this;\n\t\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read').find('.value').text(app.vtranslate('LBL_YES'));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\t\tfield: 'was_read',\n\t\t\t\t\tvalue: 'on'\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tlet relatedTabKey = jQuery('.related li.active');\n\t\t\t\t\tif (\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel ||\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFastEditingFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\t\tfastEditingFiels.on('change', function (e) {\n\t\t\t\tlet fieldElement = jQuery(e.currentTarget);\n\t\t\t\tlet fieldContainer = fieldElement.closest('.editField');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'summaryWidgetFastEditing',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet fieldName = fieldContainer.data('fieldname');\n\t\t\t\tfieldName = fieldName.replace('q_', '');\n\t\t\t\tlet fieldValue = fieldElement.val();\n\t\t\t\tlet errorExists = fieldElement.validationEngine('validate');\n\t\t\t\tif (errorExists) {\n\t\t\t\t\tfieldContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\tfieldValue: fieldValue,\n\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t});\n\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\tvalue: fieldValue\n\t\t\t\t\t}),\n\t\t\t\t\tfalse\n\t\t\t\t).always(() => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\t/**\n\t\t * Register related modules record cound\n\t\t * @param {jQuery} tabContainer\n\t\t */\n\t\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\t\tlet relationContainer = tabContainer;\n\t\t\tif (!relationContainer || typeof relationContainer.length === 'undefined') {\n\t\t\t\trelationContainer = $(\n\t\t\t\t\t'.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav'\n\t\t\t\t);\n\t\t\t}\n\t\t\trelationContainer.each((n, item) => {\n\t\t\t\titem = $(item);\n\t\t\t\tlet relationId = item.data('relationId'),\n\t\t\t\t\trelatedModule = item.data('reference');\n\t\t\t\tif (item.data('count') === 1) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\trelatedModule: relatedModule,\n\t\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\t\trelationId: relationId,\n\t\t\t\t\t\ttab_label: item.data('label-key')\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\t\tmoreList\n\t\t\t\t\t\t\t\t.find('[data-reference=\"${relatedModule}\"][data-relation-id=\"${relationId}\"] .count')\n\t\t\t\t\t\t\t\t.text(response.result.numberOfRecords);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to display a new comments\n\t\t */\n\t\taddComment: function (currentTarget, data) {\n\t\t\tconst self = this;\n\t\t\tlet mode = currentTarget.data('mode'),\n\t\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\t\tcommentTextAreaElement.html('');\n\t\t\tif (mode == 'add') {\n\t\t\t\tlet commentHtml = self.getCommentUI(data['result']['_recordId']);\n\t\t\t\tcommentHtml.done(function (data) {\n\t\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock\n\t\t\t\t\t\t\t\t\t.find('.js-view-thread-block')\n\t\t\t\t\t\t\t\t\t.data('data-child-comments-count'),\n\t\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\t\tlet parentCommentId = commentInfoBlock.find('.js-comment-info-header').data('commentid');\n\t\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').appendTo(\n\t\t\t\t\t\t\t\tcommentBlock.find('.js-comments-body')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').prependTo(\n\t\t\t\t\t\t\tclosestAddCommentBlock.closest('.contents').find('.commentsList')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterLoad', commentInfoBlock, data);\n\t\t\t\t});\n\t\t\t} else if (mode == 'edit') {\n\t\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\t\tcommentInfoContent.html(data['result']['commentcontent']['display_value']);\n\t\t\t\tcommentReason.html(data['result']['reasontoedit']['display_value']);\n\t\t\t\tmodifiedTime.html(data['result']['modifiedtime']['formatToViewDate']);\n\t\t\t\tmodifiedTime.attr('title', data['result']['modifiedtime']['formatToDay']);\n\t\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (data['result']['reasontoedit']['display_value'] != '') {\n\t\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tcommentInfoContent.show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterUpdate', commentInfoBlock, data);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register all comment events\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tregisterCommentEvents(detailContentsHolder) {\n\t\t\tconst self = this;\n\t\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-reply-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tself.getCommentBlock().appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-edit-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tlet commentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\t\teditCommentBlock.find('.js-reason-to-edit').html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\t\tcommentInfoContent.hide();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\tself.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\")).done(function () {\n\t\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount(self.getTabByLabel(self.detailViewRecentCommentsTabLabel));\n\t\t\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function () {\n\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments').on('change', function (e) {\n\t\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\t\turl = url.replace(regex, '');\n\t\t\t\tlet hierarchy = [];\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t\t}\n\t\t\t\trecentCommentsTab.data('url', url);\n\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function (e) {\n\t\t\t\tif (13 === e.which) {\n\t\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-search-icon', function (e) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit search comment form\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tsubmitSearchForm(detailContentsHolder) {\n\t\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\t\tlet request = widgetContainer.data('url');\n\t\t\t\tAppConnector.request(request).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet hierarchy = [],\n\t\t\t\t\tlimit = '',\n\t\t\t\t\tisWidget = false;\n\t\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\t\t(limit = widgetContainer.data('limit')), (isWidget = true);\n\t\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showSearchComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\t\tis_widget: isWidget\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register hierarchy comments buttons\n\t\t * @param {jQuery} widgetContainer\n\t\t */\n\t\tregisterCommentEventsInDetail(widgetContainer) {\n\t\t\tnew App.Fields.Text.Completions($('.js-completions').eq(0), { emojiPanel: false });\n\t\t\twidgetContainer.on('change', '.js-hierarchy-comments', function (e) {\n\t\t\t\tlet hierarchy = [];\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function () {\n\t\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!hierarchy.length) {\n\t\t\t\t\twidgetContainer.find('.js-detail-widget-content').html('');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showRecentComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMailPreviewWidget: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.showMailBody', (e) => {\n\t\t\t\tlet row = $(e.currentTarget).closest('.js-mail-row'),\n\t\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\t\tmailBody.toggleClass('d-none');\n\t\t\t\tmailTeaser.toggleClass('d-none');\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.on('click', '.showMailsModal', (e) => {\n\t\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\t\tlet type = container.find('[name=\"mail-type\"]');\n\t\t\t\tlet typeValue = '';\n\t\t\t\tif (type.length > 0) {\n\t\t\t\t\ttypeValue = type.val();\n\t\t\t\t} else {\n\t\t\t\t\ttypeValue = 'All';\n\t\t\t\t}\n\t\t\t\turl += '&type=' + typeValue;\n\t\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tapp.showModalWindow('', url, (data) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-down').addClass('fa-caret-up');\n\t\t\t});\n\t\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-up').addClass('fa-caret-down');\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('.showMailModal')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tloadMailPreviewWidget: function (widgetContent) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\t\tlet recordId = $('#recordId').val();\n\t\t\tlet progress = widgetDataContainer.progressIndicator();\n\t\t\tlet params = {};\n\t\t\tparams['module'] = 'OSSMailView';\n\t\t\tparams['view'] = 'Widget';\n\t\t\tparams['smodule'] = $('#module').val();\n\t\t\tparams['srecord'] = recordId;\n\t\t\tparams['mode'] = 'showEmailsList';\n\t\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', widgetDataContainer, params['module'], thisInstance);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvents: function (detailContentsHolder) {\n\t\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t\t},\n\t\tregisterMapsEvents: function (container) {\n\t\t\tif (container.find('#coordinates').length) {\n\t\t\t\tlet mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.registerDetailView(container);\n\t\t\t}\n\t\t},\n\t\tregisterShowSummary: function (container) {\n\t\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet id = currentTarget.data('id');\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\t\tsummaryView.show();\n\t\t\t});\n\t\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView');\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\t\tsummaryView.hide();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show confirmation on event click\n\t\t * @param {jQuery} element\n\t\t * @param {string} picklistName\n\t\t */\n\t\tshowProgressConfirmation(element, picklistName) {\n\t\t\tconst picklistValue = $(element).data('picklistValue');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\t\tmessage: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION')\n\t\t\t}).done(() => {\n\t\t\t\tVtiger_Edit_Js.saveAjax({\n\t\t\t\t\tvalue: picklistValue,\n\t\t\t\t\tfield: picklistName\n\t\t\t\t})\n\t\t\t\t\t.done((response) => {\n\t\t\t\t\t\tif (!response || response.success !== false) {\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Change status from progress\n\t\t */\n\t\tregisterProgress() {\n\t\t\tconst self = this;\n\t\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t\t$(element)\n\t\t\t\t\t.find('.js-access')\n\t\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadChat() {\n\t\t\tlet chatVue = $('#ChatRecordRoomVue', this.detailViewContentHolder);\n\t\t\tif (chatVue.length) {\n\t\t\t\tlet chatContainer = this.detailViewContentHolder.find('.js-chat-container');\n\t\t\t\tconst padding = 10;\n\t\t\t\tchatContainer.height(\n\t\t\t\t\t$(document).height() - chatContainer.offset().top - $('.js-footer').outerHeight() - padding\n\t\t\t\t);\n\t\t\t\twindow.ChatRecordRoomVueComponent.mount({\n\t\t\t\t\tel: '#ChatRecordRoomVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window.ChatRecordRoomVueComponent !== undefined) {\n\t\t\t\tthis.loadChat();\n\t\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\t\t\tthis.loadChat();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t//register all the events for summary view container\n\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'), {\n\t\t\t\t\temojiPanel: false\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.registerBlockAnimationEvent(this.getForm());\n\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\t\tthisInstance.registerCollapsiblePanels(detailContentsHolder);\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t\tApp.Fields.Password.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiAttachment.register(detailContentsHolder);\n\t\t\t//Attach time picker event to time fields\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tthis.registerHelpInfo(detailContentsHolder);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\t\tApp.Fields.Text.Editor.register(detailContentsHolder, { toolbar: 'Min' });\n\t\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) + 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) - 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-quick-edit', function (e) {\n\t\t\t\tthisInstance.ajaxEditHandling(jQuery(e.currentTarget).closest('.fieldValue'));\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet relatedLabel = currentElement.data('reference');\n\t\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\t\tlet editViewObj = new Vtiger_Edit_Js();\n\t\t\t\teditViewObj.showRecordsList(e);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\t\tthisInstance.hideButtonAction();\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentActionsBlock = currentTarget.closest('.js-comment-actions'),\n\t\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\t\tif (ulElements.length > 0) {\n\t\t\t\t\tulElements.show();\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet commentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getParentComments(commentId).done(function (data) {\n\t\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\t\tcurrentTarget.closest('.js-comment-actions').find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tlet currentTargetParent = currentTarget.parent();\n\t\t\t\tlet commentActionsBlock = currentTarget.closest('.js-comment-actions');\n\t\t\t\tlet currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\t\tlet commentId = jQuery(e.currentTarget)\n\t\t\t\t\t.closest('.js-comment-single')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tlet commentLoad = function (data) {\n\t\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t\t};\n\t\t\t\trecentCommentsTab.trigger('click', { commentid: commentId, callback: commentLoad });\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByModule($(this).data('label-key'), $(this).data('relation-id'));\n\t\t\t\tif (recentCommentsTab.length) {\n\t\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t\t} else {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tcontainer = currentTarget.closest(\"[class^='widgetContainer_']\");\n\t\t\t\t\tif (container.length) {\n\t\t\t\t\t\tlet page = container.find('[name=\"page\"]:last').val(),\n\t\t\t\t\t\t\turl = container.data('url');\n\t\t\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\t\t\turl = url.replace('&page=1', '&page=' + ++page);\n\t\t\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\t\t\tlet dataObj = $(data),\n\t\t\t\t\t\t\t\tcontainerTable = container.find('.js-detail-widget-content table');\n\t\t\t\t\t\t\tcurrentTarget.prop('disabled', false).addClass('d-none');\n\t\t\t\t\t\t\tcontainer.find('[name=\"page\"]:last').val(dataObj.find('[name=\"page\"]').val());\n\t\t\t\t\t\t\tif (containerTable.length) {\n\t\t\t\t\t\t\t\tcontainerTable.append(dataObj.find('tbody tr'));\n\t\t\t\t\t\t\t\tif (dataObj.find('.moreRecentRecords').length) {\n\t\t\t\t\t\t\t\t\tcurrentTarget.removeClass('d-none');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(dataObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\t\tlet widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: widgetContent.find('.js-relatedHistoryPageLimit').val(),\n\t\t\t\t\ttype: $(e.currentTarget).val()\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.html(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\t\tlet widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\t\tlet widgetContent = widgetContainer.find('.widgetContent');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet currentPage = widgetContent.find('#relatedHistoryCurrentPage').val();\n\t\t\t\tlet nextPage = parseInt(currentPage) + 1;\n\t\t\t\tlet types = widgetContainer.find('.relatedHistoryTypes').val();\n\t\t\t\tlet pageLimit = widgetContent.find('#relatedHistoryPageLimit').val();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: nextPage,\n\t\t\t\t\tlimit: pageLimit,\n\t\t\t\t\ttype: types\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\t\turl;\n\t\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\t\tlet data = thisInstance.getFiltersData(\n\t\t\t\t\t\te,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpage: nextPage,\n\t\t\t\t\t\t\ttab_label: 'LBL_UPDATES',\n\t\t\t\t\t\t\tnewChange: newChange\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontainer.find('#updates')\n\t\t\t\t\t);\n\t\t\t\t\turl = data['params'];\n\t\t\t\t} else {\n\t\t\t\t\turl = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\t\turl +=\n\t\t\t\t\t\t\t'&whereCondition=' +\n\t\t\t\t\t\t\t(typeof switchBtn.data('on-val') === 'undefined' ? switchBtn.data('off-val') : switchBtn.data('on-val'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.event.trigger('DetailView.UpdatesWidget.AddMore', data, thisInstance);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).find('.count.badge').text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tlet updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\t\tlet recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\t\trecentDocumentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\tlet container = currentTarget.closest('.activityWidgetContainer');\n\t\t\t\tlet page = container.find('.currentPage').val();\n\t\t\t\tlet records = container.find('.countActivities').val();\n\t\t\t\tlet data = thisInstance.getFiltersData(e, { page: ++page });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: data['params']\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tlet newRecords = container.find('.countActivities').val();\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(newRecords) + parseInt(records));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\t\tlet url = widgetContentBlock.data('url');\n\t\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, 'index.php?' + url, function (modal) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]'));\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]')\n\t\t\t);\n\t\t\tdetailContentsHolder\n\t\t\t\t.find('.js-switch--recentActivities')\n\t\t\t\t.off()\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\turl = url.replace('&' + variableName + '=' + valueOn, '').replace('&' + variableName + '=' + valueOff, '');\n\t\t\t\t\tif (typeof currentTarget.data('on-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t\t\t} else if (typeof currentTarget.data('off-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t\t\t}\n\t\t\t\t\ttabElement.data('url', url);\n\t\t\t\t\ttabElement.trigger('click');\n\t\t\t\t});\n\t\t\tapp.registerIframeEvents(detailContentsHolder);\n\t\t},\n\t\treloadWidgetActivitesStats: function (container) {\n\t\t\tlet countElement = container.find('.countActivities');\n\t\t\tlet totalElement = container.find('.totaltActivities');\n\t\t\tlet switchBtn = container.find('.active .js-switch');\n\t\t\tif (!switchBtn.length) {\n\t\t\t\tswitchBtn = container.find('.js-switch.previousMark');\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-switch').removeClass('previousMark');\n\t\t\t\tswitchBtn.addClass('previousMark');\n\t\t\t}\n\t\t\tcontainer.find('.js-switch').toggleClass('previousMark');\n\t\t\tif (!countElement.length || !totalElement.length || totalElement.val() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\t\tlet switchBtnParent = switchBtn.parent();\n\t\t\tlet text = switchBtn.data('basic-text') + stats;\n\t\t\tswitchBtnParent.removeTextNode();\n\t\t\tswitchBtnParent.append(text);\n\t\t},\n\t\trefreshCommentContainer: function (commentId) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet commentContainer = $('.commentsBody');\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\tmode: 'showThreadComments',\n\t\t\t\tcommentid: commentId\n\t\t\t};\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: commentContainer\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcommentContainer.html(data);\n\t\t\t});\n\t\t},\n\t\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet btnToolbar = $('.js-btn-toolbar .js-pdf');\n\t\t\tif (btnToolbar.length) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'PDF',\n\t\t\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data['result'].valid === false) {\n\t\t\t\t\t\t\tbtnToolbar.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtnToolbar.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateWindowHeight: function (currentHeight, frame) {\n\t\t\tframe.height(currentHeight);\n\t\t},\n\t\tloadSubProducts: function (parentRow) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet recordId = parentRow.data('product-id'),\n\t\t\t\tsubProrductParams = {\n\t\t\t\t\tmodule: 'Products',\n\t\t\t\t\taction: 'SubProducts',\n\t\t\t\t\trecord: recordId\n\t\t\t\t};\n\t\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\t\tlet responseData = data.result;\n\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t});\n\t\t},\n\t\taddSubProducts: function (parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet productText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(productText);\n\t\t\t}\n\t\t},\n\t\tregisterSubProducts: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function (index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\tregisterCollapsiblePanels(detailViewContainer) {\n\t\t\tconst panels = detailViewContainer.find('.js-detail-widget-collapse');\n\t\t\tconst storageName = `yf-${app.getModuleName()}-detail-widgets`;\n\t\t\tif (Quasar.plugins.LocalStorage.has(storageName)) {\n\t\t\t\tthis.setPanels({ panels, storageName });\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tlet panelsStorage = {};\n\t\t\t\tpanels.each((i, item) => {\n\t\t\t\t\tpanelsStorage[item.dataset.storageId] = 'shown';\n\t\t\t\t});\n\t\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', (e) => {\n\t\t\t\tthis.updatePanelsStorage({ id: e.target.dataset.storageKey, type: e.type, storageName });\n\t\t\t});\n\t\t\tpanels.on('hide.bs.collapse show.bs.collapse', function (e) {\n\t\t\t\t$(e.currentTarget).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t});\n\t\t},\n\t\tsetPanels({ panels, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (\n\t\t\t\t\tpanelsStorage[item.dataset.storageKey] === 'shown' ||\n\t\t\t\t\tundefined === panelsStorage[item.dataset.storageKey]\n\t\t\t\t) {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t\t$(item).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage({ id, type, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t},\n\t\tregisterSendPdfFromPdfViewer: function (container) {\n\t\t\tcontainer.find('.js-email-pdf').on('click', function (e) {\n\t\t\t\tlet selectedPdfTemplate = $(e.currentTarget).closest('.js-detail-widget').find('.js-pdf-viewer-template').val();\n\t\t\t\tlet url = $(this).attr('data-url');\n\t\t\t\tif (url && selectedPdfTemplate && selectedPdfTemplate > 0) {\n\t\t\t\t\twindow.open(url + selectedPdfTemplate, '_blank');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function (container) {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyD') {\n\t\t\t\t\tcontainer.find('.js-duplicate-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyE' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tcontainer.find('.js-edit-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyW' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tApp.Components.QuickEdit.showModal({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tremoveFromUrl: 'step'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerSendSmsSubmitEvent();\n\t\t\tthis.registerAjaxEditEvent();\n\t\t\tthis.registerRelatedRowClickEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEmailFieldClickEvent();\n\t\t\tthis.registerPhoneFieldClickEvent();\n\t\t\tthis.registerEventForRelatedTabClick();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tlet detailViewContainer = jQuery('div.detailViewContainer');\n\t\t\tif (detailViewContainer.length <= 0) {\n\t\t\t\t// Not detail view page\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerWidgetProductAndServices();\n\t\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\t\tthis.registerEventForPicklistDependencySetup(this.getForm());\n\t\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.loadWidgetsEvents();\n\t\t\tthis.loadWidgets();\n\t\t\tthis.registerBasicEvents();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerProgress();\n\t\t\tthis.registerChat(detailViewContainer);\n\t\t\tthis.registerSendPdfFromPdfViewer(detailViewContainer);\n\t\t\tthis.registerKeyboardShortcutsEvent(detailViewContainer);\n\t\t\tApp.Components.ActivityNotifier.register(detailViewContainer);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","detailInstance","getInstance","Vtiger_Detail_Js","instance","moduleClassName","app","getModuleName","getViewName","window","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","postData","selected_ids","JSON","stringify","AppConnector","request","type","url","dataType","data","done","showModalWindow","fail","triggerSendSms","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","callback","params","validationEngineOptions","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","selectElement","getRelatedModuleContainer","App","Fields","Picklist","changeSelectElementView","transferOwner","val","relatedModules","recordId","module","action","record","transferOwnerId","related_modules","success","hideModalWindow","title","vtranslate","text","oldvalue","element","find","removeAttr","trigger","Fieldname","closest","html","showNotify","reloadRelatedList","length","page","loadRelatedList","runRecordChanger","id","mode","location","reload","jqXHR","textStatus","showWorkflowTriggerView","$","popover","treeInstance","jstree","core","parse","themes","name","responsive","icons","checkbox","three_state","plugins","on","tasks","selected","each","index","treeElement","record_id","parent","Object","keys","user","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","preventDefault","progressIndicatorElement","progressIndicator","currentTarget","registerEmailEvents","registerBlockStatusCheckOnLoad","registerCollapsiblePanels","container","getForm","widgetList","widget","is","loadWidget","validationEngineOptionsForRecord","registerRelatedModulesRecordCount","widgetContainer","contentContainer","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","urlParams","queryParameters","split","keyValueMap","queryParamComponents","aDeferred","Deferred","async","showSelect2ElementView","registerModal","Components","DropFile","register","relatedController","Vtiger_RelatedList_Js","getInstanceByUrl","getSelectedTab","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","chart","widgetInstance","Vtiger_Widget_Js","loadChart","resolve","reject","promise","registerWidgetProductAndServices","recordsToAdd","src_record","related_module","showRecordsList","_","setSelectEvent","i","reloadTabContent","load","cacheKey","relatedRecordCacheID","moduleCacheGet","newActive","removeClass","addClass","controlBox","prev","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","getUpdateFieldsArray","getTabByLabel","tabLabel","tabs","getTabs","targetTab","tab","labelKey","getTabByModule","moduleName","relationId","selectModuleTab","relatedTabContainer","getTabContainer","moduleTab","deSelectAllrelatedTabs","markTabAsSelected","tabElement","tabContainer","topTabs","dropdownMenuTabs","iteration","className","filter","get","getRelatedModuleName","getRelatedListCurrentPageNum","hideButtonAction","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","commentcontent","related_to","addRelationBetweenRecords","result","_recordId","errorThrown","saveComment","errorMsg","closestCommentBlock","commentContent","commentInfoHeader","getCommentUI","getCommentBlock","clonedCommentBlock","clone","getEditCommentBlock","Text","Completions","emojiPanel","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","progressInstance","position","blockInfo","enabled","SendSmsUrl","serializeFormData","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","registerEmailFieldClickEvent","stopPropagation","registerPhoneFieldClickEvent","registerUrlFieldClickEvent","registerRelatedRowClickEvent","targetElement","target","children","elem","recordUrl","href","relatedListInstance","registerEventForRelatedList","self","n","block","reloadDetailViewBlock","parents","blockContent","isEmpty","response","registerPostLoadEvents","registerListEvents","blocks","currentBlock","dynamicAttr","headerAnimationElement","not","bodyContents","blockId","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","detailViewValue","editElement","actionElement","fieldElement","prop","fieldName","elementTarget","elementName","inputmask","focus","saveHandler","toStr","v","previousValue","ajaxEditNewValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","off","preFieldSaveEvent","Event","fieldValue","isDefaultPrevented","Vtiger_Edit_Js","saveAjax","getCustomFieldNameValueMap","postSaveRecordDetails","displayValue","display_value","prevDisplayValue","prev_display_value","label","textTrusted","urlObject","convertUrlToObject","replace","old","new","selectedTabElement","registerSummaryViewContainerEvents","registerEventForPicklistDependencySetup","updateRecordsPDFTemplateBtn","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","fullFormUrl","QuickCreateParams","preQuickCreateSave","taskGoToFullFormButton","eventsGoToFullFormButton","taskFullFormUrl","eventsFullFormUrl","callbackFunction","getFiltersDataAndLoad","assign","QuickCreate","createRecord","getEndDate","startDate","dateTab","date","newDate","setDate","getDate","getStringDate","getSingleEventType","modDay","dateStartEl","dateStartVal","dateStartFormat","validDateFromat","Vtiger_Helper_Js","convertToDateString","map","extend","start","end","mapping","events","testDate","isEmptyObject","ev","indexOf","append","summaryWidgetContainer","referenceModuleName","quickcreateUrl","quickCreateParams","autoCompleteFields","relatedParams","postQuickCreateSave","postSummaryWidgetAddRecord","loadModuleSummary","quickCreate","progress","showModal","restrictionsField","src_module","multi_select","key","modal","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmationBox","message","d","showMessage","getFiltersData","m","urlNewParams","item","selectedFilter","fieldlable","additionalParams","paramName","paramValue","registerChangeFilterForWidget","siblings","summaryViewContainer","updatesWidget","remove","noCache","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","closeDescription","add","Promise","then","errorExists","addClickOutSideEvent","activitytype","show","Editor","toolbar","hide","one","registerFastEditingFields","relatedModule","relatedModuleRecordId","addRelations","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","elementToBlock","showHorizontalTopScrollBar","callBack","registerBasicEvents","notifyPostAjaxReady","picklistDependcyElemnt","picklistDependencyMapping","sourcePicklists","sourcePickListNames","join","sourcePickListElements","sourcePicklistname","configuredDependencyObject","selectedValue","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","targetOptions","optionSelector","picklistValue","targetPickListSelectedValue","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","listViewEntriesCount","parseInt","fieldNameValueMap","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","always","registerHelpInfo","showPopoverElementView","moreList","relationContainer","tab_label","numberOfRecords","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","commentBlock","noCommentsMsgContainer","childComments","currentChildCommentsCount","responsedata","prependTo","modifiedTime","commentInfoContent","commentEditStatus","commentReason","registerCommentEvents","editCommentBlock","error","err","errorLog","recentCommentsTab","hierarchy","which","submitSearchForm","searchTextDom","limit","isWidget","search_key","is_widget","eq","widgetDataContainer","registerMailPreviewWidget","row","mailBody","mailTeaser","toggleClass","loadMailPreviewWidget","typeValue","click","registerMapsEvents","mapView","OpenStreetMap_Map_Js","registerDetailView","summaryView","css","showProgressConfirmation","picklistName","registerProgress","loadChat","chatVue","chatContainer","height","document","offset","top","outerHeight","ChatRecordRoomVueComponent","mount","el","registerChat","ready","registerBlockAnimationEvent","registerSubProducts","DateTime","MultiImage","Password","MultiAttachment","registerEventForClockPicker","currentPageNum","requestedPage","relatedLabel","editViewObj","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","commentid","commentLoad","containerTable","currentPage","nextPage","types","pageLimit","newChange","switchBtn","dataContainer","recentDocumentsTab","records","newRecords","widgetContentBlock","variableName","valueOn","valueOff","registerIframeEvents","countElement","totalElement","stats","switchBtnParent","removeTextNode","refreshCommentContainer","commentContainer","btnToolbar","updateWindowHeight","currentHeight","frame","loadSubProducts","parentRow","addSubProducts","subProductsContainer","productText","detailViewContainer","panels","storageName","Quasar","LocalStorage","has","setPanels","collapse","panelsStorage","dataset","storageId","set","updatePanelsStorage","storageKey","getItem","registerSendPdfFromPdfViewer","selectedPdfTemplate","open","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","QuickEdit","removeFromUrl","registerEvents","ActivityNotifier"],"mappings":"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"}